FUNCTION "OTEBW_TEST_CLT_CD"."CLT.CD_BASE::ELPASS" ( )
RETURNS TABLE(
MANDT NVARCHAR(000003),OBJKEY NVARCHAR(000070),OBJTYPE NVARCHAR(000010),LOGLPRELNO NVARCHAR(000018),BIS NVARCHAR(000008),AB NVARCHAR(000008),LOADPROF NVARCHAR(000018),PROFILE NVARCHAR(000018),PROFROLE NVARCHAR(000004),ARCH_AB NVARCHAR(000008),ARCH_BIS NVARCHAR(000008),ERDAT NVARCHAR(000008),ERNAM NVARCHAR(000012),AEDAT NVARCHAR(000008),AENAM NVARCHAR(000012),TT_FROM TIMESTAMP,TT_TO TIMESTAMP)
LANGUAGE SQLSCRIPT SQL SECURITY INVOKER AS BEGIN
RETURN SELECT MANDT,OBJKEY,OBJTYPE,LOGLPRELNO,to_date(nullif(BIS,'00000000'),'YYYYMMDD') as BIS,to_date(nullif(AB,'00000000'),'YYYYMMDD') as AB,LOADPROF,PROFILE,PROFROLE,to_date(nullif(ARCH_AB,'00000000'),'YYYYMMDD') as ARCH_AB,to_date(nullif(ARCH_BIS,'00000000'),'YYYYMMDD') as ARCH_BIS,to_date(nullif(ERDAT,'00000000'),'YYYYMMDD') as ERDAT,ERNAM,to_date(nullif(AEDAT,'00000000'),'YYYYMMDD') as AEDAT,AENAM,TST AS TT_FROM, "OTEBW_TEST_CLT_CD"."CLT.CD_BASE::ELPASS_TRANSF_TT_TO"(MANDT,OBJKEY,OBJTYPE,LOGLPRELNO,BIS,TST) as TT_TO from "OTEBW_TEST_CLT_CD"."ELPASS_CHG" where (not CLT_ACTION='D');
END;