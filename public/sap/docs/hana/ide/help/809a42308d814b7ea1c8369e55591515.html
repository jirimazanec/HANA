<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta http-equiv="cache-control" content="max-age=0"/>
<meta http-equiv="cache-control" content="no-cache"/>
<meta http-equiv="expires" content="0"/>
<meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT"/>
<meta http-equiv="pragma" content="no-cache"/>
<meta name="abstract" content="Associations define relationships between entities."/>
<meta name="description" content="Associations define relationships between entities."/>

<link rel="stylesheet" type="text/css" href="css/documentation.css?x=7609521573493584"/>
<title>CDS Association Syntax Options</title>
<!--[if lte IE 7]><style>
      .codeblock{
          overflow:visible;
      }</style><![endif]-->
<script type="text/javascript"><!-- 
        var loops = 10; 
        function GetLoio() { return "loio809a42308d814b7ea1c8369e55591515";
        } 
        function Sync() { if (parent.SAP_TOC && parent.SAP_TOC.gMenu) {parent.SAP_TOC.gMenu.SelectEntry(GetLoio()); } 
        else if (parent != self && loops-- > 0) { window.setTimeout( "Sync()",500 ); } } 
        Sync(); 

 function hijackLink (elem) { if(elem.href.indexOf('#')
          > 0 ){ var hr = elem.href.substr(0,
          elem.href.indexOf('#')); var anc = elem.href.substr(elem.href.indexOf('#'),
          elem.href.length); var dum = Math.random(); parent.window.location = hr + "?x=" + dum +
          anc; } } //-->
</script>
</head>
<body class="sap_bluecrystal" id="loio809a42308d814b7ea1c8369e55591515">
<div id="wrapper"><div id="container">

	<h1 class="title topictitle1">CDS Association Syntax Options</h1>

	
	<div class="body refbody"><p class="shortdesc">Associations define relationships between entities. </p>

		<div class="example"><h2 class="exampletitle example_title">Example: </h2><div class="title authorexampletitle">Managed Associations</div>
			
			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">Association [ <a class="xref nopagenumber" href="default.html?809a42308d814b7ea1c8369e55591515.html#loio809a42308d814b7ea1c8369e55591515__section_jl1_nkk_fn" target="_top"><var class="keyword varname">&lt;cardinality&gt;</var></a> ]  to <a class="xref nopagenumber" href="default.html?809a42308d814b7ea1c8369e55591515.html#loio809a42308d814b7ea1c8369e55591515__section_kkv_pkk_fn" target="_top"><var class="keyword varname">&lt;targetEntity&gt;</var></a> [ <a class="xref nopagenumber" href="default.html?809a42308d814b7ea1c8369e55591515.html#loio809a42308d814b7ea1c8369e55591515__section_rjb_qkk_fn" target="_top"><var class="keyword varname">&lt;forwardLink&gt;</var></a> ]</pre></div>

		</div>

		<div class="example"><h2 class="exampletitle example_title">Example: </h2><div class="title authorexampletitle">Unmanaged Associations</div>
			
			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">Association [ <a class="xref nopagenumber" href="default.html?809a42308d814b7ea1c8369e55591515.html#loio809a42308d814b7ea1c8369e55591515__section_jl1_nkk_fn" target="_top"><var class="keyword varname">&lt;cardinality&gt;</var></a> ]  to <a class="xref nopagenumber" href="default.html?809a42308d814b7ea1c8369e55591515.html#loio809a42308d814b7ea1c8369e55591515__section_kkv_pkk_fn" target="_top"><var class="keyword varname">&lt;targetEntity&gt;</var></a> <a class="xref nopagenumber" href="default.html?809a42308d814b7ea1c8369e55591515.html#loio809a42308d814b7ea1c8369e55591515__section_fcp_2c2_kp" target="_top"><var class="keyword varname">&lt;unmanagedJoin&gt;</var></a></pre></div>

		</div>

		<div class="section"><div class="section_title">Overview</div><div type="Overview">
			
			<p class="p">Associations are specified by adding an element to a source entity with an
				association <span class="ph emphasis emphasis">type</span> that points to a target entity, complemented
				by optional information defining cardinality and which keys to use. </p>

			<div class="note note"><span class="notetitle">Note</span> CDS supports both managed and unmanaged associations.</div>

			<p class="p"><span class="ph pname">SAP HANA</span> Extended Application Services (SAP HANA XS) enables you to use
				associations in the definition of a CDS entity or a CDS view. When defining an
				association, bear in mind the following points: </p>

			<ul class="ul" id="loio809a42308d814b7ea1c8369e55591515__ul_brc_sj4_xl">
				<li class="li"><a class="xref" href="default.html?809a42308d814b7ea1c8369e55591515.html#loio809a42308d814b7ea1c8369e55591515__section_jl1_nkk_fn" target="_top"><var class="keyword varname">&lt;Cardinality&gt;</var></a>
					<p class="p">The relationship between the source and target in the association, for
						example, one-to-one, one-to-many, many-to-one</p>
</li>

				<li class="li"><a class="xref" href="default.html?809a42308d814b7ea1c8369e55591515.html#loio809a42308d814b7ea1c8369e55591515__section_kkv_pkk_fn" target="_top"><var class="keyword varname">&lt;targetEntity&gt;</var></a>
					<p class="p">The target entity for the association</p>
</li>

				<li class="li"><a class="xref" href="default.html?809a42308d814b7ea1c8369e55591515.html#loio809a42308d814b7ea1c8369e55591515__section_rjb_qkk_fn" target="_top"><var class="keyword varname">&lt;forwardLink&gt;</var></a>
					<p class="p">The foreign keys to use in a managed association, for example, element names
						in the target entity </p>
</li>

				<li class="li"><a class="xref" href="default.html?809a42308d814b7ea1c8369e55591515.html#loio809a42308d814b7ea1c8369e55591515__section_fcp_2c2_kp" target="_top"><var class="keyword varname">&lt;unmanagedJoin&gt;</var></a><p class="p"><span class="ph emphasis emphasis">Unmanaged</span>
						associations only; the <samp class="ph codeph">ON</samp> condition specifies the elements
						of the source and target elements and entities to use in the
					association</p>
</li>

			</ul>

		</div></div>

		<div class="section" id="loio809a42308d814b7ea1c8369e55591515__section_jl1_nkk_fn"><div class="section_title">Association Cardinality</div><div type="Association Cardinality">
			
			<div class="p">When using an association to define a relationship between entities in a CDS view;
				you use the <span class="ph emphasis emphasis">cardinality</span> to specify the type of relation, for
					example:<ul class="ul" id="loio809a42308d814b7ea1c8369e55591515__ul_i1z_tlk_fn">
					<li class="li">one-to-one (to-one)</li>

					<li class="li">one-to-many (to-n)</li>

				</ul>
 The relationship is with respect to both the source and the target of the
				association. The following code example illustrates the syntax required to define
				the cardinality of an association in a CDS view:</div>

			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">[  [ ( maxs | * ) , ]                // source cardinality
   [ min .. ] ( max | * )            // target cardinality
]
</pre></div>

			<p class="p">In the most simple form, only the target cardinality is stated using the syntax
					<samp class="ph codeph">[ min .. max ]</samp>, where <samp class="ph codeph">max=*</samp> denotes infinity.
				Note that <samp class="ph codeph">[]</samp> is short for <samp class="ph codeph">[ 0..* ]</samp>. If no
				cardinality is specified, the default cardinality setting <samp class="ph codeph">[ 0..1 ]</samp>
				is assumed. It is possible to specify the maximum cardinality of the source of the
				association in the form <samp class="ph codeph">[ maxs, min .. max]</samp>, where <samp class="ph codeph">maxs =
					*</samp> denotes infinity.</p>

			<p class="p">The following examples illustrate how to express cardinality in an association
				definition:</p>

			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">namespace samples;
@Schema: 'MYSCHEMA'              // XS classic *only* 
context AssociationCardinality {
    entity Associations {
        // To-one associations
        assoc1 : Association[0..1]    to target; 
        assoc2 : Association          to target; 
        assoc3 : Association[1]       to target; 
        assoc4 : Association[1..1]    to target; // association has one target instance
        // To-many associations
        assoc5 : Association[0..*]    to target{id1};
        assoc6 : Association[]        to target{id1}; // as assoc4, [] is short for [0..*]
        assoc7 : Association[2..7]    to target{id1}; // any numbers are possible; user provides
        assoc8 : Association[1, 0..*] to target{id1}; // additional info. about source cardinality
    };

    // Required to make the example above work
    entity target {
        key id1 : Integer;
        key id2 : Integer;
    };
};</pre></div>

			<p class="p">The following table describes the various cardinality expressions illustrated in the
				example above:</p>

			
<div class="table-wrapper tablenoborder"><table summary="" id="loio809a42308d814b7ea1c8369e55591515__table_vfx_cqk_fn" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap">Table 1: Association Cardinality Syntax Examples</span></caption>
<colgroup><col width="17.6678445229682%"/><col width="17.6678445229682%"/><col width="64.66431095406361%"/></colgroup>

					
					
					
					<thead class="thead" align="left">
						<tr class="row">
							<th class="entry" valign="top" width="17.6678445229682%" id="d2206185e201">Association</th>

							<th class="entry" valign="top" width="17.6678445229682%" id="d2206185e204">Cardinality</th>

							<th class="entry" valign="top" width="64.66431095406361%" id="d2206185e207">Explanation</th>

						</tr>

					</thead>

					<tbody class="tbody">
						<tr class="row">
							<td class="entry" valign="top" width="17.6678445229682%" headers="d2206185e201 "><samp class="ph codeph">assoc1</samp></td>

							<td class="entry" valign="top" width="17.6678445229682%" headers="d2206185e204 ">[0..1]</td>

							<td class="entry" valign="top" width="64.66431095406361%" headers="d2206185e207 ">The association has no or one target instance</td>

						</tr>

						<tr class="row">
							<td class="entry" valign="top" width="17.6678445229682%" headers="d2206185e201 "><samp class="ph codeph">assoc2</samp></td>

							<td class="entry" valign="top" width="17.6678445229682%" headers="d2206185e204 "> </td>

							<td class="entry" valign="top" width="64.66431095406361%" headers="d2206185e207 ">Like <samp class="ph codeph">assoc1</samp>, this association has no or one target instance and uses
								the default [0..1]</td>

						</tr>

						<tr class="row">
							<td class="entry" valign="top" width="17.6678445229682%" headers="d2206185e201 "><samp class="ph codeph">assoc3</samp></td>

							<td class="entry" valign="top" width="17.6678445229682%" headers="d2206185e204 ">[1]</td>

							<td class="entry" valign="top" width="64.66431095406361%" headers="d2206185e207 ">Like <samp class="ph codeph">assoc1</samp>, this association has no or one target instance; the
								default for min is 0</td>

						</tr>

						<tr class="row">
							<td class="entry" valign="top" width="17.6678445229682%" headers="d2206185e201 "><samp class="ph codeph">assoc4</samp></td>

							<td class="entry" valign="top" width="17.6678445229682%" headers="d2206185e204 ">[1..1]</td>

							<td class="entry" valign="top" width="64.66431095406361%" headers="d2206185e207 ">The association has one target instance</td>

						</tr>

						<tr class="row">
							<td class="entry" valign="top" width="17.6678445229682%" headers="d2206185e201 "><samp class="ph codeph">assoc5</samp></td>

							<td class="entry" valign="top" width="17.6678445229682%" headers="d2206185e204 ">[0..*]</td>

							<td class="entry" valign="top" width="64.66431095406361%" headers="d2206185e207 ">The association has no, one, or multiple target instances</td>

						</tr>

						<tr class="row">
							<td class="entry" valign="top" width="17.6678445229682%" headers="d2206185e201 "><samp class="ph codeph">assoc6</samp></td>

							<td class="entry" valign="top" width="17.6678445229682%" headers="d2206185e204 ">[]</td>

							<td class="entry" valign="top" width="64.66431095406361%" headers="d2206185e207 ">Like <samp class="ph codeph">assoc4</samp>, [] is short for [0..*] (the association has no, one, or
								multiple target instances)</td>

						</tr>

						<tr class="row">
							<td class="entry" valign="top" width="17.6678445229682%" headers="d2206185e201 "><samp class="ph codeph">assoc7</samp></td>

							<td class="entry" valign="top" width="17.6678445229682%" headers="d2206185e204 ">[2..7]</td>

							<td class="entry" valign="top" width="64.66431095406361%" headers="d2206185e207 ">Any numbers are possible; the user provides</td>

						</tr>

						<tr class="row">
							<td class="entry" valign="top" width="17.6678445229682%" headers="d2206185e201 "><samp class="ph codeph">assoc8</samp></td>

							<td class="entry" valign="top" width="17.6678445229682%" headers="d2206185e204 ">[1, 0..*]</td>

							<td class="entry" valign="top" width="64.66431095406361%" headers="d2206185e207 ">The association has no, one, or multiple target instances and includes additional
								information about the source cardinality</td>

						</tr>

					</tbody>

				</table>
</div>

			<p class="p">When an infix filter effectively reduces the cardinality of a <span class="q">“to-N”</span> association
				to <span class="q">“to-1”</span>, this can be expressed explicitly in the filter, for example:</p>

			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">assoc[1: <var class="keyword varname">&lt;cond&gt;</var> ]</pre></div>

			<p class="p">Specifying the cardinality in the filter in this way enables you to use the
				association in the <samp class="ph codeph">WHERE</samp> clause, where <span class="q">“to-N”</span> associations are
				not normally allowed.</p>

			<div class="note sap-samplecodeblock samplecode"><span class="samplecodetitle">Sample Code</span> 
				<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">namespace samples;
@Schema: 'MYSCHEMA'             // XS classic *only*
context CardinalityByInfixFilter {
    entity Person {
        key id : Integer;
        name : String(100);
        address : Association[*] to Address on address.personId = id;
    };
    entity Address {
        key id : Integer;
        personId : Integer;
        type : String(20); // home, business, vacation, ...
        street : String(100);
        city : String(100);
    };
    view V as select from Person {
        name
    } where address[1: type='home'].city = 'Accra';
};
</pre></div>

			</div>

		</div></div>

		<div class="section" id="loio809a42308d814b7ea1c8369e55591515__section_kkv_pkk_fn"><div class="section_title">Association Target</div><div type="Association Target">
			
			<p class="p">You use the <samp class="ph codeph">to</samp> keyword in a CDS view definition to specify the
				target entity in an association, for example, the name of an entity defined in a CDS
				document. A qualified entity name is expected that refers to an existing entity. A
				target entity specification is mandatory; a default value is
					<span class="ph emphasis emphasis">not</span> assumed if no target entity is specified in an
				association relationship.</p>

			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">Association[ <var class="keyword varname">&lt;cardinality&gt;</var> ]  to <var class="keyword varname">&lt;targetEntity&gt;</var> [ <var class="keyword varname">&lt;forwardLink&gt;</var> ]</pre></div>

			<p class="p">The target entity <samp class="ph codeph">Address</samp> specified as the target entity of an
				association could be expressed as illustrated the following examples:</p>

			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">address1 : Association to Address;
address2 : Association to Address { id };
address3 : Association[1] to Address { zipCode, street, country };
</pre></div>

		</div></div>

		<div class="section" id="loio809a42308d814b7ea1c8369e55591515__section_rjb_qkk_fn"><div class="section_title">Association Keys</div><div type="Association Keys">
			
			<p class="p">In the relational model, associations are mapped to foreign-key relationships. For
					<span class="ph emphasis emphasis">managed</span> associations, the relation between source and
				target entity is defined by specifying a set of elements of the target entity that
				are used as a foreign key, as expressed in the <samp class="ph codeph">forwardLink</samp> element
				of the following code example:</p>

			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">Association[ <var class="keyword varname">&lt;cardinality&gt;</var> ]  to <var class="keyword varname">&lt;targetEntity&gt;</var> [ <var class="keyword varname">&lt;forwardLink&gt;</var> ]</pre></div>

			<p class="p">The <samp class="ph codeph">forwardLink</samp> element of the association could be expressed as
				follows:</p>

			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint"><var class="keyword varname">&lt;forwardLink&gt;</var>  =  { <var class="keyword varname">&lt;foreignKeys&gt;</var> }
<var class="keyword varname">&lt;foreignKeys&gt;</var>  = <var class="keyword varname">&lt;targetKeyElement&gt;</var> [ AS <var class="keyword varname">&lt;alias&gt;</var> ] [ , <var class="keyword varname">&lt;foreignKeys&gt;</var> ]
<var class="keyword varname">&lt;targetKeyElement&gt;</var> = <var class="keyword varname">&lt;elementName&gt;</var> ( . <var class="keyword varname">&lt;elementName&gt;</var> )*
</pre></div>

			<p class="p">If no foreign keys are specified explicitly, the elements of the target entity’s designated
				primary key are used. Elements of the target entity that reside inside substructures
				can be addressed by means of the respective path. If the chosen elements do not form
				a unique key of the target entity, the association has cardinality to-many. The
				following examples show how to express foreign keys in an association. </p>

			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">entity Person
{
  key id : Integer;
  // address1,2,3 are to-one associations
  address1 : Association to Address;
  address2 : Association to Address { id };
  address3 : Association[1] to Address { zipCode, street, country };

  // address4,5,6 are to-many associations
  address4 : Association[0..*] to Address { zipCode };
  address5 : Association[*] to Address { street.name };
  address6 : Association[*] to Address { street.name AS streetName,
                                          country.name AS countryName };
};
</pre></div>

			
<div class="table-wrapper tablenoborder"><table summary="" id="loio809a42308d814b7ea1c8369e55591515__table_wtc_hpk_fn" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap">Table 2: Association Syntax Options</span></caption>
<colgroup><col width="17.006802721088437%"/><col width="17.006802721088437%"/><col width="65.98639455782313%"/></colgroup>

					
					
					
					<thead class="thead" align="left">
						<tr class="row">
							<th class="entry" valign="top" width="17.006802721088434%" id="d2206185e485">Association</th>

							<th class="entry" valign="top" width="17.006802721088434%" id="d2206185e488">Keys</th>

							<th class="entry" valign="top" width="65.98639455782312%" id="d2206185e491">Explanation</th>

						</tr>

					</thead>

					<tbody class="tbody">
						<tr class="row">
							<td class="entry" valign="top" width="17.006802721088434%" headers="d2206185e485 "><samp class="ph codeph">address1</samp></td>

							<td class="entry" valign="top" width="17.006802721088434%" headers="d2206185e488 "> </td>

							<td class="entry" valign="top" width="65.98639455782312%" headers="d2206185e491 ">No foreign keys are specified: the target entity's primary key
								(the element <samp class="ph codeph">id</samp>) is used as foreign key. </td>

						</tr>

						<tr class="row">
							<td class="entry" valign="top" width="17.006802721088434%" headers="d2206185e485 "><samp class="ph codeph">address2</samp></td>

							<td class="entry" valign="top" width="17.006802721088434%" headers="d2206185e488 "><samp class="ph codeph">{ id }</samp></td>

							<td class="entry" valign="top" width="65.98639455782312%" headers="d2206185e491 ">Explicitly specifies the foreign key (the element
									<samp class="ph codeph">id</samp>); this definition is identical to
									<samp class="ph codeph">address1</samp>.</td>

						</tr>

						<tr class="row">
							<td class="entry" valign="top" width="17.006802721088434%" headers="d2206185e485 "><samp class="ph codeph">address3</samp></td>

							<td class="entry" valign="top" width="17.006802721088434%" headers="d2206185e488 "><samp class="ph codeph">{ zipCode, street, country }</samp></td>

							<td class="entry" valign="top" width="65.98639455782312%" headers="d2206185e491 "> The foreign key elements to be used for the association are
								explicitly specified, namely: <samp class="ph codeph">zipcode</samp> and the
								structured elements <samp class="ph codeph">street</samp> and
									<samp class="ph codeph">country</samp>.</td>

						</tr>

						<tr class="row">
							<td class="entry" valign="top" width="17.006802721088434%" headers="d2206185e485 "><samp class="ph codeph">address4</samp></td>

							<td class="entry" valign="top" width="17.006802721088434%" headers="d2206185e488 "><samp class="ph codeph">{ zipCode }</samp></td>

							<td class="entry" valign="top" width="65.98639455782312%" headers="d2206185e491 "> Uses only <samp class="ph codeph">zipcode</samp> as the foreign key. Since
									<samp class="ph codeph">zipcode</samp> is not a unique key for entity
									<samp class="ph codeph">Address</samp>, this association has cardinality
									<span class="q">“to-many”</span>.</td>

						</tr>

						<tr class="row">
							<td class="entry" valign="top" width="17.006802721088434%" headers="d2206185e485 "><samp class="ph codeph">address5</samp></td>

							<td class="entry" valign="top" width="17.006802721088434%" headers="d2206185e488 "><samp class="ph codeph">{ street.name }</samp></td>

							<td class="entry" valign="top" width="65.98639455782312%" headers="d2206185e491 "> Uses the sub-element <samp class="ph codeph">name</samp> of the structured element
									<samp class="ph codeph">street</samp> as a foreign key. This is not a unique
								key and, as a result, <samp class="ph codeph">address4</samp> has cardinality
									<span class="q">“to-many”</span>.</td>

						</tr>

						<tr class="row">
							<td class="entry" valign="top" width="17.006802721088434%" headers="d2206185e485 "><samp class="ph codeph">address6</samp></td>

							<td class="entry" valign="top" width="17.006802721088434%" headers="d2206185e488 "><samp class="ph codeph">{ street.name AS streetName, country.name AS countryName
									}</samp></td>

							<td class="entry" valign="top" width="65.98639455782312%" headers="d2206185e491 "> Uses the sub-element <samp class="ph codeph">name</samp> of both the
								structured elements <samp class="ph codeph">street</samp> and
									<samp class="ph codeph">country</samp> as foreign key fields. The names of the
								foreign key fields must be unique, so an alias is required here. The
								foreign key is not unique, so <samp class="ph codeph">address6</samp> is a
									<span class="q">“to-many”</span> association.</td>

						</tr>

					</tbody>

				</table>
</div>

			<p class="p">You can now use foreign keys of managed associations in the definition of other
				associations. In the following example, the compiler recognizes that the field
					<samp class="ph codeph">toCountry.cid</samp> is part of the foreign key of the association
					<samp class="ph codeph">toLocation</samp> and, as a result, physically present in the entity
					<samp class="ph codeph">Company</samp>.</p>

			<div class="note sap-samplecodeblock samplecode"><span class="samplecodetitle">Sample Code</span> 
				<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">namespace samples;
@Schema: 'MYSCHEMA'         // XS classic *only*
context AssociationKeys {
    entity Country {
        key c_id : String(3);
        // &lt;...&gt;
    };
    entity Region {
        key r_id : Integer;
        key toCountry : Association[1] to Country { c_id };
        // &lt;...&gt;
    };
    entity Company {
        key id : Integer;
        toLocation : Association[1] to Region { r_id, toCountry.c_id };
        // &lt;...&gt;
    };
};</pre></div>

			</div>

		</div></div>

		<div class="section" id="loio809a42308d814b7ea1c8369e55591515__section_fcp_2c2_kp"><div class="section_title">Unmanaged Associations</div><div type="Unmanaged Associations"><p class="p"><span class="ph emphasis emphasis">Unmanaged</span> associations are based on
				existing elements of the source and target entity; no fields are generated. In the
					<samp class="ph codeph">ON</samp> condition, only elements of the source or the target entity
				can be used; it is not possible to use other associations. The <samp class="ph codeph">ON</samp>
				condition may contain any kind of expression - all expressions supported in views
				can also be used in the <samp class="ph codeph">ON</samp> condition of an unmanaged association.
				</p>
<div class="note note"><span class="notetitle">Note</span> The names in the <samp class="ph codeph">ON</samp> condition are resolved in the scope
				of the source entity; elements of the target entity are accessed through the
				association itself .</div>
<p class="p">In the following example, the association
					<samp class="ph codeph">inhabitants</samp> relates the element <samp class="ph codeph">id</samp> of the
				source entity <samp class="ph codeph">Room</samp> with the element <samp class="ph codeph">officeId</samp> in
				the target entity <samp class="ph codeph">Employee</samp>. The target element
					<samp class="ph codeph">officeId</samp> is accessed through the name of the association
				itself.</p>
<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">namespace samples;
@Schema: 'MYSCHEMA'              // XS classic *only*
context UnmanagedAssociations {
    entity Employee {
        key id : Integer;
        officeId : Integer;
        // &lt;...&gt;
    };
    entity Room {
        key id : Integer;
        inhabitants : Association[*] to Employee on inhabitants.officeId = id;
        // &lt;...&gt;
    };

    entity Thing {
        key id : Integer;
        parentId : Integer;
        parent : Association[1] to Thing on parent.id = parentId;
        children : Association[*] to Thing on children.parentId = id;
        // &lt;...&gt;
    };
};</pre></div>
<p class="p">The
				following example defines two related <span class="ph emphasis emphasis">unmanaged</span>
				associations:</p>
<ul class="ul" id="loio809a42308d814b7ea1c8369e55591515__ul_eqy_c22_kp">
				<li class="li"><samp class="ph codeph">parent</samp><p class="p">The unmanaged association <samp class="ph codeph">parent</samp> uses
						a cardinality of <samp class="ph codeph">[1]</samp> to create a relation between the
						element <samp class="ph codeph">parentId</samp> and the target element
						<samp class="ph codeph">id</samp>. The target element <samp class="ph codeph">id</samp> is accessed
						through the name of the association itself.</p>
</li>

				<li class="li"><samp class="ph codeph">children</samp><p class="p">The unmanaged association <samp class="ph codeph">children</samp>
						creates a relation between the element <samp class="ph codeph">id</samp> and the target
						element <samp class="ph codeph">parentId</samp>. The target element
							<samp class="ph codeph">parentId</samp> is accessed through the name of the
						association itself.</p>
</li>

			</ul>
<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">entity Thing {
  key id   : Integer;
  parentId : Integer;
  parent   : Association[1] to Thing on parent.id = parentId;
  children : Association[*] to Thing on children.parentId = id;
  ...
};
</pre></div>
<div class="sectiondiv subsection" id="subsection_dh3_51z_qt">
				<p class="p subsectiontitle">Constants in Associations</p>

				<p class="p">The usage of constants is no longer restricted to annotation assignments and
					default values for entity elements. With SPS 11, you can use constants in the
							<span class="q">“<samp class="ph codeph">ON</samp>”</span>-condition of unmanaged associations, as
					illustrated in the following example:</p>

				<div class="note sap-samplecodeblock samplecode"><span class="samplecodetitle">Sample Code</span> 
					<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">context MyContext {
  const MyIntConst      : Integer      = 7;
  const MyStringConst   : String(10)   = 'bright';
  const MyDecConst      : Decimal(4,2) = 3.14;
  const MyDateTimeConst : UTCDateTime  = '2015-09-30 14:33'; 

  entity MyEntity {
    key id : Integer;
    a : Integer;
    b : String(100);
    c : Decimal(20,10);
    d : UTCDateTime;
    your : Association[1] to YourEntity on your.a - a &lt; MyIntConst;
  };

  entity YourEntity {
    key id : Integer;
    a : Integer;    
  };

  entity HerEntity {
    key id : Integer;
    t : String(20);
  };

  view MyView as select from MyEntity 
           inner join HerEntity on locate (b, :MyStringConst) &gt; 0

  {
    a + :MyIntConst as x,
    b || ' is ' || :MyStringConst as y,
    c * sin(:MyDecConst) as z    
  } where d &lt; :MyContext.MyDateTimeConst; 
};
</pre></div>

				</div>

			</div></div></div>

	</div>

	<div class="related-links"> 
<div class="relinfo"><div class="relinfotitle ">Related Information</div>
<div><a class="link" href="default.html?86fb54bc8e3c48c29134bbda59b07020.html" target="_top" title="Associations define relationships between entities. You create associations in a CDS entity definition, which is a design-time file in the SAP HANA repository.">Create an Association in CDS</a></div>
<div><a class="link" href="default.html?6fcd6e5883f04de5b618a6d91141afb4.html" target="_top" title="Associations define relationships between entities.">CDS Associations</a></div>
</div>
</div>
</div></div><div class="footer" id="custom-footer">
	<div id="custom-footerSpacer"><hr width="350px" align="left"/></div>
	<a class="copyright" href="copyright.html" target="_blank">Copyright</a><span class="separator"> | </span><a class="disclaimer" href="disclaimer.html" target="_blank">Important Disclaimers and Legal Information</a>
</div>

<SCRIPT LANGUAGE="JavaScript"><!--
 var page_title="CDS Association Syntax Options";

        if (page_title !='' &&
        parent.document.title != null) {
 parent.document.title =
          page_title;
 } 
 var
        anchor = document.getElementById(location.hash.substring(+1)); if (typeof (anchor)
        !='undefined' && anchor !=null){
        var top = anchor.getBoundingClientRect().top; } 
//-->
</SCRIPT>
</body>
</html>