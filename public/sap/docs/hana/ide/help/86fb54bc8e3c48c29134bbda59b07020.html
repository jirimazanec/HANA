<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta http-equiv="cache-control" content="max-age=0"/>
<meta http-equiv="cache-control" content="no-cache"/>
<meta http-equiv="expires" content="0"/>
<meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT"/>
<meta http-equiv="pragma" content="no-cache"/>
<meta name="abstract" content="Associations define relationships between entities. You create associations in a CDS entity definition, which is a design-time file in the SAP HANA repository."/>
<meta name="description" content="Associations define relationships between entities. You create associations in a CDS entity definition, which is a design-time file in the SAP HANA repository."/>

<link rel="stylesheet" type="text/css" href="css/documentation.css?x=11411181119753533"/>
<title>Create an Association in CDS</title>
<!--[if lte IE 7]><style>
      .codeblock{
          overflow:visible;
      }</style><![endif]-->
<script type="text/javascript"><!-- 
        var loops = 10; 
        function GetLoio() { return "loio86fb54bc8e3c48c29134bbda59b07020";
        } 
        function Sync() { if (parent.SAP_TOC && parent.SAP_TOC.gMenu) {parent.SAP_TOC.gMenu.SelectEntry(GetLoio()); } 
        else if (parent != self && loops-- > 0) { window.setTimeout( "Sync()",500 ); } } 
        Sync(); 

 function hijackLink (elem) { if(elem.href.indexOf('#')
          > 0 ){ var hr = elem.href.substr(0,
          elem.href.indexOf('#')); var anc = elem.href.substr(elem.href.indexOf('#'),
          elem.href.length); var dum = Math.random(); parent.window.location = hr + "?x=" + dum +
          anc; } } //-->
</script>
</head>
<body class="sap_bluecrystal" id="loio86fb54bc8e3c48c29134bbda59b07020">
<div id="wrapper"><div id="container">

	<h1 class="title topictitle1">Create an Association in CDS</h1>

	
	<div class="body taskbody"><p class="shortdesc">Associations define relationships between entities. You create associations in a CDS
		entity definition, which is a design-time file in the <span class="ph pname">SAP HANA</span>
		repository.</p>

		<div class="section prereq p"><div class="tasklabel"><h2 class="sectiontitle tasklabel">Prerequisites</h2></div>
			<div class="p">
				<ul class="ul" id="loio86fb54bc8e3c48c29134bbda59b07020__ul_omg_c5b_sp">
					<li class="li">You have created a schema for the CDS catalog objects, for example,
							<span class="ph filepath">MYSCHEMA</span>.</li>

					<li class="li">You have SELECT privileges on the schema so you can see the generated catalog objects.</li>

				</ul>

			</div>

		</div>

		<div class="section context"><div class="tasklabel"><h2 class="sectiontitle tasklabel">Context</h2></div>
			<p class="p"><span class="ph pname">SAP HANA</span> Extended Application Services (<span class="ph pname">SAP HANA</span> XS)
				enables you to use the CDS syntax to create associations between entities. The
				associations are defined as part of the entity definition, which are design-time
				files in the repository. Repository files are transportable. Activating the CDS
				entity creates the corresponding catalog objects in the specified schema. </p>

		</div>
		<div class="ol steps tasklabel"><h2 class="sectiontitle tasklabel">Procedure</h2></div><ol class="ol steps" id="loio86fb54bc8e3c48c29134bbda59b07020__steps_hvb_y3d_4p"><li class="li step stepexpand">
				<span class="ph cmd">Open the <span class="ph pname">SAP HANA</span> Web-based Development Workbench Editor
					tool.</span>
				<div class="itemgroup info">The Editor tool is available on the <span class="ph pname">SAP HANA</span> XS Web server at the following
					URL:
							<span class="ph filepath">http://<var class="keyword varname">&lt;WebServerHost&gt;</var>:80<var class="keyword varname">&lt;SAPHANAinstance&gt;</var>/sap/hana/ide/editor</span></div>
			</li>
<li class="li step stepexpand">
				<span class="ph cmd">Create the CDS entity-definition file which will contain the associations you define.</span>
				<ol type="a" class="ol substeps" id="loio86fb54bc8e3c48c29134bbda59b07020__substeps_b5y_wvx_hp">
					<li class="li substep">
						<span class="ph cmd">In the package structure, select the package where you want to create
							the CDS definition file for the new CDS entity-definition file and from
							the context menu choose <span class="ph menucascade"><img src="images/navstart.gif" alt="Start of the navigation path" title="Start of the navigation path"/> <span class="ph uicontrol">New</span> <img src="images/navstep.gif" alt="Next navigation step" title="Next navigation step"/> <span class="ph uicontrol">File</span> <img src="images/navend.gif" alt="End of the navigation path" title="End of the navigation path"/></span>. </span>
					</li>

					<li class="li substep">
						<span class="ph cmd">Enter the name of the entity-definition file in the <span class="ph uicontrol">File
								Name</span> field, for example,
								<kbd class="ph userinput">MyEntity1.hdbdd</kbd>, and choose
								<span class="ph uicontrol">Create</span>.</span>
					</li>

				</ol>

			</li>
<li class="li step stepexpand">
				<span class="ph cmd">Define the underlying CDS entities and structured types.</span>
				<div class="itemgroup info">Add the code for the entity definitions and structured types to the file, as shown in the
					example below:</div>
				<div class="itemgroup stepxmp">
					<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">namespace com.acme.myapp1;
@Schema : 'MYSCHEMA'
context MyEntity1 {

type StreetAddress {
  name   : String(80);
  number : Integer;
};

type CountryAddress {
  name : String(80);
  code : String(3);
};

entity Address {
  key id  : Integer;
  street  : StreetAddress;
  zipCode : Integer;
  city    : String(80);
  country : CountryAddress;
  type    : String(10); // home, office
}; 
};</pre></div>

				</div>
				<div class="itemgroup info">
					<div class="note note"><span class="notetitle">Note</span> If the schema you specify does not exist, you cannot activate the new CDS
						entity.</div>

				</div>
			</li>
<li class="li step stepexpand">
				<span class="ph cmd">Define a one-to-<span class="ph emphasis emphasis">one</span> association between CDS
					entities.</span>
				<div class="itemgroup info">In the same entity-definition file you edited in the previous step, for example, add the
					code for the one-to-one association between the entity <samp class="ph codeph">Person</samp>
					and the entity<samp class="ph codeph"> Address</samp>. Note that this example does not specify
					cardinality or foreign keys, so the cardinality is set to the default 0..1, and
					the target entity's primary key (the element id) is used as the foreign
					key:</div>
				<div class="itemgroup stepxmp">
					<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">entity Person
{
  key id : Integer; 
  address1 : Association to Address;
};</pre></div>

				</div>
			</li>
<li class="li step stepexpand">
				<span class="ph cmd">Define an association with cardinality one-to-<span class="ph emphasis emphasis">many</span> between
					CDS entities.</span>
				<div class="itemgroup info">Add the code for the one-to-many association between the entity <samp class="ph codeph">Person</samp>
					and the entity <samp class="ph codeph">Address</samp> to the code you added in the previous
					step. Note that this example uses only <samp class="ph codeph">zipCode</samp> as the foreign
					key. Since <samp class="ph codeph">zipCode</samp> is not a unique key for the entity
						<samp class="ph codeph">Address</samp>, this association has cardinality
					"one-to-many":</div>
				<div class="itemgroup stepxmp">
					<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">entity Person
{
  key id : Integer; 
  address1 : Association to Address;
  address4 : Association[0..*] to Address { zipCode };
}</pre></div>

				</div>
			</li>
<li class="li step stepexpand" id="loio86fb54bc8e3c48c29134bbda59b07020__step_N100B1_N10026_N1001A_N10001">
				<span class="ph cmd">Save the CDS entity-definition file containing the new associations. </span>
			</li>
</ol>

	</div>

	<div class="related-links"> 
<div class="relinfo"><div class="relinfotitle ">Related Information</div>
<div><a class="link" href="default.html?6fcd6e5883f04de5b618a6d91141afb4.html" target="_top" title="Associations define relationships between entities.">CDS Associations</a></div>
<div><a class="link" href="default.html?809a42308d814b7ea1c8369e55591515.html" target="_top" title="Associations define relationships between entities.">CDS Association Syntax Options</a></div>
</div>
</div>
</div></div><div class="footer" id="custom-footer">
	<div id="custom-footerSpacer"><hr width="350px" align="left"/></div>
	<a class="copyright" href="copyright.html" target="_blank">Copyright</a><span class="separator"> | </span><a class="disclaimer" href="disclaimer.html" target="_blank">Important Disclaimers and Legal Information</a>
</div>

<SCRIPT LANGUAGE="JavaScript"><!--
 var page_title="Create an Association in CDS";

        if (page_title !='' &&
        parent.document.title != null) {
 parent.document.title =
          page_title;
 } 
 var
        anchor = document.getElementById(location.hash.substring(+1)); if (typeof (anchor)
        !='undefined' && anchor !=null){
        var top = anchor.getBoundingClientRect().top; } 
//-->
</SCRIPT>
</body>
</html>