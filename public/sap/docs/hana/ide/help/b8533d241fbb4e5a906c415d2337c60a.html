<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta http-equiv="cache-control" content="max-age=0"/>
<meta http-equiv="cache-control" content="no-cache"/>
<meta http-equiv="expires" content="0"/>
<meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT"/>
<meta http-equiv="pragma" content="no-cache"/>
<meta name="abstract" content="In this tutorial, you use the SAP HANA Web-based Development Workbench Editor to create and debug a server-side JavaScript application. The application displays a browser window where you can enter two values in URL parameters and display the results immediately in the browser window."/>
<meta name="description" content="In this tutorial, you use the SAP HANA Web-based Development Workbench Editor to create and debug a server-side JavaScript application. The application displays a browser window where you can enter two values in URL parameters and display the results immediately in the browser window."/>

<link rel="stylesheet" type="text/css" href="css/documentation.css?x=11936584223019209"/>
<title>Tutorial: Create and Debug a Server-side JavaScript Application</title>
<!--[if lte IE 7]><style>
      .codeblock{
          overflow:visible;
      }</style><![endif]-->
<script type="text/javascript"><!-- 
        var loops = 10; 
        function GetLoio() { return "loiob8533d241fbb4e5a906c415d2337c60a";
        } 
        function Sync() { if (parent.SAP_TOC && parent.SAP_TOC.gMenu) {parent.SAP_TOC.gMenu.SelectEntry(GetLoio()); } 
        else if (parent != self && loops-- > 0) { window.setTimeout( "Sync()",500 ); } } 
        Sync(); 

 function hijackLink (elem) { if(elem.href.indexOf('#')
          > 0 ){ var hr = elem.href.substr(0,
          elem.href.indexOf('#')); var anc = elem.href.substr(elem.href.indexOf('#'),
          elem.href.length); var dum = Math.random(); parent.window.location = hr + "?x=" + dum +
          anc; } } //-->
</script>
</head>
<body class="sap_bluecrystal" id="loiob8533d241fbb4e5a906c415d2337c60a">
<div id="wrapper"><div id="container">

	<h1 class="title topictitle1">Tutorial: Create and Debug a Server-side JavaScript Application</h1>

	
	<div class="body taskbody"><p class="shortdesc">In this tutorial, you use the <span class="ph pname">SAP HANA</span> Web-based Development Workbench
			<span class="ph uicontrol">Editor</span> to create and debug a server-side JavaScript application.
		The application displays a browser window where you can enter two values in URL parameters
		and display the results immediately in the browser window.</p>

		<div class="section prereq p" id="loiob8533d241fbb4e5a906c415d2337c60a__prereq_N10014_N10011_N10001"><div class="tasklabel"><h2 class="sectiontitle tasklabel">Prerequisites</h2></div>
			<ul class="ul" id="loiob8533d241fbb4e5a906c415d2337c60a__ul_fqs_cgn_sk">
				<li class="li">You have the privileges granted by the role
						<span class="ph uicontrol">sap.hana.ide.roles::EditorDeveloper</span>; this role is
					included in the parent role
					<span class="ph uicontrol">sap.hana.ide.roles::Developer</span>.</li>

				<li class="li">You have been assigned the user role <span class="keyword uilabel">sap.hana.xs.debugger::Debugger</span>.</li>

				<li class="li">Your <span class="ph pname">SAP HANA</span> administrator has enabled debugging in the <span class="ph pname">SAP
						HANA</span> system.</li>

			</ul>

		</div>

		<div class="ol steps tasklabel"><h2 class="sectiontitle tasklabel">Procedure</h2></div><ol class="ol steps"><li class="li step stepexpand">
				<span class="ph cmd">Open the <span class="ph pname">SAP HANA</span> Web-based Development Workbench Editor tool.</span>
				<div class="itemgroup info">The Editor tool is available on the <span class="ph pname">SAP HANA</span> XS Web server at the following
					URL:
							<span class="ph filepath">http://<var class="keyword varname">&lt;WebServerHost&gt;</var>:80<var class="keyword varname">&lt;SAPHANAinstance&gt;</var>/sap/hana/ide/editor</span></div>
			</li>
<li class="li step stepexpand" id="loiob8533d241fbb4e5a906c415d2337c60a__step_N10024_N10021_N10011_N10001">
				<span class="ph cmd">From the context menu of the <span class="ph uicontrol">Content</span> folder, choose
						<span class="ph uicontrol">Create Application</span>.</span>
				<div class="itemgroup info">Create the application in a package that does not already contain any application
					descriptors (for example,  <span class="ph filepath">.xsaccess</span> and
						<span class="ph filepath">.xsapp</span> files).</div>
			</li>
<li class="li step stepexpand" id="loiob8533d241fbb4e5a906c415d2337c60a__step_N10039_N10021_N10011_N10001">
				<span class="ph cmd">Choose the <span class="ph uicontrol">Empty application (with XSAccess and  XSApp)</span>
					template.</span>
			</li>
<li class="li step stepexpand" id="loiob8533d241fbb4e5a906c415d2337c60a__step_N10046_N10021_N10011_N10001">
				<span class="ph cmd">Enter a package name, for example, <kbd class="ph userinput">demo.first</kbd>, and choose<span class="ph uicontrol">
						Create</span>.</span>
				<div class="itemgroup stepresult">The system creates the <span class="ph filepath">index.html</span>,
						<span class="ph filepath">.xsaccess</span>, and <span class="ph filepath">.xsapp</span> files, and
					automatically opens a dummy <span class="ph filepath">index.html</span> file.</div>
			</li>
<li class="li step stepexpand" id="loiob8533d241fbb4e5a906c415d2337c60a__step_N1005B_N10021_N10011_N10001">
				<span class="ph cmd">To create a server-side JavaScript demo, do the following:</span>
				<ol type="a" class="ol substeps" id="loiob8533d241fbb4e5a906c415d2337c60a__substeps_wht_sdh_sk">
					<li class="li substep">
						<span class="ph cmd">Delete the automatically created <span class="ph filepath">index.html</span> file.</span>
					</li>

					<li class="li substep">
						<span class="ph cmd">From the context menu of the <span class="ph filepath">demo.first</span> folder, choose <span class="ph menucascade"><img src="images/navstart.gif" alt="Start of the navigation path" title="Start of the navigation path"/> <span class="ph uicontrol">New</span> <img src="images/navstep.gif" alt="Next navigation step" title="Next navigation step"/> <span class="ph uicontrol">File</span> <img src="images/navend.gif" alt="End of the navigation path" title="End of the navigation path"/></span>.</span>
					</li>

					<li class="li substep">
						<span class="ph cmd">Enter a file name with the <span class="ph filepath">.xsjs</span> extension, for example,
								<kbd class="ph userinput">debug.xsjs</kbd>, and choose
								<span class="ph uicontrol">Create</span>. </span>
					</li>

					<li class="li substep">
						<span class="ph cmd">Enter the following server-side JavaScript code into the file and save it:</span>
						
							<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">function doMultiply(var1, var2) {
    return var1 + " X " + var2 + " = " + var1 * var2; 
}

function doAdd(var1, var2) {
    return var1 + " + " + var2 + " = " + (parseInt(var1, 10) + parseInt(var2, 10));
}

$.response.contentType = "application/json";
$.response.status = 200;
$.response.contentType = "text/plain";


try {
    var variable1 = parseInt($.request.parameters.get("var1"),10);
    var variable2 = parseInt($.request.parameters.get("var2"), 10);
    switch ($.request.parameters.get("mode")) {
        case "multiply":
            $.response.setBody((doMultiply(variable1, variable2)));
            break;
        case "add":
            $.response.setBody((doAdd(variable1, variable2)));
            break;
        default:
             $.response.setBody(("Service not supported: " + $.request.parameters.get("mode")));
            break;
    }
} catch (err) {
    $.response.setBody("Failed to execute action: " + err.toString());
}
</pre></div>

						
					</li>

				</ol>

			</li>
<li class="li step stepexpand" id="loiob8533d241fbb4e5a906c415d2337c60a__step_N1008D_N10021_N10011_N10001">
				<span class="ph cmd">Choose <img class="image" id="loiob8533d241fbb4e5a906c415d2337c60a__image_cjk_bxs_hq" src="loioa77ce732d6804f7f83be457fba1a5d62_LowRes.png"/>
						(<span class="ph uicontrol">Run</span>) in the toolbar.</span>
				<div class="itemgroup stepresult">A browser window opens.</div>
			</li>
<li class="li step stepexpand" id="loiob8533d241fbb4e5a906c415d2337c60a__step_N100A6_N10021_N10011_N10001">
				<span class="ph cmd">Edit the URL parameters as follows and press <kbd class="key">Enter</kbd>:</span>
				<ol type="a" class="ol substeps" id="loiob8533d241fbb4e5a906c415d2337c60a__substeps_xtn_pxx_lp">
					<li class="li substep">
						<span class="ph cmd">For multiply, enter
								<kbd class="ph userinput"><var class="keyword varname">&lt;your_file_name&gt;</var>.xsjs?mode=multiply&amp;var1=10&amp;var2=200</kbd>.</span>
					</li>

					<li class="li substep">
						<span class="ph cmd">For addition, enter
								<kbd class="ph userinput"><var class="keyword varname">&lt;your_file_name&gt;</var>.xsjs?mode=add&amp;var1=10&amp;var2=200</kbd>.</span>
					</li>

				</ol>

				<div class="itemgroup stepresult">The system computes the result and displays it in the browser window.</div>
			</li>
<li class="li step stepexpand">
				<span class="ph cmd">Set a breakpoint in front of the code line in the <samp class="ph codeph">doAdd</samp> function by simply
					clicking the line number and then repeat step 7b using, for example:
							<kbd class="ph userinput"><var class="keyword varname">&lt;your_file_name&gt;</var>.xsjs?mode=add&amp;var1=10&amp;var2=200</kbd></span>
				<div class="itemgroup stepresult">During program execution, the <span class="ph uicontrol">Debugger</span> panel opens in the
					editor as soon as a breakpoint is encountered. You can see that the XSJS
					debugger has stopped at the breakpoint you defined and that the values of
						<var class="keyword varname">&lt;var1&gt;</var> and <var class="keyword varname">&lt;var2&gt;</var> are shown in the
						<span class="ph uicontrol">Watch Area</span> pane.</div>
			</li>
<li class="li step stepexpand">
				<span class="ph cmd">Evaluate an expression.</span>
				<ol type="a" class="ol substeps" id="loiob8533d241fbb4e5a906c415d2337c60a__substeps_znr_2sl_4r">
					<li class="li substep">
						<span class="ph cmd">Choose <img class="image" id="loiob8533d241fbb4e5a906c415d2337c60a__image_myz_2sl_4r" src="loio8af54a6de2cd4383bb5e815ee7e3be46_LowRes.png"/>
								(<span class="ph uicontrol">Evaluate expression</span>) on the
								<span class="ph uicontrol">Debugger</span> toolbar.</span>
					</li>

					<li class="li substep">
						<span class="ph cmd">In the <span class="ph uicontrol">Evaluate expression</span> dialog box, enter the expression
								<kbd class="ph userinput">parseInt(var1)+parseInt(var2)</kbd>  and choose
								<span class="ph uicontrol">Evaluate</span>.</span>
					</li>

					<li class="li substep">
						<span class="ph cmd">Check that the result is displayed correctly on the right.</span>
					</li>

				</ol>

			</li>
<li class="li step stepexpand">
				<span class="ph cmd">Change the value assigned to a variable.</span>
				<ol type="a" class="ol substeps" id="loiob8533d241fbb4e5a906c415d2337c60a__substeps_gh3_lsl_4r">
					<li class="li substep">
						<span class="ph cmd">In the same <span class="ph uicontrol">Evaluate expression</span> dialog box,
							change the value assigned to the variable <var class="keyword varname">&lt;var1&gt;</var>, for
							example, to <kbd class="ph userinput">var1=100</kbd>, and choose
								<span class="ph uicontrol">Evaluate</span>.</span>
					</li>

					<li class="li substep">
						<span class="ph cmd">Close the dialog box and choose <img class="image" id="loiob8533d241fbb4e5a906c415d2337c60a__image_bjh_4sl_4r" src="loio8694d3158bb54e02a5d03ab69cb4e42b_LowRes.gif"/> (<span class="ph uicontrol">Resume (F10)</span>) to finish the debugger
							session.</span>
					</li>

					<li class="li substep">
						<span class="ph cmd">Switch to the application window to confirm that the change you made is
							reflected in the displayed result.</span>
					</li>

				</ol>

			</li>
</ol>

	</div>

	<div class="related-links"> 
<div class="relinfo"><div class="relinfotitle ">Related Information</div>
<div><a class="link" href="default.html?a03830bd77cb424ebfee1469e1554878.html" target="_top" title="The SAP HANA Web-based Development Workbench provides an integrated debugger, which makes available the tools you need to debug server-side JavaScript code.">XSJS Debugger</a></div>
</div>
</div>
</div></div><div class="footer" id="custom-footer">
	<div id="custom-footerSpacer"><hr width="350px" align="left"/></div>
	<a class="copyright" href="copyright.html" target="_blank">Copyright</a><span class="separator"> | </span><a class="disclaimer" href="disclaimer.html" target="_blank">Important Disclaimers and Legal Information</a>
</div>

<SCRIPT LANGUAGE="JavaScript"><!--
 var page_title="Tutorial: Create and Debug a Server-side JavaScript Application";

        if (page_title !='' &&
        parent.document.title != null) {
 parent.document.title =
          page_title;
 } 
 var
        anchor = document.getElementById(location.hash.substring(+1)); if (typeof (anchor)
        !='undefined' && anchor !=null){
        var top = anchor.getBoundingClientRect().top; } 
//-->
</SCRIPT>
</body>
</html>