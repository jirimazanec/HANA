<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta http-equiv="cache-control" content="max-age=0"/>
<meta http-equiv="cache-control" content="no-cache"/>
<meta http-equiv="expires" content="0"/>
<meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT"/>
<meta http-equiv="pragma" content="no-cache"/>
<meta name="abstract" content="The SAP HANA REST API includes a File API which uses the basic HTTP methods GET, PUT, and POST to send requests. JSON is used as the default representation format."/>
<meta name="description" content="The SAP HANA REST API includes a File API which uses the basic HTTP methods GET, PUT, and POST to send requests. JSON is used as the default representation format."/>

<link rel="stylesheet" type="text/css" href="css/documentation.css?x=203617712494649"/>
<title>SAP HANA REST File API</title>
<!--[if lte IE 7]><style>
      .codeblock{
          overflow:visible;
      }</style><![endif]-->
<script type="text/javascript"><!-- 
        var loops = 10; 
        function GetLoio() { return "loioc3dd9fded080465cbc194ab7aee650e6";
        } 
        function Sync() { if (parent.SAP_TOC && parent.SAP_TOC.gMenu) {parent.SAP_TOC.gMenu.SelectEntry(GetLoio()); } 
        else if (parent != self && loops-- > 0) { window.setTimeout( "Sync()",500 ); } } 
        Sync(); 

 function hijackLink (elem) { if(elem.href.indexOf('#')
          > 0 ){ var hr = elem.href.substr(0,
          elem.href.indexOf('#')); var anc = elem.href.substr(elem.href.indexOf('#'),
          elem.href.length); var dum = Math.random(); parent.window.location = hr + "?x=" + dum +
          anc; } } //-->
</script>
</head>
<body class="sap_bluecrystal" id="loioc3dd9fded080465cbc194ab7aee650e6">
<div id="wrapper"><div id="container">

	<h1 class="title topictitle1">SAP HANA REST File API</h1>

	
	<div class="body refbody"><p class="shortdesc">The <span class="ph pname">SAP HANA</span> REST API includes a File API which uses the basic HTTP
		methods <samp class="ph codeph">GET</samp>, <samp class="ph codeph">PUT</samp>, and <samp class="ph codeph">POST</samp> to send
		requests. JSON is used as the default representation format. </p>

		<div class="section">
			<p class="p">The File API enables you to perform the following actions:</p>

			
<div class="table-wrapper tablenoborder"><table summary="" id="loioc3dd9fded080465cbc194ab7aee650e6__table_xwy_hz4_zp" class="table" frame="border" border="1" rules="all">
<colgroup><col width="50%"/><col width="50%"/></colgroup>

					
					
					<thead class="thead" align="left">
						<tr class="row">
							<th class="entry" valign="top" width="50%" id="d3290119e45">Action</th>

							<th class="entry" valign="top" width="50%" id="d3290119e48">Description</th>

						</tr>

					</thead>

					<tbody class="tbody">
						<tr class="row">
							<td class="entry" valign="top" width="50%" headers="d3290119e45 "><a class="xref" href="default.html?c3dd9fded080465cbc194ab7aee650e6.html#loioc3dd9fded080465cbc194ab7aee650e6__section_igp_mt4_zp" target="_top">Actions on files</a></td>

							<td class="entry" valign="top" width="50%" headers="d3290119e48 ">Get, set, or change file content and metadata </td>

						</tr>

						<tr class="row">
							<td class="entry" valign="top" width="50%" headers="d3290119e45 "><a class="xref" href="default.html?c3dd9fded080465cbc194ab7aee650e6.html#loioc3dd9fded080465cbc194ab7aee650e6__section_wrw_mt4_zp" target="_top">Actions on directories</a></td>

							<td class="entry" valign="top" width="50%" headers="d3290119e48 ">Get and change directory metadata and list directory
								contents</td>

						</tr>

						<tr class="row">
							<td class="entry" valign="top" width="50%" headers="d3290119e45 "><a class="xref" href="default.html?c3dd9fded080465cbc194ab7aee650e6.html#loioc3dd9fded080465cbc194ab7aee650e6__section_nmf_nt4_zp" target="_top">Create files and directories</a></td>

							<td class="entry" valign="top" width="50%" headers="d3290119e48 ">Create files and directories with or without content</td>

						</tr>

						<tr class="row">
							<td class="entry" valign="top" width="50%" headers="d3290119e45 "><a class="xref" href="default.html?c3dd9fded080465cbc194ab7aee650e6.html#loioc3dd9fded080465cbc194ab7aee650e6__section_unj_nt4_zp" target="_top">Copy and move files</a></td>

							<td class="entry" valign="top" width="50%" headers="d3290119e48 ">Copy, move, or delete files and directories</td>

						</tr>

						<tr class="row">
							<td class="entry" valign="top" width="50%" headers="d3290119e45 "><a class="xref" href="default.html?c3dd9fded080465cbc194ab7aee650e6.html#loioc3dd9fded080465cbc194ab7aee650e6__section_g1q_nt4_zp" target="_top">Mass transfer actions</a></td>

							<td class="entry" valign="top" width="50%" headers="d3290119e48 ">Get multiple files (or file metadata) from a list, repository
								package, or a workspace</td>

						</tr>

						<tr class="row">
							<td class="entry" valign="top" width="50%" headers="d3290119e45 "><a class="xref" href="default.html?c3dd9fded080465cbc194ab7aee650e6.html#loioc3dd9fded080465cbc194ab7aee650e6__section_bl1_fz4_zp" target="_top">Change tracking</a></td>

							<td class="entry" valign="top" width="50%" headers="d3290119e48 ">Activate selectively the latest approved versions of repository
								objects</td>

						</tr>

					</tbody>

				</table>
</div>

		</div>

		<div class="section" id="loioc3dd9fded080465cbc194ab7aee650e6__section_igp_mt4_zp"><div class="section_title">Actions on Files</div><div type="Actions on Files">
			
			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">GET /sap/hana/xs/dt/base/file/MyProj/myfile.txt
Orion-Version: 1.0
If-Match: "358768768767"
SapBackPack: "{'Workspace': 'ABC', 'Version': 12}"</pre></div>

			<p class="p">The REST File API enables you to retrieve the content of a specific file, for
				example, <span class="ph filepath">myfile.txt</span>.</p>

			<div class="note note"><span class="notetitle">Note</span> In the request illustrated in the example above, the parameters
					<samp class="ph codeph">Version</samp>, <samp class="ph codeph">If-Match</samp>, and
					<samp class="ph codeph">SapBackPack</samp> are optional</div>

			<p class="p">The response to the retrieval request is displayed in the following example:</p>

			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">HTTP/1.1 200 OK
Content-Type: text/plain
Content-Length: 22
This is the content</pre></div>

			<p class="p">The REST File API enables you to retrieve the metadata associated with a specific
				file, for example, <span class="ph filepath">myfile.txt</span>.</p>

			<div class="note note"><span class="notetitle">Note</span> In the request illustrated in the example below, the parameters
					<samp class="ph codeph">Version</samp>, <samp class="ph codeph">If-Match</samp>, and
					<samp class="ph codeph">SapBackPack</samp> are optional</div>

			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">GET /sap/hana/xs/dt/base/file/MyProj/myfile.txt?parts=meta
Orion-Version: 1.0
SapBackPack: "{'History': 'false', 'Version': 12}"
If-Match: "35987989879"</pre></div>

			<p class="p">The response to the retrieval request for metadata is displayed in the following
				example:</p>

			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">{
"Name": "myfile.txt",
"Location": "/sap/hana/xs/dt/base/file/MyProj/myfile.txt",
"RunLocation": "/MyProj/myfile.txt",
"ETag": "35987989879",
"Directory": false,
"LocalTimeStamp": 01234345009837,

"Attributes": { 
"ReadOnly": false,
"Executable": false, 
"SapBackPack" : {'Activated' : true} 
}   

"SapBackPack": { 
"Version":60, 
"ActivatedAt":1397644007537, 
"ActivatedBy":"User"
}
}</pre></div>

		</div></div>

		<div class="section" id="loioc3dd9fded080465cbc194ab7aee650e6__section_wrw_mt4_zp"><div class="section_title">Actions on Directories</div><div type="Actions on Directories">
			
			<p class="p">You can use the REST File API to retrieve and change directory (repository package)
				metadata as well as list the contents of a directory. The following example shows
				how to list the contents of a singel directory, for example,
					<span class="ph filepath">myfolder</span>. </p>

			<div class="note tip"><span class="tiptitle">Tip</span> To list all files from a directory recursively, use
					<samp class="ph codeph">depth=infinity</samp> or <samp class="ph codeph">-1</samp>. For security reasons the
				depth is limited to 1000.</div>

			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">GET /sap/hana/xs/dt/base/file/MyProj/myfolder?depth=1</pre></div>

			<p class="p">The following example shows the response to the directory listing request:</p>

			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">HTTP/1.1 200 OK
Content-Type: application/json
Content-Length: 132
{
"Name": "myfolder",
"Location": "/sap/hana/xs/dt/base/file/MyProj/myfolder",
"ContentLocation": "/MyProj/myfolder",
"LocalTimeStamp": 01234345009837,
"Directory": true
"Attributes": {
"ReadOnly": false,
"Executable": false
},
"Children": [
{
"Name": "myfile.txt",
"Location": "/sap/hana/xs/dt/base/file/MyProj/myfolder/myfile.txt",
"RunLocation": "/MyProj/myfolder/myfile.txt",
"Directory": false
} ] }</pre></div>

		</div></div>

		<div class="section" id="loioc3dd9fded080465cbc194ab7aee650e6__section_nmf_nt4_zp"><div class="section_title">File and Directory Creation</div><div type="File and Directory Creation">
			
			<p class="p">You can use the REST File API to create files and directories (repository packages)
				with or without content. The following example shows how to create a new directory,
				for example, <span class="ph filepath">myfolder</span>. </p>

			<div class="note note"><span class="notetitle">Note</span> If a parent directory (in which the new directory is created) is already assigned
				to a delivery unit, the created directory will be assigned automatically to the same
				delivery unit.</div>

			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">POST /sap/hana/xs/dt/base/file/MyProj/
Content-Type: application/json
X-CSRF-Token: "65ABA3082325A3408FBE71C87929102B"
Slug: myfolder
{
"Name": "myfolder",
"Directory": "true"
}</pre></div>

			<p class="p">The following example shows the response to the directory creation request:</p>

			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">HTTP/1.1 201 OK
{
"Name": "myfolder",
"Location": "/sap/hana/xs/dt/base/file/MyProj/myfolder",
"ContentLocation": "/MyProj/myfolder",
"ETag": "35fd43td3",
"LocalTimeStamp": 01234345009837,
"Directory": true
"Attributes": {
"ReadOnly": false,
"Executable": false
}
}</pre></div>

		</div></div>

		<div class="section" id="loioc3dd9fded080465cbc194ab7aee650e6__section_unj_nt4_zp"><div class="section_title">Copying and Moving Files</div><div type="Copying and Moving Files">
			
			<p class="p">You can use the REST File API to copy, move, or delete files and directories
				(repository packages). You can also use the File API to delete the workspace that
				contains files and directories used for development work. The following example
				shows how to delete a directory, for example, <span class="ph filepath">myfolder</span>. </p>

			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">DELETE /sap/hana/xs/dt/base/file/MyProj/myfile.txt
Orion-Version = 1.0
X-CSRF-Token: "65ABA3082325A3408FBE71C87929102B"
If-Match: "35" (optional)</pre></div>

			<p class="p">The following example shows how to delete a workspace.</p>

			<div class="note note"><span class="notetitle">Note</span> You need to include the parameters <samp class="ph codeph">ProcessWorkspace=true</samp> and
					<samp class="ph codeph">Workspace</samp> in the <span class="keyword parmname">SapBackPack</span> parameter. </div>

			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">DELETE /sap/hana/xs/dt/base/file/MyProj/myfile.txt
Orion-Version = 1.0
X-CSRF-Token: "65ABA3082325A3408FBE71C87929102B"
SapBackPack: "{'Workspace': 'ABC', 'ProcessWorkspace': true}"</pre></div>

			<p class="p">Both requests should receive the following reponse:</p>

			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">HTTP/1.1 204 OK</pre></div>

		</div></div>

		<div class="section" id="loioc3dd9fded080465cbc194ab7aee650e6__section_g1q_nt4_zp"><div class="section_title">Mass File Transfer</div><div type="Mass File Transfer">
			
			<p class="p">Mass transfer with the REST File API enables you to apply <samp class="ph codeph">GET</samp> and
					<samp class="ph codeph">PUT</samp> operations to multiple files in a single HTTP request.</p>

			<div class="note note"><span class="notetitle">Note</span> The mass-transfer feature is not a part of the Orion specification; it was
				developed to optimize the performance of <samp class="ph codeph">GET</samp> and
					<samp class="ph codeph">PUT</samp> requests when dealing with a large number of files.</div>

			<p class="p">There are different ways of specifying the file paths. One way is to point the request's URL
				to the root of the file repository, as illustrated in the request example below. In
				this case, you must specify the complete path from the root of the repository for
				each file. Another possibility is to point the request's URL to a specified
				sub-package in the Repository, which is then considered to be the root package for
				the files to be retrieved in the request. To request a file's meta-data, use the
				parameter <samp class="ph codeph">parts=meta</samp>; the response contains a list of file metadata
				formatted as a JSON string. If the request does not contain the parameter
					<samp class="ph codeph">parts=meta</samp>, a multipart response is returned. </p>

			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">GET /sap/hana/xs/dt/base/file?parts=meta
Orion-Version = 1.0
SapBackPack: '{"MassTransfer":true, "MassTransferData": [
{"Pkg":"MyProj/myfolder","Name":"destination1.txt","Dir":false}, ...]}'</pre></div>

			<p class="p">The response expected should look like the following example:</p>

			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">HTTP/1.1 200 OK
Content-Type: application/json
[
{
"Name": "destination1.txt",
"Location": "/sap/hana/xs/dt/base/file/MyProj/myfolder/destination1.txt",
"RunLocation": "/MyProj/myfolder/destination1.txt",
"ETag": "351234567",
"LocalTimeStamp": 01234345009837,
"Directory": false
"Attributes": { "ReadOnly": false, "Executable": true, "SapBackPack" : {'Activated' : true}}
},
{ 
"Name": "destination2.txt",
"Location": "/sap/hana/xs/dt/base/file/MyProj/myfolder/destination2.txt",
"RunLocation": "/MyProj/myfolder/destination2.txt",
"ETag": 251237891,
"LocalTimeStamp": 01234345009837,
"Directory": false,
"Attributes": { "ReadOnly": false, "Executable": true, "SapBackPack" : {'Activated' : true} }
}
]</pre></div>

		</div></div>

		<div class="section" id="loioc3dd9fded080465cbc194ab7aee650e6__section_bl1_fz4_zp"><div class="section_title">Change Tracking</div><div type="Change Tracking">
			
			<p class="p">Use can use the REST File API to perform change-tracking operations. Change tracking
				enables you to activate selectively the latest approved versions of objects.</p>

			<div class="note note"><span class="notetitle">Note</span> This feature of the REST File API assumes that the change-tracking feature is
				enabled in the <span class="ph pname">SAP HANA</span> repository.</div>

			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">PUT /sap/hana/xs/dt/base/file/PATH?parts=meta
Orion-Version = 1.0
X-CSRF-Token: securityToken
SapBackPack: '{"MassTransfer":true, "Activate":true, "ChangeId": "ABC//11111", "ChangeIdList": [{"Path": "PATH/file1.txt", "ChangeId" = "ABC//12345"},  {"Path": "PATH/file2.txt", "ChangeId" = "ABC//12345"}]}'</pre></div>

			<p class="p">If an object (or a set of objects) is activated using the default change-tracking handling
				(for example, without setting <samp class="ph codeph">SapBackPack.ChangeTrackingMode</samp> or by
				setting <samp class="ph codeph">SapBackPack.ChangeTrackingMode</samp> explicitly to
					<samp class="ph codeph">0</samp>), a dynamic change list is created, and the file(s) are
				activated in the <span class="ph pname">SAP HANA</span> Repository using the generated change list. </p>

			<p class="p">In the explicit handling of change tracking the user is allowed to activate files
				that are already assigned to a change list. Files can also be activated using an
				explicitly provided change list ID. In the change-tracking request above, the files
					<span class="ph filepath">PATH/file1.txt</span> and <span class="ph filepath">PATH/file2.txt</span> are
				assigned to the change list <samp class="ph codeph">ABC//12345</samp>. All other files will be
				activated using the change list <samp class="ph codeph">ABC//11111</samp>. </p>

			<p class="p">The response to the change-tracking request would look like the following example:</p>

			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">HTTP/1.1 200 OK
Content-Type: application/json
...</pre></div>

		</div></div>

	</div>

	<div class="related-links"> 
<div class="relinfo"><div class="relinfotitle ">Related Information</div>
<div><a class="link" href="default.html?0e5335b66a9e4c64993605fc24ccd6d1.html" target="_top" title="The SAP HANA REST Application Programming Interface (REST API) is based on and extends the Orion server and client APIs.">Using the SAP HANA REST API</a></div>
<div><a class="link" href="http://help.sap.com/hana/SAP_HANA_XS_REST_API_Reference_en/index.html" target="_blank" alt="http://help.sap.com/hana/SAP_HANA_XS_REST_API_Reference_en/index.html" title="http://help.sap.com/hana/SAP_HANA_XS_REST_API_Reference_en/index.html">SAP HANA REST API Reference</a></div>
</div>
</div>
</div></div><div class="footer" id="custom-footer">
	<div id="custom-footerSpacer"><hr width="350px" align="left"/></div>
	<a class="copyright" href="copyright.html" target="_blank">Copyright</a><span class="separator"> | </span><a class="disclaimer" href="disclaimer.html" target="_blank">Important Disclaimers and Legal Information</a>
</div>

<SCRIPT LANGUAGE="JavaScript"><!--
 var page_title="SAP HANA REST File API";

        if (page_title !='' &&
        parent.document.title != null) {
 parent.document.title =
          page_title;
 } 
 var
        anchor = document.getElementById(location.hash.substring(+1)); if (typeof (anchor)
        !='undefined' && anchor !=null){
        var top = anchor.getBoundingClientRect().top; } 
//-->
</SCRIPT>
</body>
</html>