<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta http-equiv="cache-control" content="max-age=0"/>
<meta http-equiv="cache-control" content="no-cache"/>
<meta http-equiv="expires" content="0"/>
<meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT"/>
<meta http-equiv="pragma" content="no-cache"/>
<meta name="abstract" content="SAP HANA Extended Application Services (SAP HANA XS) enables you to use the hdbsequence syntax to create a database sequence as a design-time file in the repository. The design-time artifact that contains the sequence definition must adhere to the .hdbsequence syntax specified below."/>
<meta name="description" content="SAP HANA Extended Application Services (SAP HANA XS) enables you to use the hdbsequence syntax to create a database sequence as a design-time file in the repository. The design-time artifact that contains the sequence definition must adhere to the .hdbsequence syntax specified below."/>

<link rel="stylesheet" type="text/css" href="css/documentation.css?x=9451897765852674"/>
<title>Sequence Configuration Syntax</title>
<!--[if lte IE 7]><style>
      .codeblock{
          overflow:visible;
      }</style><![endif]-->
<script type="text/javascript"><!-- 
        var loops = 10; 
        function GetLoio() { return "loio0479cfd36cb4448dbc9fbb854b3aee70";
        } 
        function Sync() { if (parent.SAP_TOC && parent.SAP_TOC.gMenu) {parent.SAP_TOC.gMenu.SelectEntry(GetLoio()); } 
        else if (parent != self && loops-- > 0) { window.setTimeout( "Sync()",500 ); } } 
        Sync(); 

 function hijackLink (elem) { if(elem.href.indexOf('#')
          > 0 ){ var hr = elem.href.substr(0,
          elem.href.indexOf('#')); var anc = elem.href.substr(elem.href.indexOf('#'),
          elem.href.length); var dum = Math.random(); parent.window.location = hr + "?x=" + dum +
          anc; } } //-->
</script>
</head>
<body class="sap_bluecrystal" id="loio0479cfd36cb4448dbc9fbb854b3aee70">
<div id="wrapper"><div id="container">

	<h1 class="title topictitle1">Sequence Configuration Syntax</h1>

	
	<div class="body refbody"><p class="shortdesc"><span class="ph pname">SAP HANA</span> Extended Application Services (<span class="ph pname">SAP HANA</span> XS)
		enables you to use the <span class="ph filepath">hdbsequence</span> syntax to create a database sequence
		as a design-time file in the repository. The design-time artifact that contains the sequence
		definition must adhere to the <span class="ph filepath">.hdbsequence</span> syntax specified
		below.</p>

		<div class="section" id="loio0479cfd36cb4448dbc9fbb854b3aee70__section_N10112_N1001D_N10001"><div class="section_title">Sequence Definition</div><div type="Sequence Definition">
			
			<p class="p">The following code illustrates a simple example of a design-time sequence definition
				using the <span class="ph filepath">.hdbsequence</span> syntax.</p>

			<div class="note note" id="loio0479cfd36cb4448dbc9fbb854b3aee70__note_N10035_N10020_N1001D_N10001"><span class="notetitle">Note</span> Keywords are case-sensitive, for example,
					<span class="keyword">maxvalue</span> and <span class="keyword">start_with</span>, and the schema
				referenced in the table definition, for example, <samp class="ph codeph">MYSCHEMA</samp>, must
				already exist.</div>

			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint"><a class="xref nopagenumber" href="default.html?0479cfd36cb4448dbc9fbb854b3aee70.html#loio0479cfd36cb4448dbc9fbb854b3aee70__section_N1003B_N1001D_N10001" target="_top">schema</a>= "MYSCHEMA";
<a class="xref nopagenumber" href="default.html?0479cfd36cb4448dbc9fbb854b3aee70.html#loio0479cfd36cb4448dbc9fbb854b3aee70__section_lf3_fpk_1n" target="_top">start_with</a>= 10;
<a class="xref nopagenumber" href="default.html?0479cfd36cb4448dbc9fbb854b3aee70.html#loio0479cfd36cb4448dbc9fbb854b3aee70__section_m3b_gpk_1n" target="_top">maxvalue</a>= 30;
<a class="xref nopagenumber" href="default.html?0479cfd36cb4448dbc9fbb854b3aee70.html#loio0479cfd36cb4448dbc9fbb854b3aee70__section_upg_gpk_1n" target="_top">nomaxvalue</a>= false;
<a class="xref nopagenumber" href="default.html?0479cfd36cb4448dbc9fbb854b3aee70.html#loio0479cfd36cb4448dbc9fbb854b3aee70__section_vj4_gpk_1n" target="_top">minvalue</a>= 1;
<a class="xref nopagenumber" href="default.html?0479cfd36cb4448dbc9fbb854b3aee70.html#loio0479cfd36cb4448dbc9fbb854b3aee70__section_ckv_gpk_1n" target="_top">nominvalue</a>= true;
<a class="xref nopagenumber" href="default.html?0479cfd36cb4448dbc9fbb854b3aee70.html#loio0479cfd36cb4448dbc9fbb854b3aee70__section_dkd_hpk_1n" target="_top">cycles</a>= false;
<a class="xref nopagenumber" href="default.html?0479cfd36cb4448dbc9fbb854b3aee70.html#loio0479cfd36cb4448dbc9fbb854b3aee70__section_ism_hpk_1n" target="_top">reset_by</a>= "SELECT T1.\"Column2\" FROM \"MYSCHEMA\".\"com.acme.test.tables::MY_TABLE1\" AS T1 LEFT JOIN \"MYSCHEMA\".\"com.acme.test.tables::MY_TABLE2\" AS T2 ON T1.\"Column1\" = T2.\"Column1\"";
<a class="xref nopagenumber" href="default.html?0479cfd36cb4448dbc9fbb854b3aee70.html#loio0479cfd36cb4448dbc9fbb854b3aee70__section_a3x_m2m_dp" target="_top">depends_on</a>= ["com.acme.test.tables::MY_TABLE1", "com.acme.test.tables::MY_TABLE2"];
</pre></div>

		</div></div>

		<div class="section" id="loio0479cfd36cb4448dbc9fbb854b3aee70__section_N10043_N1001D_N10001"><div class="section_title">Sequence-Definition Configuration Schema</div><div type="Sequence-Definition Configuration Schema">
			
			<p class="p">The following example shows the configuration schema for sequences defined using the
					<span class="ph filepath">.hdbsequence</span> syntax. Each of the entries in the
				sequence-definition configuration schema is explained in more detail in a dedicated
				section below:</p>

			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">string schema;
int32 increment_by(default=1);
int32 start_with(default=-1);
optional int32 maxvalue;
bool nomaxvalue(default=false);
optional int32 minvalue;
bool nominvalue(default=false);
optional bool cycles;
optional string reset_by;
bool public(default=false);
optional string depends_on_table;
optional string depends_on_view;
optional list<var class="keyword varname">&lt;string&gt;</var> depends_on;
</pre></div>

		</div></div>

		<div class="section" id="loio0479cfd36cb4448dbc9fbb854b3aee70__section_N1003B_N1001D_N10001"><div class="section_title">Schema Name</div><div type="Schema Name">
			
			<p class="p">To use the <span class="ph filepath">.hdbsequence</span> syntax to specify the name of the schema
				that contains the sequence you are defining, use the <samp class="ph codeph">schema</samp>
				keyword. In the sequence definition, the <samp class="ph codeph">schema</samp> keyword must adhere
				to the syntax shown in the following example.</p>

			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">schema= "MYSCHEMA";</pre></div>

		</div></div>

		<div class="section" id="loio0479cfd36cb4448dbc9fbb854b3aee70__section_N1007F_N1001D_N10001"><div class="section_title">Increment Value</div><div type="Increment Value">
			
			<p class="p">To use the <span class="ph filepath">.hdbsequence</span> syntax to specify that the sequence
				increments by a defined value, use the <samp class="ph codeph">increment_by</samp> keyword.
					<samp class="ph codeph">increment_by</samp> specifies the amount by which the next sequence
				value is incremented from the last value assigned. The default increment is 1. In
				the sequence definition, the <samp class="ph codeph">increment_by</samp> keyword must adhere to
				the syntax shown in the following example.</p>

			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">increment_by= 2;</pre></div>

			<p class="p">To generate a descending sequence, specify a negative value.</p>

			<div class="note note"><span class="notetitle">Note</span> An error is returned if the <samp class="ph codeph">increment_by</samp> value is 0.</div>

		</div></div>

		<div class="section" id="loio0479cfd36cb4448dbc9fbb854b3aee70__section_lf3_fpk_1n"><div class="section_title">Start Value</div><div type="Start Value">
			
			<p class="p">To use the <span class="ph filepath">.hdbsequence</span> syntax to specify that the sequence
				starts with a specific value, use the <samp class="ph codeph">start_with</samp> keyword. If you do
				not specify a value for the <samp class="ph codeph">start_with</samp> keyword, the value defined
				in <samp class="ph codeph">minvalue</samp> is used for ascending sequences, and value defined in
					<samp class="ph codeph">maxvalue</samp> is used for descending sequences. In the sequence
				definition, the <samp class="ph codeph">start_with</samp> keyword must adhere to the syntax shown
				in the following example.</p>

			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">start_with= 10;</pre></div>

		</div></div>

		<div class="section" id="loio0479cfd36cb4448dbc9fbb854b3aee70__section_m3b_gpk_1n"><div class="section_title">Maximum Value</div><div type="Maximum Value">
			
			<p class="p">To use the <span class="ph filepath">.hdbsequence</span> syntax to specify that the sequence
				stops at a specific <span class="ph emphasis emphasis">maximum</span> value, for example, 30, use the
				optional keyword <samp class="ph codeph">maxvalue</samp>. In the sequence definition, the
					<samp class="ph codeph">maxvalue</samp> keyword must adhere to the syntax shown in the
				following example.</p>

			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">maxvalue= 30;</pre></div>

			<div class="note note"><span class="notetitle">Note</span> The maximum value (<samp class="ph codeph">maxvalue</samp>) a sequence can generate must be
				between -4611686018427387903 and 4611686018427387902.</div>

		</div></div>

		<div class="section" id="loio0479cfd36cb4448dbc9fbb854b3aee70__section_upg_gpk_1n"><div class="section_title">No Maximum Value</div><div type="No Maximum Value">
			
			<p class="p">To use the <span class="ph filepath">.hdbsequence</span> syntax to specify that the sequence does
				not stop at any specific <span class="ph emphasis emphasis">maximum</span> value, use the boolean keyword
					<samp class="ph codeph">nomaxvalue</samp>. When the <samp class="ph codeph">nomaxvalue</samp> keyword is
				used, the maximum value for an <span class="ph emphasis emphasis">ascending</span> sequence is
				4611686018427387903 and the maximum value for a <span class="ph emphasis emphasis">descending</span>
				sequence is -1. In the sequence definition, the <samp class="ph codeph">nomaxvalue</samp> keyword
				must adhere to the syntax shown in the following example. </p>

			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">nomaxvalue= true;</pre></div>

			<div class="note note"><span class="notetitle">Note</span> Note that the default setting for <samp class="ph codeph">nomaxvalue</samp> is
					<samp class="ph codeph">false</samp>.</div>

		</div></div>

		<div class="section" id="loio0479cfd36cb4448dbc9fbb854b3aee70__section_vj4_gpk_1n"><div class="section_title">Minimum Value</div><div type="Minimum Value">
			
			<p class="p">To use the <span class="ph filepath">.hdbsequence</span> syntax to specify that the sequence
				stops at a specific <span class="ph emphasis emphasis">minimum</span> value, for example, 1, use the
					<samp class="ph codeph">minvalue</samp> keyword. In the sequence definition, the
					<samp class="ph codeph">minvalue</samp> keyword must adhere to the syntax shown in the
				following example.</p>

			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">minvalue= 1;</pre></div>

			<div class="p">
				<div class="note note"><span class="notetitle">Note</span> The minimum value (<samp class="ph codeph">minvalue</samp>) a sequence can generate must be
					between -4611686018427387903 and 4611686018427387902.</div>

			</div>

		</div></div>

		<div class="section" id="loio0479cfd36cb4448dbc9fbb854b3aee70__section_ckv_gpk_1n"><div class="section_title">No Minimum Value</div><div type="No Minimum Value">
			
			<p class="p">To use the <span class="ph filepath">.hdbsequence</span> syntax to specify that the sequence does
				not stop at any specific <span class="ph emphasis emphasis">minimum</span> value, use the boolean keyword
					<samp class="ph codeph">nominvalue</samp>. When the <samp class="ph codeph">nominvalue</samp> keyword is
				used, the minimum value for an <span class="ph emphasis emphasis">ascending</span> sequence is 1 and the
				minimum value for a <span class="ph emphasis emphasis">descending</span> sequence is
				-4611686018427387903. In the sequence definition, the <samp class="ph codeph">nominvalue</samp>
				keyword must adhere to the syntax shown in the following example. </p>

			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">nominvalue= true;</pre></div>

			<div class="note note"><span class="notetitle">Note</span> Note that the default setting <samp class="ph codeph">nominvalue</samp> is
					<samp class="ph codeph">false</samp>.</div>

		</div></div>

		<div class="section" id="loio0479cfd36cb4448dbc9fbb854b3aee70__section_dkd_hpk_1n"><div class="section_title">Cycles</div><div type="Cycles">
			
			<p class="p">In a sequence defined using the <span class="ph filepath">.hdbsequence</span> syntax, the
				optional boolean keyword <samp class="ph codeph">cycles</samp> enables you to specify whether the
				sequence number will be restarted after it reaches its maximum or minimum value. For
				example, the sequence restarts with <samp class="ph codeph">minvalue</samp> after having reached
					<samp class="ph codeph">maxvalue</samp> (where <samp class="ph codeph">increment_by</samp> is greater than
				zero (0)) or restarts with <samp class="ph codeph">maxvalue</samp> after having reached
					<samp class="ph codeph">minvalue</samp> (where <samp class="ph codeph">increment_by</samp> is less than zero
				(0)). In the <samp class="ph codeph">.hdbsequence</samp> definition, the <samp class="ph codeph">cycles</samp>
				keyword must adhere to the syntax shown in the following example.</p>

			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">cycles= false;
</pre></div>

		</div></div>

		<div class="section" id="loio0479cfd36cb4448dbc9fbb854b3aee70__section_ism_hpk_1n"><div class="section_title">Reset by Query</div><div type="Reset by Query">
			
			<p class="p">In a sequence defined using the <span class="ph filepath">.hdbsequence</span> syntax, the
					<samp class="ph codeph">reset_by</samp> keyword enables you to reset the sequence using a
				query on any view, table or even table function. However, any dependency must be
				declared explicitly, for example, with the <samp class="ph codeph">depends_on_view</samp> or
					<samp class="ph codeph">depends_on_table</samp> keyword. If the table or view specified in the
				dependency does not exist, the activation of the sequence object in the repository
				fails.</p>

			<p class="p">In the <samp class="ph codeph">.hdbsequence</samp> definition, the <samp class="ph codeph">reset_by</samp>
				keyword must adhere to the syntax shown in the following example.</p>

			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">reset_by= "SELECT \"Col2\" FROM \"MYSCHEMA\".\"acme.com.test.tables::MY_TABLE\" WHERE \"Col2\"='12'";</pre></div>

			<p class="p">During a restart of the database, the system automatically executes the
					<samp class="ph codeph">reset_by</samp> statement and the sequence value is restarted with the
				value determined from the <samp class="ph codeph">reset_by</samp> subquery</p>

			<div class="note note"><span class="notetitle">Note</span> If <samp class="ph codeph">reset_by</samp> is not specified, the sequence value is stored
				persistently in the database. During the restart of the database, the next value of
				the sequence is generated from the saved sequence value.</div>

		</div></div>

		<div class="section" id="loio0479cfd36cb4448dbc9fbb854b3aee70__section_a3x_m2m_dp"><div class="section_title">Depends on</div><div type="Depends on">
			
			<p class="p">In a sequence defined using the <span class="ph filepath">.hdbsequence</span> syntax, the optional keyword
					<samp class="ph codeph">depends_on</samp> enables you to define a dependency to one or more
				specific tables or views, for example when using the <samp class="ph codeph">reset_by</samp>
				option to specify the query to use when resetting the sequence. In the
					<samp class="ph codeph">.hdbsequence</samp> definition, the <samp class="ph codeph">depends_on</samp>
				keyword must adhere to the syntax shown in the following example.</p>

			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">depends_on= ["<var class="keyword varname">&lt;repository.package.path&gt;</var>::<var class="keyword varname">&lt;MY_TABLE_NAME1&gt;</var>","<var class="keyword varname">&lt;repository.package.path&gt;</var>::<var class="keyword varname">&lt;MY_VIEW_NAME1&gt;</var>"];</pre></div>

			<div class="note note"><span class="notetitle">Note</span> The <samp class="ph codeph">depends_on</samp> keyword replaces and extends the keywords
					<samp class="ph codeph">depends_on_table</samp> and <samp class="ph codeph">depends_on_view</samp>.</div>

			<p class="p">For example, to specify multiple tables and views with the <samp class="ph codeph">depends_on</samp>
				keyword, use a comma-separated list enclosed in square brackets []. </p>

			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">depends_on= ["com.acme.test.tables::MY_TABLE1", "com.acme.test.tables::MY_TABLE2", "com.acme.test.views::MY_VIEW1"];</pre></div>

			<p class="p">The target table or view specified in the <samp class="ph codeph">depends_on</samp> keyword
					<span class="ph emphasis emphasis">must</span> be mentioned in the <samp class="ph codeph">SELECT</samp> query that
				defines the reset condition. On initial activation of the sequence definition, no
				check is performed to establish the existence of the target table or view specified
				in the dependency; such a check is only made during
					<span class="ph emphasis emphasis">reactivation</span> of the sequence definition. If one or more of
				the target tables or views specified in the dependency does not exist, the
				re-activation of the sequence object in the repository fails.</p>

		</div></div>

	</div>

	<div class="related-links"> 
<div class="relinfo"><div class="relinfotitle ">Related Information</div>
<div><a class="link" href="default.html?301d1ef633974273ad44d2f38e4f4460.html" target="_top" title="A sequence is a database object that generates an automatically incremented list of numeric values according to the rules defined in the sequence specification. The sequence of numeric values is generated in an ascending or descending order at a defined increment interval, and the numbers generated by a sequence can be used by applications, for example, to identify the rows and columns of a table.">Sequences</a></div>
</div>
</div>
</div></div><div class="footer" id="custom-footer">
	<div id="custom-footerSpacer"><hr width="350px" align="left"/></div>
	<a class="copyright" href="copyright.html" target="_blank">Copyright</a><span class="separator"> | </span><a class="disclaimer" href="disclaimer.html" target="_blank">Important Disclaimers and Legal Information</a>
</div>

<SCRIPT LANGUAGE="JavaScript"><!--
 var page_title="Sequence Configuration Syntax";

        if (page_title !='' &&
        parent.document.title != null) {
 parent.document.title =
          page_title;
 } 
 var
        anchor = document.getElementById(location.hash.substring(+1)); if (typeof (anchor)
        !='undefined' && anchor !=null){
        var top = anchor.getBoundingClientRect().top; } 
//-->
</SCRIPT>
</body>
</html>