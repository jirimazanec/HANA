<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta http-equiv="cache-control" content="max-age=0"/>
<meta http-equiv="cache-control" content="no-cache"/>
<meta http-equiv="expires" content="0"/>
<meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT"/>
<meta http-equiv="pragma" content="no-cache"/>
<meta name="abstract" content=""/>
<meta name="description" content=""/>

<link rel="stylesheet" type="text/css" href="css/documentation.css?x=7373389044565948"/>
<title>SQLScript Processing Overview</title>
<!--[if lte IE 7]><style>
      .codeblock{
          overflow:visible;
      }</style><![endif]-->
<script type="text/javascript"><!-- 
        var loops = 10; 
        function GetLoio() { return "loio4f1aa0299b254cc1aa320ce34dc36b75";
        } 
        function Sync() { if (parent.SAP_TOC && parent.SAP_TOC.gMenu) {parent.SAP_TOC.gMenu.SelectEntry(GetLoio()); } 
        else if (parent != self && loops-- > 0) { window.setTimeout( "Sync()",500 ); } } 
        Sync(); 

 function hijackLink (elem) { if(elem.href.indexOf('#')
          > 0 ){ var hr = elem.href.substr(0,
          elem.href.indexOf('#')); var anc = elem.href.substr(elem.href.indexOf('#'),
          elem.href.length); var dum = Math.random(); parent.window.location = hr + "?x=" + dum +
          anc; } } //-->
</script>
</head>
<body class="sap_bluecrystal" id="loio4f1aa0299b254cc1aa320ce34dc36b75">
<div id="wrapper"><div id="container">

	<h1 class="title topictitle1">SQLScript Processing Overview</h1>

	
	<div class="body conbody"><p class="shortdesc"/>

		<p class="p">To better understand the features of SQLScript, and their impact on execution, it can be
			helpful to understand how SQLScript is processed in the SAP HANA database. </p>

		<p class="p">When a user defines a new procedure, for example using the CREATE PROCEDURE statement, the SAP
			HANA database query compiler processes the statement in a similar way to an SQL
			statement. A step-by-step analysis of the process flow follows below:</p>

		<ul class="ul" id="loio4f1aa0299b254cc1aa320ce34dc36b75__ul_hwj_j5c_wh">
			<li class="li">Parse the statement - detect and report simple syntactic errors.</li>

			<li class="li">Check the statements semantic correctness - derive types for variables and check if their use
				is consistent. </li>

			<li class="li">Optimize the code - optimization distinguishes between declarative logic displayed in the
				upper branch and imperative logic displayed in the lower branch. We shall discuss
				how the SAP HANA database recognizes them below. </li>

		</ul>

		<p class="p">When the procedure starts, the invoke activity can be divided into two phases:</p>

		<ol class="ol" id="loio4f1aa0299b254cc1aa320ce34dc36b75__ol_mky_s5c_wh">
			<li class="li">Compilation<ul class="ul" id="loio4f1aa0299b254cc1aa320ce34dc36b75__ul_n5s_bq1_zp">
					<li class="li">Code generation - for declarative logic the calculation models are created to represent the
						dataflow defined by the SQLScript code. It is optimized further by the
						calculation engine, when it is instantiated. For imperative logic the code
						blocks are translated into L-nodes.</li>

					<li class="li">The calculation models generated in the previous step are combined into a
						stacked calculation model.</li>

				</ul>
</li>

			<li class="li">Execution - the execution commences with binding actual parameters to the calculation models.
				When the calculation models are instantiated they can be optimized based on concrete
				input provided. Optimizations include predicate or projection embedding in the
				database. Finally, the instantiated calculation model is executed by using any of
				the available parts of the SAP HANA database.</li>

		</ol>

		<p class="p">With SQLScript you can implement applications by using both imperative orchestration logic and
			(functional) declarative logic, and this is also reflected in the way SQLScript
			processing works for those two coding styles. Imperative logic is executed sequentially
			and declarative logic is executed by exploiting the internal architecture of the SAP
			HANA database and utilizing its potential for parallelism.</p>

	</div>

<div class="related-links"> 
</div>
</div></div><div class="footer" id="custom-footer">
	<div id="custom-footerSpacer"><hr width="350px" align="left"/></div>
	<a class="copyright" href="copyright.html" target="_blank">Copyright</a><span class="separator"> | </span><a class="disclaimer" href="disclaimer.html" target="_blank">Important Disclaimers and Legal Information</a>
</div>

<SCRIPT LANGUAGE="JavaScript"><!--
 var page_title="SQLScript Processing Overview";

        if (page_title !='' &&
        parent.document.title != null) {
 parent.document.title =
          page_title;
 } 
 var
        anchor = document.getElementById(location.hash.substring(+1)); if (typeof (anchor)
        !='undefined' && anchor !=null){
        var top = anchor.getBoundingClientRect().top; } 
//-->
</SCRIPT>
</body>
</html>