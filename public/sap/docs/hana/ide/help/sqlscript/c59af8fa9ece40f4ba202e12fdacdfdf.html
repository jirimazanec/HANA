<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta http-equiv="cache-control" content="max-age=0"/>
<meta http-equiv="cache-control" content="no-cache"/>
<meta http-equiv="expires" content="0"/>
<meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT"/>
<meta http-equiv="pragma" content="no-cache"/>
<meta name="abstract" content=""/>
<meta name="description" content=""/>

<link rel="stylesheet" type="text/css" href="css/documentation.css?x=5976415383641771"/>
<title>Best Practices for Using SQLScript</title>
<!--[if lte IE 7]><style>
      .codeblock{
          overflow:visible;
      }</style><![endif]-->
<script type="text/javascript"><!-- 
        var loops = 10; 
        function GetLoio() { return "loioc59af8fa9ece40f4ba202e12fdacdfdf";
        } 
        function Sync() { if (parent.SAP_TOC && parent.SAP_TOC.gMenu) {parent.SAP_TOC.gMenu.SelectEntry(GetLoio()); } 
        else if (parent != self && loops-- > 0) { window.setTimeout( "Sync()",500 ); } } 
        Sync(); 

 function hijackLink (elem) { if(elem.href.indexOf('#')
          > 0 ){ var hr = elem.href.substr(0,
          elem.href.indexOf('#')); var anc = elem.href.substr(elem.href.indexOf('#'),
          elem.href.length); var dum = Math.random(); parent.window.location = hr + "?x=" + dum +
          anc; } } //-->
</script>
</head>
<body class="sap_bluecrystal" id="loioc59af8fa9ece40f4ba202e12fdacdfdf">
<div id="wrapper"><div id="container">

	<h1 class="title topictitle1">Best Practices for Using SQLScript</h1>

	
	<div class="body conbody"><p class="shortdesc"/>

		<p class="p">So far this document has introduced the syntax and semantics of SQLScript. This knowledge is
			sufficient for mapping functional requirements to SQLScript procedures. However, besides
			functional correctness, non-functional characteristics of a program play an important
			role for user acceptance. For instance, one of the most important non-functional
			characteristics is performance. </p>

		<p class="p">The following optimizations all apply to statements in SQLScript. The optimizations
			presented here cover how dataflow exploits parallelism in the SAP HANA database.</p>

		<div class="p">
			<ul class="ul" id="loioc59af8fa9ece40f4ba202e12fdacdfdf__ul_dy1_dqv_xh">
				<li class="li">Reduce Complexity of SQL Statements: Break up a complex SQL statement into many
					simpler ones. This makes a SQLScript procedure easier to comprehend.</li>

				<li class="li">Identify Common Sub-Expressions: If you split a complex query into logical sub
					queries it can help the optimizer to identify common sub expressions and to
					derive more efficient execution plans.</li>

				<li class="li">Multi-Level-Aggregation: In the special case of multi-level aggregations,
					SQLScript can exploit results at a finer grouping for computing coarser
					aggregations and return the different granularities of groups in distinct table
					variables. This could save the client the effort of reexamining the query
					result.</li>

				<li class="li">Understand the Costs of Statements: Employ the explain plan facility to
					investigate the performance impact of different SQL queries.</li>

				<li class="li">Exploit Underlying Engine: SQLScript can exploit the specific capabilities of
					the OLAP- and JOIN-Engine by relying on views modeled appropriately.</li>

				<li class="li">Reduce Dependencies: As SQLScript is translated into a dataflow graph, and
					independent paths in this graph can be executed in parallel, reducing
					dependencies enables better parallelism, and thus better performance. </li>

				<li class="li">Avoid Mixing Calculation Engine Plan Operators and SQL Queries: Mixing
					calculation engine plan operators and SQL may lead to missed opportunities to
					apply optimizations as calculation engine plan operators and SQL statements are
					optimized independently.</li>

				<li class="li">Avoid Using Cursors: Check if use of cursors can be replaced by (a flow of) SQL
					statements for better opportunities for optimization and exploiting parallel
					execution. </li>

				<li class="li">Avoid Using Dynamic SQL: Executing dynamic SQL is slow because compile time
					checks and query optimization must be done for every invocation of the
					procedure. Another related problem is security because constructing SQL
					statements without proper checks of the variables used may harm security. </li>

			</ul>

		</div>

		<p class="p"/>

	</div>

<div class="related-links"> 
</div>
</div></div><div class="footer" id="custom-footer">
	<div id="custom-footerSpacer"><hr width="350px" align="left"/></div>
	<a class="copyright" href="copyright.html" target="_blank">Copyright</a><span class="separator"> | </span><a class="disclaimer" href="disclaimer.html" target="_blank">Important Disclaimers and Legal Information</a>
</div>

<SCRIPT LANGUAGE="JavaScript"><!--
 var page_title="Best Practices for Using SQLScript";

        if (page_title !='' &&
        parent.document.title != null) {
 parent.document.title =
          page_title;
 } 
 var
        anchor = document.getElementById(location.hash.substring(+1)); if (typeof (anchor)
        !='undefined' && anchor !=null){
        var top = anchor.getBoundingClientRect().top; } 
//-->
</SCRIPT>
</body>
</html>