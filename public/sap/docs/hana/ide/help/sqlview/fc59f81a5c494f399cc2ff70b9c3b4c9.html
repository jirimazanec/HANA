<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta http-equiv="cache-control" content="max-age=0"/>
<meta http-equiv="cache-control" content="no-cache"/>
<meta http-equiv="expires" content="0"/>
<meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT"/>
<meta http-equiv="pragma" content="no-cache"/>
<meta name="abstract" content="Generates a hierarchy based on recursive parent-child source data."/>
<meta name="description" content="Generates a hierarchy based on recursive parent-child source data."/>
<meta name="keywords" content="HIERARCHY"/>

<link rel="stylesheet" type="text/css" href="css/documentation.css?x=21946328144160043"/>
<title>HIERARCHY Function (Hierarchy)</title>
<!--[if lte IE 7]><style>
      .codeblock{
          overflow:visible;
      }</style><![endif]-->
<script type="text/javascript"><!-- 
        var loops = 10; 
        function GetLoio() { return "loiofc59f81a5c494f399cc2ff70b9c3b4c9";
        } 
        function Sync() { if (parent.SAP_TOC && parent.SAP_TOC.gMenu) {parent.SAP_TOC.gMenu.SelectEntry(GetLoio()); } 
        else if (parent != self && loops-- > 0) { window.setTimeout( "Sync()",500 ); } } 
        Sync(); 

 function hijackLink (elem) { if(elem.href.indexOf('#')
          > 0 ){ var hr = elem.href.substr(0,
          elem.href.indexOf('#')); var anc = elem.href.substr(elem.href.indexOf('#'),
          elem.href.length); var dum = Math.random(); parent.window.location = hr + "?x=" + dum +
          anc; } } //-->
</script>
</head>
<body class="sap_bluecrystal" id="loiofc59f81a5c494f399cc2ff70b9c3b4c9">
<div id="wrapper"><div id="container">

	<h1 class="title topictitle1">HIERARCHY Function (Hierarchy)</h1>

	
	
	<div class="body refbody"><p class="shortdesc">Generates a hierarchy based on recursive parent-child source data.</p>

		<div class="section"><div class="section_title">Syntax</div><div type="Syntax">
			
			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">HIERARCHY (
 <a class="xref nopagenumber" href="default.html?fc59f81a5c494f399cc2ff70b9c3b4c9.html#loiofc59f81a5c494f399cc2ff70b9c3b4c9__hierarchy_genfunc_source_spec" target="_top"><var class="keyword varname">&lt;hierarchy_genfunc_source_spec&gt;</var></a> 
 [<a class="xref nopagenumber" href="default.html?fc59f81a5c494f399cc2ff70b9c3b4c9.html#loiofc59f81a5c494f399cc2ff70b9c3b4c9__hierarchy_genfunc_start_cond" target="_top"><var class="keyword varname">&lt;hierarchy_genfunc_start_cond&gt;</var></a>]
 [<a class="xref nopagenumber" href="default.html?fc59f81a5c494f399cc2ff70b9c3b4c9.html#loiofc59f81a5c494f399cc2ff70b9c3b4c9__hierarchy_genfunc_depth_spec" target="_top"><var class="keyword varname">&lt;hierarchy_genfunc_depth_spec&gt;</var></a>]
 [<a class="xref nopagenumber" href="default.html?fc59f81a5c494f399cc2ff70b9c3b4c9.html#loiofc59f81a5c494f399cc2ff70b9c3b4c9__hierarchy_genfunc_orphan_spec" target="_top"><var class="keyword varname">&lt;hierarchy_genfunc_orphan_spec&gt;</var></a>]
 [<a class="xref nopagenumber" href="default.html?fc59f81a5c494f399cc2ff70b9c3b4c9.html#loiofc59f81a5c494f399cc2ff70b9c3b4c9__hierarchy_genfunc_cache_spec" target="_top"><var class="keyword varname">&lt;hierarchy_genfunc_cache_spec&gt;</var></a>]				
)</pre></div>

		</div></div>

		<div class="section"><div class="section_title">Syntax Elements</div><div type="Syntax Elements">
			
			<dl class="dl parml">
				
					<dt class="dt pt dlterm emphasis"><var class="keyword varname">&lt;hierarchy_genfunc_source_spec&gt;</var></dt>

					<dd class="dd pd">
						<p class="p" id="loiofc59f81a5c494f399cc2ff70b9c3b4c9__hierarchy_genfunc_source_spec">Specifies the source for the hierarchy
							to be generated from.</p>

						<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint"><var class="keyword varname">&lt;hierarchy_genfunc_source_spec&gt;</var> ::= SOURCE <var class="keyword varname">&lt;table_valued_expression&gt;</var>

<var class="keyword varname">&lt;table_valued_expression&gt;</var> ::= 
 <var class="keyword varname">&lt;read_variable_identifier&gt;</var>
 | <var class="keyword varname">&lt;sql_identifier&gt;</var> 
 | <var class="keyword varname">&lt;table_function&gt;</var> 
 | ( <var class="keyword varname">&lt;subquery&gt;</var> )</pre></div>

						<p class="p">Each row defines a parent-child relation and attributes of a node or edge
							that may become part of the output table, provided that they are reached
							during traversal. The source specification must define a stable sort
							order for siblings; the sort order of the source determines the sorting
							of output sibling nodes.</p>

						<p class="p">The source columns defining the recursive parent-child relation are
							identified by naming convention or aliases NODE_ID (node) and PARENT_ID
							(parent). The data type of PARENT_ID and NODE_ID must be identical, and
							must belong to one of the following data types:</p>

						<ul class="ul" id="loiofc59f81a5c494f399cc2ff70b9c3b4c9__ul_mbp_bgr_px">
							<li class="li">
								<p class="p">Numeric types: TINYINT, SMALLINT, INTEGER, BIGINT, SMALLDECIMAL,
									DECIMAL</p>

							</li>

							<li class="li">
								<p class="p">Character string types: VARCHAR, NVARCHAR, ALPHANUM,
									SHORTTEXT</p>

							</li>

							<li class="li">
								<p class="p">Datetime types: DATE, TIME, SECONDDATE, TIMESTAMP</p>

							</li>

							<li class="li">
								<p class="p">Binary types: VARBINARY</p>

							</li>

						</ul>

					</dd>

				
				
					<dt class="dt pt dlterm emphasis"><var class="keyword varname">&lt;hierarchy_genfunc_start_cond&gt;</var></dt>

					<dd class="dd pd">
						<p class="p" id="loiofc59f81a5c494f399cc2ff70b9c3b4c9__hierarchy_genfunc_start_cond">Specifies the start condition to identify the root nodes.</p>

						<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint"><var class="keyword varname">&lt;hierarchy_genfunc_start_cond&gt;</var> ::= START WHERE <var class="keyword varname">&lt;cond&gt;</var></pre></div>

						<p class="p">The start condition is applied as an additional WHERE filter to the SOURCE specification.
							If a START specification is not specified, then root nodes are
							identified by the condition WHERE PARENT_ID IS NULL.</p>

					</dd>

				
				
					<dt class="dt pt dlterm emphasis"><var class="keyword varname">&lt;hierarchy_genfunc_depth_spec&gt;</var></dt>

					<dd class="dd pd">
						<p class="p" id="loiofc59f81a5c494f399cc2ff70b9c3b4c9__hierarchy_genfunc_depth_spec">Specifies the maximum traversal depth during hierarchy
							generation.</p>

						<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint"><var class="keyword varname">&lt;hierarchy_genfunc_depth_spec&gt;</var> ::= DEPTH <var class="keyword varname">&lt;integer&gt;</var></pre></div>

						<p class="p">Specifying the maximum traversal depth during hierarchy can improve the performance for
							ad-hoc queries with known maximum depths. A predefined maximum depth can
							also be useful when working with directed graph topologies. Start
							nodes/roots have a depth of 0. If depth is set to less than 0, then the
							query returns and empty result set.</p>

					</dd>

				
				
					<dt class="dt pt dlterm emphasis"><var class="keyword varname">&lt;hierarchy_genfunc_orphan_spec&gt;</var></dt>

					<dd class="dd pd">
						<p class="p" id="loiofc59f81a5c494f399cc2ff70b9c3b4c9__hierarchy_genfunc_orphan_spec">Specifies the orphan processing policy. </p>

						<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint"><var class="keyword varname">&lt;hierarchy_genfunc_orphan_spec&gt;</var> ::= 
 ORPHAN IGNORE 
 | ORPHAN ERROR 
 | ORPHAN ADOPT 
 | ORPHAN ROOT</pre></div>

						<p class="p">Orphans are source nodes that cannot be reached from any root node.</p>

						<p class="p"><var class="keyword varname">&lt;hierarchy_genfunc_orphan_spec&gt;</var> and
								<var class="keyword varname">&lt;hierarchy_genfunc_depth_spec&gt;</var> cannot be used at
							the same time. If a maximum search depth is specified, then orphaned
							nodes are always ignored.</p>

						<dl class="dl">
							
								<dt class="dt dlterm emphasis">IGNORE</dt>

								<dd class="dd">
									<p class="p">Orphans are silently ignored. This is the default
										behavior.</p>

								</dd>

							
							
								<dt class="dt dlterm emphasis">ERROR</dt>

								<dd class="dd">
									<p class="p">If the input data contains any orphans, an error is returned.</p>

								</dd>

							
							
								<dt class="dt dlterm emphasis">ROOT</dt>

								<dd class="dd">
									<p class="p">Top-level orphans are treated as root nodes.</p>

								</dd>

							
							
								<dt class="dt dlterm emphasis">ADOPT</dt>

								<dd class="dd">
									<p class="p">Orphans are adopted as children of the last root behind its regular descendants.</p>

								</dd>

							
						</dl>

						<p class="p">During orphan handling (that is, ORPHAN ROOT or ORPHAN ADOPT), only edges that have not
							been traversed when starting from a regular root node are considered.
							For these edges, the HIERARCHY_IS_ORPHAN value is set to 1. The original
							source attribute values are retained. </p>

						<p class="p">In case of an orphaned cycle, an additional edge is introduced in order
							to link the orphaned cycle to the rest of the hierarchy. Since there is
							no corresponding input data for this edge, its source attributes are set
							to NULL except for the NODE_ID, which reflects the value of the end
							point of the newly introduced edge. </p>

					</dd>

				
				
					<dt class="dt pt dlterm emphasis"><a name="loiofc59f81a5c494f399cc2ff70b9c3b4c9__HIERARCHY_function_genfunc_cache_spec"><!-- --></a><var class="keyword varname">&lt;hierarchy_genfunc_cache_spec&gt;</var></dt>

					<dd class="dd pd">
						<p class="p" id="loiofc59f81a5c494f399cc2ff70b9c3b4c9__hierarchy_genfunc_cache_spec">Specifies the caching policy for the
							generated hierarchy result.</p>

						<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint"><var class="keyword varname">&lt;hierarchy_genfunc_cache_spec&gt;</var> ::= 
 CACHE 
 | NO CACHE 
 | CACHE FORCE</pre></div>

						<p class="p">Caching may improve the performance for subsequent navigations on the
							same hierarchy.</p>

						<dl class="dl">
							
								<dt class="dt dlterm emphasis">CACHE</dt>

								<dd class="dd">
									<p class="p">The generated hierarchy is cached if the system assesses the
										source to be reliably deterministic. This is the default
										behavior.</p>

								</dd>

							
							
								<dt class="dt dlterm emphasis">NO CACHE</dt>

								<dd class="dd">
									<p class="p">The generated hierarchy is not cached.</p>

								</dd>

							
							
								<dt class="dt dlterm emphasis">CACHE FORCE</dt>

								<dd class="dd">
									<p class="p">The generated hierarchy is cached even if the source cannot
										be assessed to be reliably deterministic.</p>

								</dd>

							
						</dl>

					</dd>

				
			</dl>

		</div></div>

		<div class="section"><div class="section_title">Description</div><div type="Description">
			
			<p class="p">The HIERARCHY function calculates hierarchical attributes for each edge and vertex based on a
				tabular SOURCE containing an adjacency list (columns that form a recursive
				parent-child relation between rows of the source data). The source columns carrying
				the particular recursive semantics must be named or aliased as NODE_ID and
				PARENT_ID.</p>

			<p class="p">In addition to the source columns, the HIERARCHY function also generates the following
				columns:</p>

			<div class="table-wrapper"><table summary="" id="loiofc59f81a5c494f399cc2ff70b9c3b4c9__simpletable_cgh_mzc_nx" border="1" class="simpletable"><tr class="sthead">
					<th valign="bottom" align="left" id="d33681859e350" class="stentry">
						<p class="p">Output attribute</p>

					</th>

					<th valign="bottom" align="left" id="d33681859e356" class="stentry">
						<p class="p">Data type</p>

					</th>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e350" class="stentry">
						<p class="p">HIERARCHY_RANK</p>

					</td>

					<td valign="top" headers="d33681859e356" class="stentry">
						<p class="p">BIGINT (NOT NULL)</p>

					</td>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e350" class="stentry">
						<p class="p">HIERARCHY_TREE_SIZE</p>

					</td>

					<td valign="top" headers="d33681859e356" class="stentry">
						<p class="p">BIGINT (NOT NULL)</p>

					</td>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e350" class="stentry">
						<p class="p">HIERARCHY_PARENT_RANK</p>

					</td>

					<td valign="top" headers="d33681859e356" class="stentry">
						<p class="p">BIGINT (NOT NULL)</p>

					</td>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e350" class="stentry">
						<p class="p">HIERARCHY_LEVEL</p>

					</td>

					<td valign="top" headers="d33681859e356" class="stentry">
						<p class="p">INTEGER (NOT NULL)</p>

					</td>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e350" class="stentry">
						<p class="p">HIERARCHY_IS_CYCLE</p>

					</td>

					<td valign="top" headers="d33681859e356" class="stentry">
						<p class="p">TINYINT (NOT NULL)</p>

					</td>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e350" class="stentry">
						<p class="p">HIERARCHY_IS_ORPHAN</p>

					</td>

					<td valign="top" headers="d33681859e356" class="stentry">
						<p class="p">TINYINT (NOT NULL)</p>

					</td>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e350" class="stentry">
						<p class="p">...</p>

					</td>

					<td valign="top" headers="d33681859e356" class="stentry">
						<p class="p">...</p>

					</td>

				</tr>
</table></div>

		</div></div>

		<div class="section"><div class="section_title">Example</div><div type="Example">
			
			<p class="p">All examples are based on the following source dataset:</p>

			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">CREATE COLUMN TABLE t_demo ( Parent VARCHAR(2), ID VARCHAR(2), Type VARCHAR(1), Ord INTEGER, Amount INTEGER );

INSERT INTO t_demo VALUES ( null, 'A1', 'a', 1, 50 );
INSERT INTO t_demo VALUES ( 'A1', 'B1', 'b', 1, 120 );
INSERT INTO t_demo VALUES ( 'A1', 'B2', 'c', 2, 90 );
INSERT INTO t_demo VALUES ( 'B1', 'C1', 'a', 1, 40 );
INSERT INTO t_demo VALUES ( 'B1', 'C2', 'b', 2, 60 );
INSERT INTO t_demo VALUES ( 'B2', 'C3', 'c', 3, 75 );
INSERT INTO t_demo VALUES ( 'B2', 'C4', 'a', 4, 30 );
INSERT INTO t_demo VALUES ( 'C3', 'D1', 'b', 1, 10 );
INSERT INTO t_demo VALUES ( 'C3', 'D2', 'c', 2, 25 );
INSERT INTO t_demo VALUES ( 'C4', 'D3', 'a', 3, 30 );
INSERT INTO t_demo VALUES ( null, 'A2', 'b', 2, 80 );
INSERT INTO t_demo VALUES ( 'A2', 'B3', 'c', 3, 45 );
INSERT INTO t_demo VALUES ( 'A2', 'C4', 'a', 4, 30 );</pre></div>

			<p class="p"><span class="ph emphasis emphasis">Example: </span>You calculate all hierarchy attributes of all edges and nodes
				starting from the default condition (WHERE PARENT_ID IS NULL), and force the results
				to be cached:</p>

			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">SELECT hierarchy_rank AS "rank",  
    hierarchy_tree_size AS "tree_size",
    hierarchy_parent_rank AS "parent_rank",
    hierarchy_level AS "level",
    hierarchy_is_cycle AS "is_cycle",
    hierarchy_is_orphan AS "is_orphan",
    node_id,
    parent_id,
    type 
 FROM HIERARCHY ( 
 SOURCE ( SELECT id AS node_id, parent AS parent_id, type
             FROM t_demo
             ORDER BY ord )
 CACHE FORCE )
 ORDER BY hierarchy_rank;</pre></div>

			<div class="table-wrapper"><table summary="" id="loiofc59f81a5c494f399cc2ff70b9c3b4c9__simpletable_utc_rxt_lx" border="1" class="simpletable"><tr class="sthead">
					<th valign="bottom" align="left" id="d33681859e495" class="stentry">
						<p class="p">RANK</p>

					</th>

					<th valign="bottom" align="left" id="d33681859e501" class="stentry">
						<p class="p">TREE_SIZE</p>

					</th>

					<th valign="bottom" align="left" id="d33681859e507" class="stentry">
						<p class="p">PARENT_RANK</p>

					</th>

					<th valign="bottom" align="left" id="d33681859e513" class="stentry">
						<p class="p">LEVEL</p>

					</th>

					<th valign="bottom" align="left" id="d33681859e519" class="stentry">
						<p class="p">IS_CYCLE</p>

					</th>

					<th valign="bottom" align="left" id="d33681859e526" class="stentry">
						<p class="p">IS_ORPHAN</p>

					</th>

					<th valign="bottom" align="left" id="d33681859e532" class="stentry">
						<p class="p">NODE_ID</p>

					</th>

					<th valign="bottom" align="left" id="d33681859e538" class="stentry">
						<p class="p">PARENT_ID</p>

					</th>

					<th valign="bottom" align="left" id="d33681859e544" class="stentry">
						<p class="p">TYPE</p>

					</th>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e495" class="stentry">
						<p class="p">1</p>

					</td>

					<td valign="top" headers="d33681859e501" class="stentry">
						<p class="p">10</p>

					</td>

					<td valign="top" headers="d33681859e507" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e513" class="stentry">
						<p class="p">1</p>

					</td>

					<td valign="top" headers="d33681859e519" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e526" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e532" class="stentry">
						<p class="p">A1</p>

					</td>

					<td valign="top" headers="d33681859e538" class="stentry">
						<p class="p">?</p>

					</td>

					<td valign="top" headers="d33681859e544" class="stentry">
						<p class="p">a</p>

					</td>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e495" class="stentry">
						<p class="p">2</p>

					</td>

					<td valign="top" headers="d33681859e501" class="stentry">
						<p class="p">3</p>

					</td>

					<td valign="top" headers="d33681859e507" class="stentry">
						<p class="p">1</p>

					</td>

					<td valign="top" headers="d33681859e513" class="stentry">
						<p class="p">2</p>

					</td>

					<td valign="top" headers="d33681859e519" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e526" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e532" class="stentry">
						<p class="p">B1</p>

					</td>

					<td valign="top" headers="d33681859e538" class="stentry">
						<p class="p">A1</p>

					</td>

					<td valign="top" headers="d33681859e544" class="stentry">
						<p class="p">b</p>

					</td>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e495" class="stentry">
						<p class="p">3</p>

					</td>

					<td valign="top" headers="d33681859e501" class="stentry">
						<p class="p">1</p>

					</td>

					<td valign="top" headers="d33681859e507" class="stentry">
						<p class="p">2</p>

					</td>

					<td valign="top" headers="d33681859e513" class="stentry">
						<p class="p">3</p>

					</td>

					<td valign="top" headers="d33681859e519" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e526" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e532" class="stentry">
						<p class="p">C1</p>

					</td>

					<td valign="top" headers="d33681859e538" class="stentry">
						<p class="p">B1</p>

					</td>

					<td valign="top" headers="d33681859e544" class="stentry">
						<p class="p">a</p>

					</td>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e495" class="stentry">
						<p class="p">4</p>

					</td>

					<td valign="top" headers="d33681859e501" class="stentry">
						<p class="p">1</p>

					</td>

					<td valign="top" headers="d33681859e507" class="stentry">
						<p class="p">2</p>

					</td>

					<td valign="top" headers="d33681859e513" class="stentry">
						<p class="p">3</p>

					</td>

					<td valign="top" headers="d33681859e519" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e526" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e532" class="stentry">
						<p class="p">C2</p>

					</td>

					<td valign="top" headers="d33681859e538" class="stentry">
						<p class="p">B1</p>

					</td>

					<td valign="top" headers="d33681859e544" class="stentry">
						<p class="p">b</p>

					</td>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e495" class="stentry">
						<p class="p">5</p>

					</td>

					<td valign="top" headers="d33681859e501" class="stentry">
						<p class="p">6</p>

					</td>

					<td valign="top" headers="d33681859e507" class="stentry">
						<p class="p">1</p>

					</td>

					<td valign="top" headers="d33681859e513" class="stentry">
						<p class="p">2</p>

					</td>

					<td valign="top" headers="d33681859e519" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e526" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e532" class="stentry">
						<p class="p">B2</p>

					</td>

					<td valign="top" headers="d33681859e538" class="stentry">
						<p class="p">A1</p>

					</td>

					<td valign="top" headers="d33681859e544" class="stentry">
						<p class="p">c</p>

					</td>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e495" class="stentry">
						<p class="p">6</p>

					</td>

					<td valign="top" headers="d33681859e501" class="stentry">
						<p class="p">3</p>

					</td>

					<td valign="top" headers="d33681859e507" class="stentry">
						<p class="p">5</p>

					</td>

					<td valign="top" headers="d33681859e513" class="stentry">
						<p class="p">3</p>

					</td>

					<td valign="top" headers="d33681859e519" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e526" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e532" class="stentry">
						<p class="p">C3</p>

					</td>

					<td valign="top" headers="d33681859e538" class="stentry">
						<p class="p">B2</p>

					</td>

					<td valign="top" headers="d33681859e544" class="stentry">
						<p class="p">c</p>

					</td>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e495" class="stentry">
						<p class="p">7</p>

					</td>

					<td valign="top" headers="d33681859e501" class="stentry">
						<p class="p">1</p>

					</td>

					<td valign="top" headers="d33681859e507" class="stentry">
						<p class="p">6</p>

					</td>

					<td valign="top" headers="d33681859e513" class="stentry">
						<p class="p">4</p>

					</td>

					<td valign="top" headers="d33681859e519" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e526" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e532" class="stentry">
						<p class="p">D1</p>

					</td>

					<td valign="top" headers="d33681859e538" class="stentry">
						<p class="p">C3</p>

					</td>

					<td valign="top" headers="d33681859e544" class="stentry">
						<p class="p">b</p>

					</td>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e495" class="stentry">
						<p class="p">8</p>

					</td>

					<td valign="top" headers="d33681859e501" class="stentry">
						<p class="p">1</p>

					</td>

					<td valign="top" headers="d33681859e507" class="stentry">
						<p class="p">6</p>

					</td>

					<td valign="top" headers="d33681859e513" class="stentry">
						<p class="p">4</p>

					</td>

					<td valign="top" headers="d33681859e519" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e526" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e532" class="stentry">
						<p class="p">D2</p>

					</td>

					<td valign="top" headers="d33681859e538" class="stentry">
						<p class="p">C3</p>

					</td>

					<td valign="top" headers="d33681859e544" class="stentry">
						<p class="p">c</p>

					</td>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e495" class="stentry">
						<p class="p">9</p>

					</td>

					<td valign="top" headers="d33681859e501" class="stentry">
						<p class="p">2</p>

					</td>

					<td valign="top" headers="d33681859e507" class="stentry">
						<p class="p">5</p>

					</td>

					<td valign="top" headers="d33681859e513" class="stentry">
						<p class="p">3</p>

					</td>

					<td valign="top" headers="d33681859e519" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e526" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e532" class="stentry">
						<p class="p">C4</p>

					</td>

					<td valign="top" headers="d33681859e538" class="stentry">
						<p class="p">B2</p>

					</td>

					<td valign="top" headers="d33681859e544" class="stentry">
						<p class="p">a</p>

					</td>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e495" class="stentry">
						<p class="p">10</p>

					</td>

					<td valign="top" headers="d33681859e501" class="stentry">
						<p class="p">1</p>

					</td>

					<td valign="top" headers="d33681859e507" class="stentry">
						<p class="p">9</p>

					</td>

					<td valign="top" headers="d33681859e513" class="stentry">
						<p class="p">4</p>

					</td>

					<td valign="top" headers="d33681859e519" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e526" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e532" class="stentry">
						<p class="p">D3</p>

					</td>

					<td valign="top" headers="d33681859e538" class="stentry">
						<p class="p">C4</p>

					</td>

					<td valign="top" headers="d33681859e544" class="stentry">
						<p class="p">a</p>

					</td>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e495" class="stentry">
						<p class="p">11</p>

					</td>

					<td valign="top" headers="d33681859e501" class="stentry">
						<p class="p">4</p>

					</td>

					<td valign="top" headers="d33681859e507" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e513" class="stentry">
						<p class="p">1</p>

					</td>

					<td valign="top" headers="d33681859e519" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e526" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e532" class="stentry">
						<p class="p">A2</p>

					</td>

					<td valign="top" headers="d33681859e538" class="stentry">
						<p class="p">?</p>

					</td>

					<td valign="top" headers="d33681859e544" class="stentry">
						<p class="p">b</p>

					</td>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e495" class="stentry">
						<p class="p">12</p>

					</td>

					<td valign="top" headers="d33681859e501" class="stentry">
						<p class="p">1</p>

					</td>

					<td valign="top" headers="d33681859e507" class="stentry">
						<p class="p">11</p>

					</td>

					<td valign="top" headers="d33681859e513" class="stentry">
						<p class="p">2</p>

					</td>

					<td valign="top" headers="d33681859e519" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e526" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e532" class="stentry">
						<p class="p">B3</p>

					</td>

					<td valign="top" headers="d33681859e538" class="stentry">
						<p class="p">A2</p>

					</td>

					<td valign="top" headers="d33681859e544" class="stentry">
						<p class="p">c</p>

					</td>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e495" class="stentry">
						<p class="p">13</p>

					</td>

					<td valign="top" headers="d33681859e501" class="stentry">
						<p class="p">2</p>

					</td>

					<td valign="top" headers="d33681859e507" class="stentry">
						<p class="p">11</p>

					</td>

					<td valign="top" headers="d33681859e513" class="stentry">
						<p class="p">2</p>

					</td>

					<td valign="top" headers="d33681859e519" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e526" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e532" class="stentry">
						<p class="p">C4</p>

					</td>

					<td valign="top" headers="d33681859e538" class="stentry">
						<p class="p">A2</p>

					</td>

					<td valign="top" headers="d33681859e544" class="stentry">
						<p class="p">a</p>

					</td>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e495" class="stentry">
						<p class="p">14</p>

					</td>

					<td valign="top" headers="d33681859e501" class="stentry">
						<p class="p">1</p>

					</td>

					<td valign="top" headers="d33681859e507" class="stentry">
						<p class="p">13</p>

					</td>

					<td valign="top" headers="d33681859e513" class="stentry">
						<p class="p">3</p>

					</td>

					<td valign="top" headers="d33681859e519" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e526" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e532" class="stentry">
						<p class="p">D3</p>

					</td>

					<td valign="top" headers="d33681859e538" class="stentry">
						<p class="p">C4</p>

					</td>

					<td valign="top" headers="d33681859e544" class="stentry">
						<p class="p">a</p>

					</td>

				</tr>
</table></div>

			<p class="p">Nodes that are orphaned, such as in the case of the nodes with HIERARCHY_RANK 10 and 11,
				retain their original PARENT_ID value (NULL in this case, which is represented as a
				question mark, '?', in SAP HANA Studio).</p>

			<p class="p"><span class="ph emphasis emphasis">Example: </span>You determine the set of descendants of node A1 with a depth
				horizon of 2 (that is, down to level C), ignoring other nodes:</p>

			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">SELECT node_id
 FROM HIERARCHY ( SOURCE ( SELECT id AS node_id, parent AS parent_id FROM t_demo )
                  START WHERE id = 'A1'
                  DEPTH 2
                  ORPHAN IGNORE )
 WHERE hierarchy_level &gt; 1
 ORDER BY node_id;</pre></div>

			<div class="table-wrapper"><table summary="" id="loiofc59f81a5c494f399cc2ff70b9c3b4c9__simpletable_dwc_c15_lx" border="1" class="simpletable"><tr class="sthead">
					<th valign="bottom" align="left" id="d33681859e1381" class="stentry">
						<p class="p">NODE_ID</p>

					</th>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e1381" class="stentry">
						<p class="p">B1</p>

					</td>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e1381" class="stentry">
						<p class="p">B2</p>

					</td>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e1381" class="stentry">
						<p class="p">C1</p>

					</td>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e1381" class="stentry">
						<p class="p">C2</p>

					</td>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e1381" class="stentry">
						<p class="p">C3</p>

					</td>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e1381" class="stentry">
						<p class="p">C4</p>

					</td>

				</tr>
</table></div>

			<p class="p"><span class="ph emphasis emphasis">Example: </span>You calculate all hierarchy attributes starting from B1 and B2,
				and orphaned nodes become top level nodes:</p>

			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">SELECT hierarchy_rank AS "rank",  
    hierarchy_tree_size AS "tree_size",
    hierarchy_parent_rank AS "parent_rank",
    hierarchy_level AS "level",
    hierarchy_is_cycle AS "is_cycle",
    hierarchy_is_orphan AS "is_orphan",
    node_id,
    parent_id,
    type 
 FROM HIERARCHY ( SOURCE ( SELECT id AS node_id, parent AS parent_id, type FROM t_demo ORDER BY ord )
                  START WHERE id IN ('B1', 'B2')
                  ORPHAN ROOT )
 ORDER BY hierarchy_rank;</pre></div>

			<div class="table-wrapper"><table summary="" id="loiofc59f81a5c494f399cc2ff70b9c3b4c9__simpletable_gw4_vb5_lx" border="1" class="simpletable"><tr class="sthead">
					<th valign="bottom" align="left" id="d33681859e1457" class="stentry">
						<p class="p">RANK</p>

					</th>

					<th valign="bottom" align="left" id="d33681859e1463" class="stentry">
						<p class="p">TREE_SIZE</p>

					</th>

					<th valign="bottom" align="left" id="d33681859e1469" class="stentry">
						<p class="p">PARENT_RANK</p>

					</th>

					<th valign="bottom" align="left" id="d33681859e1475" class="stentry">
						<p class="p">LEVEL</p>

					</th>

					<th valign="bottom" align="left" id="d33681859e1481" class="stentry">
						<p class="p">IS_CYCLE</p>

					</th>

					<th valign="bottom" align="left" id="d33681859e1488" class="stentry">
						<p class="p">IS_ORPHAN</p>

					</th>

					<th valign="bottom" align="left" id="d33681859e1494" class="stentry">
						<p class="p">NODE_ID</p>

					</th>

					<th valign="bottom" align="left" id="d33681859e1500" class="stentry">
						<p class="p">PARENT_ID</p>

					</th>

					<th valign="bottom" align="left" id="d33681859e1506" class="stentry">
						<p class="p">TYPE</p>

					</th>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e1457" class="stentry">
						<p class="p">1</p>

					</td>

					<td valign="top" headers="d33681859e1463" class="stentry">
						<p class="p">3</p>

					</td>

					<td valign="top" headers="d33681859e1469" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e1475" class="stentry">
						<p class="p">1</p>

					</td>

					<td valign="top" headers="d33681859e1481" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e1488" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e1494" class="stentry">
						<p class="p">B1</p>

					</td>

					<td valign="top" headers="d33681859e1500" class="stentry">
						<p class="p">A1</p>

					</td>

					<td valign="top" headers="d33681859e1506" class="stentry">
						<p class="p">b</p>

					</td>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e1457" class="stentry">
						<p class="p">2</p>

					</td>

					<td valign="top" headers="d33681859e1463" class="stentry">
						<p class="p">1</p>

					</td>

					<td valign="top" headers="d33681859e1469" class="stentry">
						<p class="p">1</p>

					</td>

					<td valign="top" headers="d33681859e1475" class="stentry">
						<p class="p">2</p>

					</td>

					<td valign="top" headers="d33681859e1481" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e1488" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e1494" class="stentry">
						<p class="p">C1</p>

					</td>

					<td valign="top" headers="d33681859e1500" class="stentry">
						<p class="p">B1</p>

					</td>

					<td valign="top" headers="d33681859e1506" class="stentry">
						<p class="p">a</p>

					</td>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e1457" class="stentry">
						<p class="p">3</p>

					</td>

					<td valign="top" headers="d33681859e1463" class="stentry">
						<p class="p">1</p>

					</td>

					<td valign="top" headers="d33681859e1469" class="stentry">
						<p class="p">1</p>

					</td>

					<td valign="top" headers="d33681859e1475" class="stentry">
						<p class="p">2</p>

					</td>

					<td valign="top" headers="d33681859e1481" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e1488" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e1494" class="stentry">
						<p class="p">C2</p>

					</td>

					<td valign="top" headers="d33681859e1500" class="stentry">
						<p class="p">B1</p>

					</td>

					<td valign="top" headers="d33681859e1506" class="stentry">
						<p class="p">b</p>

					</td>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e1457" class="stentry">
						<p class="p">4</p>

					</td>

					<td valign="top" headers="d33681859e1463" class="stentry">
						<p class="p">6</p>

					</td>

					<td valign="top" headers="d33681859e1469" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e1475" class="stentry">
						<p class="p">1</p>

					</td>

					<td valign="top" headers="d33681859e1481" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e1488" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e1494" class="stentry">
						<p class="p">B2</p>

					</td>

					<td valign="top" headers="d33681859e1500" class="stentry">
						<p class="p">A1</p>

					</td>

					<td valign="top" headers="d33681859e1506" class="stentry">
						<p class="p">c</p>

					</td>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e1457" class="stentry">
						<p class="p">5</p>

					</td>

					<td valign="top" headers="d33681859e1463" class="stentry">
						<p class="p">3</p>

					</td>

					<td valign="top" headers="d33681859e1469" class="stentry">
						<p class="p">4</p>

					</td>

					<td valign="top" headers="d33681859e1475" class="stentry">
						<p class="p">2</p>

					</td>

					<td valign="top" headers="d33681859e1481" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e1488" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e1494" class="stentry">
						<p class="p">C3</p>

					</td>

					<td valign="top" headers="d33681859e1500" class="stentry">
						<p class="p">B2</p>

					</td>

					<td valign="top" headers="d33681859e1506" class="stentry">
						<p class="p">c</p>

					</td>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e1457" class="stentry">
						<p class="p">6</p>

					</td>

					<td valign="top" headers="d33681859e1463" class="stentry">
						<p class="p">1</p>

					</td>

					<td valign="top" headers="d33681859e1469" class="stentry">
						<p class="p">5</p>

					</td>

					<td valign="top" headers="d33681859e1475" class="stentry">
						<p class="p">3</p>

					</td>

					<td valign="top" headers="d33681859e1481" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e1488" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e1494" class="stentry">
						<p class="p">D1</p>

					</td>

					<td valign="top" headers="d33681859e1500" class="stentry">
						<p class="p">C3</p>

					</td>

					<td valign="top" headers="d33681859e1506" class="stentry">
						<p class="p">b</p>

					</td>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e1457" class="stentry">
						<p class="p">7</p>

					</td>

					<td valign="top" headers="d33681859e1463" class="stentry">
						<p class="p">1</p>

					</td>

					<td valign="top" headers="d33681859e1469" class="stentry">
						<p class="p">5</p>

					</td>

					<td valign="top" headers="d33681859e1475" class="stentry">
						<p class="p">3</p>

					</td>

					<td valign="top" headers="d33681859e1481" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e1488" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e1494" class="stentry">
						<p class="p">D2</p>

					</td>

					<td valign="top" headers="d33681859e1500" class="stentry">
						<p class="p">C3</p>

					</td>

					<td valign="top" headers="d33681859e1506" class="stentry">
						<p class="p">c</p>

					</td>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e1457" class="stentry">
						<p class="p">8</p>

					</td>

					<td valign="top" headers="d33681859e1463" class="stentry">
						<p class="p">2</p>

					</td>

					<td valign="top" headers="d33681859e1469" class="stentry">
						<p class="p">4</p>

					</td>

					<td valign="top" headers="d33681859e1475" class="stentry">
						<p class="p">2</p>

					</td>

					<td valign="top" headers="d33681859e1481" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e1488" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e1494" class="stentry">
						<p class="p">C4</p>

					</td>

					<td valign="top" headers="d33681859e1500" class="stentry">
						<p class="p">B2</p>

					</td>

					<td valign="top" headers="d33681859e1506" class="stentry">
						<p class="p">a</p>

					</td>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e1457" class="stentry">
						<p class="p">9</p>

					</td>

					<td valign="top" headers="d33681859e1463" class="stentry">
						<p class="p">1</p>

					</td>

					<td valign="top" headers="d33681859e1469" class="stentry">
						<p class="p">8</p>

					</td>

					<td valign="top" headers="d33681859e1475" class="stentry">
						<p class="p">3</p>

					</td>

					<td valign="top" headers="d33681859e1481" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e1488" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e1494" class="stentry">
						<p class="p">D3</p>

					</td>

					<td valign="top" headers="d33681859e1500" class="stentry">
						<p class="p">C4</p>

					</td>

					<td valign="top" headers="d33681859e1506" class="stentry">
						<p class="p">a</p>

					</td>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e1457" class="stentry">
						<p class="p">10</p>

					</td>

					<td valign="top" headers="d33681859e1463" class="stentry">
						<p class="p">1</p>

					</td>

					<td valign="top" headers="d33681859e1469" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e1475" class="stentry">
						<p class="p">1</p>

					</td>

					<td valign="top" headers="d33681859e1481" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e1488" class="stentry">
						<p class="p">1</p>

					</td>

					<td valign="top" headers="d33681859e1494" class="stentry">
						<p class="p">A1</p>

					</td>

					<td valign="top" headers="d33681859e1500" class="stentry">
						<p class="p">?</p>

					</td>

					<td valign="top" headers="d33681859e1506" class="stentry">
						<p class="p">a</p>

					</td>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e1457" class="stentry">
						<p class="p">11</p>

					</td>

					<td valign="top" headers="d33681859e1463" class="stentry">
						<p class="p">3</p>

					</td>

					<td valign="top" headers="d33681859e1469" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e1475" class="stentry">
						<p class="p">1</p>

					</td>

					<td valign="top" headers="d33681859e1481" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e1488" class="stentry">
						<p class="p">1</p>

					</td>

					<td valign="top" headers="d33681859e1494" class="stentry">
						<p class="p">A2</p>

					</td>

					<td valign="top" headers="d33681859e1500" class="stentry">
						<p class="p">?</p>

					</td>

					<td valign="top" headers="d33681859e1506" class="stentry">
						<p class="p">b</p>

					</td>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e1457" class="stentry">
						<p class="p">12</p>

					</td>

					<td valign="top" headers="d33681859e1463" class="stentry">
						<p class="p">1</p>

					</td>

					<td valign="top" headers="d33681859e1469" class="stentry">
						<p class="p">11</p>

					</td>

					<td valign="top" headers="d33681859e1475" class="stentry">
						<p class="p">2</p>

					</td>

					<td valign="top" headers="d33681859e1481" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e1488" class="stentry">
						<p class="p">1</p>

					</td>

					<td valign="top" headers="d33681859e1494" class="stentry">
						<p class="p">B3</p>

					</td>

					<td valign="top" headers="d33681859e1500" class="stentry">
						<p class="p">A2</p>

					</td>

					<td valign="top" headers="d33681859e1506" class="stentry">
						<p class="p">c</p>

					</td>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e1457" class="stentry">
						<p class="p">13</p>

					</td>

					<td valign="top" headers="d33681859e1463" class="stentry">
						<p class="p">1</p>

					</td>

					<td valign="top" headers="d33681859e1469" class="stentry">
						<p class="p">11</p>

					</td>

					<td valign="top" headers="d33681859e1475" class="stentry">
						<p class="p">2</p>

					</td>

					<td valign="top" headers="d33681859e1481" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e1488" class="stentry">
						<p class="p">1</p>

					</td>

					<td valign="top" headers="d33681859e1494" class="stentry">
						<p class="p">C4</p>

					</td>

					<td valign="top" headers="d33681859e1500" class="stentry">
						<p class="p">A2</p>

					</td>

					<td valign="top" headers="d33681859e1506" class="stentry">
						<p class="p">a</p>

					</td>

				</tr>
</table></div>

			<p class="p"><span class="ph emphasis emphasis">Example: </span>You calculate all hierarchy attributes starting from all B*
				nodes, orphaned nodes will be adopted by B3, which is the last root node in
				pre-order traversal:</p>

			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">SELECT hierarchy_rank AS "rank",  
    hierarchy_tree_size AS "tree_size",
    hierarchy_parent_rank AS "parent_rank",
    hierarchy_level AS "level",
    hierarchy_is_cycle AS "is_cycle",
    hierarchy_is_orphan AS "is_orphan",
    node_id,
    parent_id,
    type 
 FROM HIERARCHY ( SOURCE ( SELECT id AS node_id, parent AS parent_id, type FROM t_demo ORDER BY ord )
                  START WHERE id LIKE 'B%'
                  ORPHAN ADOPT )
 ORDER BY hierarchy_rank;</pre></div>

			<div class="table-wrapper"><table summary="" id="loiofc59f81a5c494f399cc2ff70b9c3b4c9__simpletable_mw4_vk4_mx" border="1" class="simpletable"><tr class="sthead">
					<th valign="bottom" align="left" id="d33681859e2282" class="stentry">
						<p class="p">RANK</p>

					</th>

					<th valign="bottom" align="left" id="d33681859e2288" class="stentry">
						<p class="p">TREE_SIZE</p>

					</th>

					<th valign="bottom" align="left" id="d33681859e2294" class="stentry">
						<p class="p">PARENT_RANK</p>

					</th>

					<th valign="bottom" align="left" id="d33681859e2300" class="stentry">
						<p class="p">LEVEL</p>

					</th>

					<th valign="bottom" align="left" id="d33681859e2306" class="stentry">
						<p class="p">IS_CYCLE</p>

					</th>

					<th valign="bottom" align="left" id="d33681859e2313" class="stentry">
						<p class="p">IS_ORPHAN</p>

					</th>

					<th valign="bottom" align="left" id="d33681859e2319" class="stentry">
						<p class="p">NODE_ID</p>

					</th>

					<th valign="bottom" align="left" id="d33681859e2325" class="stentry">
						<p class="p">PARENT_ID</p>

					</th>

					<th valign="bottom" align="left" id="d33681859e2331" class="stentry">
						<p class="p">TYPE</p>

					</th>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e2282" class="stentry">
						<p class="p">1</p>

					</td>

					<td valign="top" headers="d33681859e2288" class="stentry">
						<p class="p">3</p>

					</td>

					<td valign="top" headers="d33681859e2294" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e2300" class="stentry">
						<p class="p">1</p>

					</td>

					<td valign="top" headers="d33681859e2306" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e2313" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e2319" class="stentry">
						<p class="p">B1</p>

					</td>

					<td valign="top" headers="d33681859e2325" class="stentry">
						<p class="p">A1</p>

					</td>

					<td valign="top" headers="d33681859e2331" class="stentry">
						<p class="p">b</p>

					</td>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e2282" class="stentry">
						<p class="p">2</p>

					</td>

					<td valign="top" headers="d33681859e2288" class="stentry">
						<p class="p">1</p>

					</td>

					<td valign="top" headers="d33681859e2294" class="stentry">
						<p class="p">1</p>

					</td>

					<td valign="top" headers="d33681859e2300" class="stentry">
						<p class="p">2</p>

					</td>

					<td valign="top" headers="d33681859e2306" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e2313" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e2319" class="stentry">
						<p class="p">C1</p>

					</td>

					<td valign="top" headers="d33681859e2325" class="stentry">
						<p class="p">B1</p>

					</td>

					<td valign="top" headers="d33681859e2331" class="stentry">
						<p class="p">a</p>

					</td>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e2282" class="stentry">
						<p class="p">3</p>

					</td>

					<td valign="top" headers="d33681859e2288" class="stentry">
						<p class="p">1</p>

					</td>

					<td valign="top" headers="d33681859e2294" class="stentry">
						<p class="p">1</p>

					</td>

					<td valign="top" headers="d33681859e2300" class="stentry">
						<p class="p">2</p>

					</td>

					<td valign="top" headers="d33681859e2306" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e2313" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e2319" class="stentry">
						<p class="p">C2</p>

					</td>

					<td valign="top" headers="d33681859e2325" class="stentry">
						<p class="p">B1</p>

					</td>

					<td valign="top" headers="d33681859e2331" class="stentry">
						<p class="p">b</p>

					</td>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e2282" class="stentry">
						<p class="p">4</p>

					</td>

					<td valign="top" headers="d33681859e2288" class="stentry">
						<p class="p">6</p>

					</td>

					<td valign="top" headers="d33681859e2294" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e2300" class="stentry">
						<p class="p">1</p>

					</td>

					<td valign="top" headers="d33681859e2306" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e2313" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e2319" class="stentry">
						<p class="p">B2</p>

					</td>

					<td valign="top" headers="d33681859e2325" class="stentry">
						<p class="p">A1</p>

					</td>

					<td valign="top" headers="d33681859e2331" class="stentry">
						<p class="p">c</p>

					</td>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e2282" class="stentry">
						<p class="p">5</p>

					</td>

					<td valign="top" headers="d33681859e2288" class="stentry">
						<p class="p">3</p>

					</td>

					<td valign="top" headers="d33681859e2294" class="stentry">
						<p class="p">4</p>

					</td>

					<td valign="top" headers="d33681859e2300" class="stentry">
						<p class="p">2</p>

					</td>

					<td valign="top" headers="d33681859e2306" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e2313" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e2319" class="stentry">
						<p class="p">C3</p>

					</td>

					<td valign="top" headers="d33681859e2325" class="stentry">
						<p class="p">B2</p>

					</td>

					<td valign="top" headers="d33681859e2331" class="stentry">
						<p class="p">c</p>

					</td>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e2282" class="stentry">
						<p class="p">6</p>

					</td>

					<td valign="top" headers="d33681859e2288" class="stentry">
						<p class="p">1</p>

					</td>

					<td valign="top" headers="d33681859e2294" class="stentry">
						<p class="p">5</p>

					</td>

					<td valign="top" headers="d33681859e2300" class="stentry">
						<p class="p">3</p>

					</td>

					<td valign="top" headers="d33681859e2306" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e2313" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e2319" class="stentry">
						<p class="p">D1</p>

					</td>

					<td valign="top" headers="d33681859e2325" class="stentry">
						<p class="p">C3</p>

					</td>

					<td valign="top" headers="d33681859e2331" class="stentry">
						<p class="p">b</p>

					</td>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e2282" class="stentry">
						<p class="p">7</p>

					</td>

					<td valign="top" headers="d33681859e2288" class="stentry">
						<p class="p">1</p>

					</td>

					<td valign="top" headers="d33681859e2294" class="stentry">
						<p class="p">5</p>

					</td>

					<td valign="top" headers="d33681859e2300" class="stentry">
						<p class="p">3</p>

					</td>

					<td valign="top" headers="d33681859e2306" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e2313" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e2319" class="stentry">
						<p class="p">D2</p>

					</td>

					<td valign="top" headers="d33681859e2325" class="stentry">
						<p class="p">C3</p>

					</td>

					<td valign="top" headers="d33681859e2331" class="stentry">
						<p class="p">c</p>

					</td>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e2282" class="stentry">
						<p class="p">8</p>

					</td>

					<td valign="top" headers="d33681859e2288" class="stentry">
						<p class="p">2</p>

					</td>

					<td valign="top" headers="d33681859e2294" class="stentry">
						<p class="p">4</p>

					</td>

					<td valign="top" headers="d33681859e2300" class="stentry">
						<p class="p">2</p>

					</td>

					<td valign="top" headers="d33681859e2306" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e2313" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e2319" class="stentry">
						<p class="p">C4</p>

					</td>

					<td valign="top" headers="d33681859e2325" class="stentry">
						<p class="p">B2</p>

					</td>

					<td valign="top" headers="d33681859e2331" class="stentry">
						<p class="p">a</p>

					</td>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e2282" class="stentry">
						<p class="p">9</p>

					</td>

					<td valign="top" headers="d33681859e2288" class="stentry">
						<p class="p">1</p>

					</td>

					<td valign="top" headers="d33681859e2294" class="stentry">
						<p class="p">8</p>

					</td>

					<td valign="top" headers="d33681859e2300" class="stentry">
						<p class="p">3</p>

					</td>

					<td valign="top" headers="d33681859e2306" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e2313" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e2319" class="stentry">
						<p class="p">D3</p>

					</td>

					<td valign="top" headers="d33681859e2325" class="stentry">
						<p class="p">C4</p>

					</td>

					<td valign="top" headers="d33681859e2331" class="stentry">
						<p class="p">a</p>

					</td>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e2282" class="stentry">
						<p class="p">10</p>

					</td>

					<td valign="top" headers="d33681859e2288" class="stentry">
						<p class="p">4</p>

					</td>

					<td valign="top" headers="d33681859e2294" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e2300" class="stentry">
						<p class="p">1</p>

					</td>

					<td valign="top" headers="d33681859e2306" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e2313" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e2319" class="stentry">
						<p class="p">B3</p>

					</td>

					<td valign="top" headers="d33681859e2325" class="stentry">
						<p class="p">A2</p>

					</td>

					<td valign="top" headers="d33681859e2331" class="stentry">
						<p class="p">c</p>

					</td>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e2282" class="stentry">
						<p class="p">11</p>

					</td>

					<td valign="top" headers="d33681859e2288" class="stentry">
						<p class="p">1</p>

					</td>

					<td valign="top" headers="d33681859e2294" class="stentry">
						<p class="p">10</p>

					</td>

					<td valign="top" headers="d33681859e2300" class="stentry">
						<p class="p">2</p>

					</td>

					<td valign="top" headers="d33681859e2306" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e2313" class="stentry">
						<p class="p">1</p>

					</td>

					<td valign="top" headers="d33681859e2319" class="stentry">
						<p class="p">A1</p>

					</td>

					<td valign="top" headers="d33681859e2325" class="stentry">
						<p class="p">?</p>

					</td>

					<td valign="top" headers="d33681859e2331" class="stentry">
						<p class="p">a</p>

					</td>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e2282" class="stentry">
						<p class="p">12</p>

					</td>

					<td valign="top" headers="d33681859e2288" class="stentry">
						<p class="p">2</p>

					</td>

					<td valign="top" headers="d33681859e2294" class="stentry">
						<p class="p">10</p>

					</td>

					<td valign="top" headers="d33681859e2300" class="stentry">
						<p class="p">2</p>

					</td>

					<td valign="top" headers="d33681859e2306" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e2313" class="stentry">
						<p class="p">1</p>

					</td>

					<td valign="top" headers="d33681859e2319" class="stentry">
						<p class="p">A2</p>

					</td>

					<td valign="top" headers="d33681859e2325" class="stentry">
						<p class="p">?</p>

					</td>

					<td valign="top" headers="d33681859e2331" class="stentry">
						<p class="p">b</p>

					</td>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e2282" class="stentry">
						<p class="p">13</p>

					</td>

					<td valign="top" headers="d33681859e2288" class="stentry">
						<p class="p">1</p>

					</td>

					<td valign="top" headers="d33681859e2294" class="stentry">
						<p class="p">12</p>

					</td>

					<td valign="top" headers="d33681859e2300" class="stentry">
						<p class="p">3</p>

					</td>

					<td valign="top" headers="d33681859e2306" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e2313" class="stentry">
						<p class="p">1</p>

					</td>

					<td valign="top" headers="d33681859e2319" class="stentry">
						<p class="p">C4</p>

					</td>

					<td valign="top" headers="d33681859e2325" class="stentry">
						<p class="p">A2</p>

					</td>

					<td valign="top" headers="d33681859e2331" class="stentry">
						<p class="p">a</p>

					</td>

				</tr>
</table></div>

			<p class="p">You can tell the parents that adopted the orphaned nodes by looking at the
				HIERARCHY_PARENT_RANK (or PARENT_RANK, in the results) value. For example, orphaned
				nodes A1 and A2 show they have been adopted by HIERARCHY_PARENT_RANK 10, which is
				node B3.</p>

			<p class="p"><span class="ph emphasis emphasis">Example: </span>You determine the ancestors of node D1 up to the roots (note the
				reversal of NODE_ID, PARENT_ID columns in the SOURCE specification):</p>

			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">SELECT parent_id, node_id
 FROM HIERARCHY ( SOURCE ( SELECT parent AS node_id, id AS parent_id FROM t_demo ORDER BY ord )
                  START WHERE id = 'D1'
                  ORPHAN IGNORE )
 ORDER BY hierarchy_rank;</pre></div>

			<div class="table-wrapper"><table summary="" id="loiofc59f81a5c494f399cc2ff70b9c3b4c9__simpletable_y4y_t44_mx" border="1" class="simpletable"><tr class="sthead">
					<th valign="bottom" align="left" id="d33681859e3111" class="stentry">
						<p class="p">PARENT_ID</p>

					</th>

					<th valign="bottom" align="left" id="d33681859e3117" class="stentry">
						<p class="p">NODE_ID</p>

					</th>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e3111" class="stentry">
						<p class="p">D1</p>

					</td>

					<td valign="top" headers="d33681859e3117" class="stentry">
						<p class="p">C3</p>

					</td>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e3111" class="stentry">
						<p class="p">C3</p>

					</td>

					<td valign="top" headers="d33681859e3117" class="stentry">
						<p class="p">B2</p>

					</td>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e3111" class="stentry">
						<p class="p">B2</p>

					</td>

					<td valign="top" headers="d33681859e3117" class="stentry">
						<p class="p">A1</p>

					</td>

				</tr>
</table></div>

			<p class="p"><span class="ph emphasis emphasis">Example: </span>You sort hierarchy result in post order:</p>

			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">SELECT hierarchy_rank AS "rank",  
    hierarchy_tree_size AS "tree_size",
    hierarchy_parent_rank AS "parent_rank",
    hierarchy_level AS "level",
    hierarchy_is_cycle AS "is_cycle",
    hierarchy_is_orphan AS "is_orphan",
    node_id,
    parent_id,
    type 
 FROM HIERARCHY ( SOURCE ( SELECT id AS node_id, 
                              parent AS parent_id, 
                              type
                            FROM t_demo
                            ORDER BY ord ) )
 ORDER BY hierarchy_rank + hierarchy_tree_size ASC, hierarchy_rank DESC;</pre></div>

			<div class="table-wrapper"><table summary="" id="loiofc59f81a5c494f399cc2ff70b9c3b4c9__simpletable_pmx_2dp_mx" border="1" class="simpletable"><tr class="sthead">
					<th valign="bottom" align="left" id="d33681859e3182" class="stentry">
						<p class="p">RANK</p>

					</th>

					<th valign="bottom" align="left" id="d33681859e3188" class="stentry">
						<p class="p">TREE_SIZE</p>

					</th>

					<th valign="bottom" align="left" id="d33681859e3194" class="stentry">
						<p class="p">PARENT_RANK</p>

					</th>

					<th valign="bottom" align="left" id="d33681859e3200" class="stentry">
						<p class="p">LEVEL</p>

					</th>

					<th valign="bottom" align="left" id="d33681859e3206" class="stentry">
						<p class="p">IS_CYCLE</p>

					</th>

					<th valign="bottom" align="left" id="d33681859e3213" class="stentry">
						<p class="p">IS_ORPHAN</p>

					</th>

					<th valign="bottom" align="left" id="d33681859e3219" class="stentry">
						<p class="p">NODE_ID</p>

					</th>

					<th valign="bottom" align="left" id="d33681859e3225" class="stentry">
						<p class="p">PARENT_ID</p>

					</th>

					<th valign="bottom" align="left" id="d33681859e3231" class="stentry">
						<p class="p">TYPE</p>

					</th>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e3182" class="stentry">
						<p class="p">3</p>

					</td>

					<td valign="top" headers="d33681859e3188" class="stentry">
						<p class="p">1</p>

					</td>

					<td valign="top" headers="d33681859e3194" class="stentry">
						<p class="p">2</p>

					</td>

					<td valign="top" headers="d33681859e3200" class="stentry">
						<p class="p">3</p>

					</td>

					<td valign="top" headers="d33681859e3206" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e3213" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e3219" class="stentry">
						<p class="p">C1</p>

					</td>

					<td valign="top" headers="d33681859e3225" class="stentry">
						<p class="p">B1</p>

					</td>

					<td valign="top" headers="d33681859e3231" class="stentry">
						<p class="p">a</p>

					</td>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e3182" class="stentry">
						<p class="p">4</p>

					</td>

					<td valign="top" headers="d33681859e3188" class="stentry">
						<p class="p">1</p>

					</td>

					<td valign="top" headers="d33681859e3194" class="stentry">
						<p class="p">2</p>

					</td>

					<td valign="top" headers="d33681859e3200" class="stentry">
						<p class="p">3</p>

					</td>

					<td valign="top" headers="d33681859e3206" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e3213" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e3219" class="stentry">
						<p class="p">C2</p>

					</td>

					<td valign="top" headers="d33681859e3225" class="stentry">
						<p class="p">B1</p>

					</td>

					<td valign="top" headers="d33681859e3231" class="stentry">
						<p class="p">b</p>

					</td>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e3182" class="stentry">
						<p class="p">2</p>

					</td>

					<td valign="top" headers="d33681859e3188" class="stentry">
						<p class="p">3</p>

					</td>

					<td valign="top" headers="d33681859e3194" class="stentry">
						<p class="p">1</p>

					</td>

					<td valign="top" headers="d33681859e3200" class="stentry">
						<p class="p">2</p>

					</td>

					<td valign="top" headers="d33681859e3206" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e3213" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e3219" class="stentry">
						<p class="p">B1</p>

					</td>

					<td valign="top" headers="d33681859e3225" class="stentry">
						<p class="p">A1</p>

					</td>

					<td valign="top" headers="d33681859e3231" class="stentry">
						<p class="p">b</p>

					</td>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e3182" class="stentry">
						<p class="p">7</p>

					</td>

					<td valign="top" headers="d33681859e3188" class="stentry">
						<p class="p">1</p>

					</td>

					<td valign="top" headers="d33681859e3194" class="stentry">
						<p class="p">6</p>

					</td>

					<td valign="top" headers="d33681859e3200" class="stentry">
						<p class="p">4</p>

					</td>

					<td valign="top" headers="d33681859e3206" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e3213" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e3219" class="stentry">
						<p class="p">D1</p>

					</td>

					<td valign="top" headers="d33681859e3225" class="stentry">
						<p class="p">C3</p>

					</td>

					<td valign="top" headers="d33681859e3231" class="stentry">
						<p class="p">b</p>

					</td>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e3182" class="stentry">
						<p class="p">8</p>

					</td>

					<td valign="top" headers="d33681859e3188" class="stentry">
						<p class="p">1</p>

					</td>

					<td valign="top" headers="d33681859e3194" class="stentry">
						<p class="p">6</p>

					</td>

					<td valign="top" headers="d33681859e3200" class="stentry">
						<p class="p">4</p>

					</td>

					<td valign="top" headers="d33681859e3206" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e3213" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e3219" class="stentry">
						<p class="p">D2</p>

					</td>

					<td valign="top" headers="d33681859e3225" class="stentry">
						<p class="p">C3</p>

					</td>

					<td valign="top" headers="d33681859e3231" class="stentry">
						<p class="p">c</p>

					</td>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e3182" class="stentry">
						<p class="p">6</p>

					</td>

					<td valign="top" headers="d33681859e3188" class="stentry">
						<p class="p">3</p>

					</td>

					<td valign="top" headers="d33681859e3194" class="stentry">
						<p class="p">5</p>

					</td>

					<td valign="top" headers="d33681859e3200" class="stentry">
						<p class="p">3</p>

					</td>

					<td valign="top" headers="d33681859e3206" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e3213" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e3219" class="stentry">
						<p class="p">C3</p>

					</td>

					<td valign="top" headers="d33681859e3225" class="stentry">
						<p class="p">B2</p>

					</td>

					<td valign="top" headers="d33681859e3231" class="stentry">
						<p class="p">c</p>

					</td>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e3182" class="stentry">
						<p class="p">10</p>

					</td>

					<td valign="top" headers="d33681859e3188" class="stentry">
						<p class="p">1</p>

					</td>

					<td valign="top" headers="d33681859e3194" class="stentry">
						<p class="p">9</p>

					</td>

					<td valign="top" headers="d33681859e3200" class="stentry">
						<p class="p">4</p>

					</td>

					<td valign="top" headers="d33681859e3206" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e3213" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e3219" class="stentry">
						<p class="p">D3</p>

					</td>

					<td valign="top" headers="d33681859e3225" class="stentry">
						<p class="p">C4</p>

					</td>

					<td valign="top" headers="d33681859e3231" class="stentry">
						<p class="p">a</p>

					</td>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e3182" class="stentry">
						<p class="p">9</p>

					</td>

					<td valign="top" headers="d33681859e3188" class="stentry">
						<p class="p">2</p>

					</td>

					<td valign="top" headers="d33681859e3194" class="stentry">
						<p class="p">5</p>

					</td>

					<td valign="top" headers="d33681859e3200" class="stentry">
						<p class="p">3</p>

					</td>

					<td valign="top" headers="d33681859e3206" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e3213" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e3219" class="stentry">
						<p class="p">C4</p>

					</td>

					<td valign="top" headers="d33681859e3225" class="stentry">
						<p class="p">B2</p>

					</td>

					<td valign="top" headers="d33681859e3231" class="stentry">
						<p class="p">a</p>

					</td>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e3182" class="stentry">
						<p class="p">5</p>

					</td>

					<td valign="top" headers="d33681859e3188" class="stentry">
						<p class="p">6</p>

					</td>

					<td valign="top" headers="d33681859e3194" class="stentry">
						<p class="p">1</p>

					</td>

					<td valign="top" headers="d33681859e3200" class="stentry">
						<p class="p">2</p>

					</td>

					<td valign="top" headers="d33681859e3206" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e3213" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e3219" class="stentry">
						<p class="p">B2</p>

					</td>

					<td valign="top" headers="d33681859e3225" class="stentry">
						<p class="p">A1</p>

					</td>

					<td valign="top" headers="d33681859e3231" class="stentry">
						<p class="p">c</p>

					</td>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e3182" class="stentry">
						<p class="p">1</p>

					</td>

					<td valign="top" headers="d33681859e3188" class="stentry">
						<p class="p">10</p>

					</td>

					<td valign="top" headers="d33681859e3194" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e3200" class="stentry">
						<p class="p">1</p>

					</td>

					<td valign="top" headers="d33681859e3206" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e3213" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e3219" class="stentry">
						<p class="p">A1</p>

					</td>

					<td valign="top" headers="d33681859e3225" class="stentry">
						<p class="p">?</p>

					</td>

					<td valign="top" headers="d33681859e3231" class="stentry">
						<p class="p">a</p>

					</td>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e3182" class="stentry">
						<p class="p">12</p>

					</td>

					<td valign="top" headers="d33681859e3188" class="stentry">
						<p class="p">1</p>

					</td>

					<td valign="top" headers="d33681859e3194" class="stentry">
						<p class="p">11</p>

					</td>

					<td valign="top" headers="d33681859e3200" class="stentry">
						<p class="p">2</p>

					</td>

					<td valign="top" headers="d33681859e3206" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e3213" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e3219" class="stentry">
						<p class="p">B3</p>

					</td>

					<td valign="top" headers="d33681859e3225" class="stentry">
						<p class="p">A2</p>

					</td>

					<td valign="top" headers="d33681859e3231" class="stentry">
						<p class="p">c</p>

					</td>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e3182" class="stentry">
						<p class="p">14</p>

					</td>

					<td valign="top" headers="d33681859e3188" class="stentry">
						<p class="p">1</p>

					</td>

					<td valign="top" headers="d33681859e3194" class="stentry">
						<p class="p">13</p>

					</td>

					<td valign="top" headers="d33681859e3200" class="stentry">
						<p class="p">3</p>

					</td>

					<td valign="top" headers="d33681859e3206" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e3213" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e3219" class="stentry">
						<p class="p">D3</p>

					</td>

					<td valign="top" headers="d33681859e3225" class="stentry">
						<p class="p">C4</p>

					</td>

					<td valign="top" headers="d33681859e3231" class="stentry">
						<p class="p">a</p>

					</td>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e3182" class="stentry">
						<p class="p">13</p>

					</td>

					<td valign="top" headers="d33681859e3188" class="stentry">
						<p class="p">2</p>

					</td>

					<td valign="top" headers="d33681859e3194" class="stentry">
						<p class="p">11</p>

					</td>

					<td valign="top" headers="d33681859e3200" class="stentry">
						<p class="p">2</p>

					</td>

					<td valign="top" headers="d33681859e3206" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e3213" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e3219" class="stentry">
						<p class="p">C4</p>

					</td>

					<td valign="top" headers="d33681859e3225" class="stentry">
						<p class="p">A2</p>

					</td>

					<td valign="top" headers="d33681859e3231" class="stentry">
						<p class="p">a</p>

					</td>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e3182" class="stentry">
						<p class="p">11</p>

					</td>

					<td valign="top" headers="d33681859e3188" class="stentry">
						<p class="p">4</p>

					</td>

					<td valign="top" headers="d33681859e3194" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e3200" class="stentry">
						<p class="p">1</p>

					</td>

					<td valign="top" headers="d33681859e3206" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e3213" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e3219" class="stentry">
						<p class="p">A2</p>

					</td>

					<td valign="top" headers="d33681859e3225" class="stentry">
						<p class="p">?</p>

					</td>

					<td valign="top" headers="d33681859e3231" class="stentry">
						<p class="p">b</p>

					</td>

				</tr>
</table></div>

			<p class="p"><span class="ph emphasis emphasis">Example: </span>You perform a connectivity test between two sets of nodes,
				following edges in both directions:</p>

			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">WITH h AS ( 
    SELECT * FROM HIERARCHY ( SOURCE ( SELECT id AS node_id, parent AS parent_id FROM t_demo ) ) )
 SELECT DISTINCT h1.node_id AS node_set_1, h2.node_id AS node_set_2
     FROM h AS h1, h AS h2
     WHERE h1.node_id IN ( SELECT id FROM t_demo WHERE type = 'a' ) -- node_set_1
     AND h2.node_id IN ( SELECT id FROM t_demo WHERE id LIKE 'D%' ) -- node_set_2
	AND ( h2.hierarchy_rank BETWEEN h1.hierarchy_rank AND h1.hierarchy_rank + h1.hierarchy_tree_size - 1
     OR h1.hierarchy_rank BETWEEN h2.hierarchy_rank AND h2.hierarchy_rank + h2.hierarchy_tree_size - 1 )
 ORDER BY node_set_1, node_set_2;</pre></div>

			<div class="table-wrapper"><table summary="" id="loiofc59f81a5c494f399cc2ff70b9c3b4c9__simpletable_vcj_dfp_mx" border="1" class="simpletable"><tr class="sthead">
					<th valign="bottom" align="left" id="d33681859e4066" class="stentry">
						<p class="p">NODE_SET_1</p>

					</th>

					<th valign="bottom" align="left" id="d33681859e4072" class="stentry">
						<p class="p">NODE_SET_2</p>

					</th>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e4066" class="stentry">
						<p class="p">A1</p>

					</td>

					<td valign="top" headers="d33681859e4072" class="stentry">
						<p class="p">D1</p>

					</td>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e4066" class="stentry">
						<p class="p">A1</p>

					</td>

					<td valign="top" headers="d33681859e4072" class="stentry">
						<p class="p">D2</p>

					</td>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e4066" class="stentry">
						<p class="p">A1</p>

					</td>

					<td valign="top" headers="d33681859e4072" class="stentry">
						<p class="p">D3</p>

					</td>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e4066" class="stentry">
						<p class="p">C4</p>

					</td>

					<td valign="top" headers="d33681859e4072" class="stentry">
						<p class="p">D3</p>

					</td>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e4066" class="stentry">
						<p class="p">D3</p>

					</td>

					<td valign="top" headers="d33681859e4072" class="stentry">
						<p class="p">D3</p>

					</td>

				</tr>
</table></div>

			<p class="p"><span class="ph emphasis emphasis">Example: </span>You perform an adhoc query of a hierarchy that has composite
				node identifiers (keys). The individual components are projected as well:</p>

			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">CREATE COLUMN TABLE t_demo_composite ( 
    parent_1 VARCHAR(1), 
    parent_2 INTEGER, 
    id_1 VARCHAR(1), 
    id_2 INTEGER, 
    type VARCHAR(1), 
    ord INTEGER );

INSERT INTO t_demo_composite VALUES ( 'R', 0, 'A', 1, 'a', 1 );
INSERT INTO t_demo_composite VALUES ( 'A', 1, 'B', 1, 'b', 1 );
INSERT INTO t_demo_composite VALUES ( 'A', 1, 'B', 2, 'c', 2 );

SELECT hierarchy_rank AS "rank",  
    hierarchy_tree_size AS "tree_size",
    hierarchy_parent_rank AS "parent_rank",
    hierarchy_level AS "level",
    hierarchy_is_cycle AS "is_cycle",
    hierarchy_is_orphan AS "is_orphan",
    node_id,
    parent_id,
    type 
 FROM HIERARCHY ( SOURCE ( SELECT id_1||id_2 AS node_id,
                                        parent_1||parent_2 AS parent_id,
                                        id_1,
                                        id_2,
                                        parent_1,
                                        parent_2,
                                        type
                                     FROM t_demo_composite
                                     ORDER BY ord )
                          START WHERE parent_1 = 'R' )
 ORDER BY hierarchy_rank;</pre></div>

			<div class="table-wrapper"><table summary="" id="loiofc59f81a5c494f399cc2ff70b9c3b4c9__simpletable_yqm_rfp_mx" border="1" class="simpletable"><tr class="sthead">
					<th valign="bottom" align="left" id="d33681859e4168" class="stentry">
						<p class="p">RANK</p>

					</th>

					<th valign="bottom" align="left" id="d33681859e4174" class="stentry">
						<p class="p">TREE_SIZE</p>

					</th>

					<th valign="bottom" align="left" id="d33681859e4180" class="stentry">
						<p class="p">PARENT_RANK</p>

					</th>

					<th valign="bottom" align="left" id="d33681859e4186" class="stentry">
						<p class="p">LEVEL</p>

					</th>

					<th valign="bottom" align="left" id="d33681859e4192" class="stentry">
						<p class="p">IS_CYCLE</p>

					</th>

					<th valign="bottom" align="left" id="d33681859e4199" class="stentry">
						<p class="p">IS_ORPHAN</p>

					</th>

					<th valign="bottom" align="left" id="d33681859e4205" class="stentry">
						<p class="p">NODE_ID</p>

					</th>

					<th valign="bottom" align="left" id="d33681859e4211" class="stentry">
						<p class="p">PARENT_ID</p>

					</th>

					<th valign="bottom" align="left" id="d33681859e4217" class="stentry">
						<p class="p">TYPE</p>

					</th>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e4168" class="stentry">
						<p class="p">1</p>

					</td>

					<td valign="top" headers="d33681859e4174" class="stentry">
						<p class="p">3</p>

					</td>

					<td valign="top" headers="d33681859e4180" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e4186" class="stentry">
						<p class="p">1</p>

					</td>

					<td valign="top" headers="d33681859e4192" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e4199" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e4205" class="stentry">
						<p class="p">A1</p>

					</td>

					<td valign="top" headers="d33681859e4211" class="stentry">
						<p class="p">R0</p>

					</td>

					<td valign="top" headers="d33681859e4217" class="stentry">
						<p class="p">a</p>

					</td>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e4168" class="stentry">
						<p class="p">2</p>

					</td>

					<td valign="top" headers="d33681859e4174" class="stentry">
						<p class="p">1</p>

					</td>

					<td valign="top" headers="d33681859e4180" class="stentry">
						<p class="p">1</p>

					</td>

					<td valign="top" headers="d33681859e4186" class="stentry">
						<p class="p">2</p>

					</td>

					<td valign="top" headers="d33681859e4192" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e4199" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e4205" class="stentry">
						<p class="p">B1</p>

					</td>

					<td valign="top" headers="d33681859e4211" class="stentry">
						<p class="p">A1</p>

					</td>

					<td valign="top" headers="d33681859e4217" class="stentry">
						<p class="p">b</p>

					</td>

				</tr>
<tr class="strow">
					<td valign="top" headers="d33681859e4168" class="stentry">
						<p class="p">3</p>

					</td>

					<td valign="top" headers="d33681859e4174" class="stentry">
						<p class="p">1</p>

					</td>

					<td valign="top" headers="d33681859e4180" class="stentry">
						<p class="p">1</p>

					</td>

					<td valign="top" headers="d33681859e4186" class="stentry">
						<p class="p">2</p>

					</td>

					<td valign="top" headers="d33681859e4192" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e4199" class="stentry">
						<p class="p">0</p>

					</td>

					<td valign="top" headers="d33681859e4205" class="stentry">
						<p class="p">B2</p>

					</td>

					<td valign="top" headers="d33681859e4211" class="stentry">
						<p class="p">A1</p>

					</td>

					<td valign="top" headers="d33681859e4217" class="stentry">
						<p class="p">c</p>

					</td>

				</tr>
</table></div>

		</div></div>

	</div>

<div class="related-links"> 
<div class="relinfo"><div class="relinfotitle ">Related Information</div>
<div><a class="link" href="default.html?2969da89b87f4abd85fd0b5f9f5bc395.html" target="_top" title="Hierarchy functions allow you to work with hierarchical data such as tables with rows arranged in a tree or directed graph.">Hierarchy Functions</a></div>
<div><a class="link" href="default.html?7ad8abad31894b5a9685ce914bcd7f87.html" target="_top" title="Returns all ancestors of a set of start nodes in a hierarchy.">HIERARCHY_ANCESTORS Function (Hierarchy)</a></div>
<div><a class="link" href="default.html?589208b0582245a782a1f3667a5b80c1.html" target="_top" title="Returns all descendants of a set of start nodes in a hierarchy.">HIERARCHY_DESCENDANTS Function (Hierarchy)</a></div>
<div><a class="link" href="default.html?ffc0d810a9274f789e6667cf0f73c388.html" target="_top" title="Returns all siblings of a set of start nodes, including the start nodes, in a hierarchy.">HIERARCHY_SIBLINGS Function (Hierarchy)</a></div>
<div><a class="link" href="default.html?9de4bc37efd0450baf15f95f9d3dccd1.html" target="_top" title="Creates a hierarchy based on source data that has a leveled format.">HIERARCHY_LEVELED Function (Hierarchy)</a></div>
<div><a class="link" href="default.html?ca27410e31ff4b7c9e36e38d5ee93153.html" target="_top" title="Concatenates multi-column tuple-like node identifiers into single scalar values.">HIERARCHY_COMPOSITE_ID Function (Hierarchy)</a></div>
</div>
</div>
</div></div><div class="footer" id="custom-footer">
	<div id="custom-footerSpacer"><hr width="350px" align="left"/></div>
	<a class="copyright" href="copyright.html" target="_blank">Copyright</a><span class="separator"> | </span><a class="disclaimer" href="disclaimer.html" target="_blank">Important Disclaimers and Legal Information</a>
</div>

<SCRIPT LANGUAGE="JavaScript"><!--
 var page_title="HIERARCHY Function (Hierarchy)";

        if (page_title !='' &&
        parent.document.title != null) {
 parent.document.title =
          page_title;
 } 
 var
        anchor = document.getElementById(location.hash.substring(+1)); if (typeof (anchor)
        !='undefined' && anchor !=null){
        var top = anchor.getBoundingClientRect().top; } 
//-->
</SCRIPT>
</body>
</html>