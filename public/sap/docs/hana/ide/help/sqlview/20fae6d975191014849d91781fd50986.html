<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta http-equiv="cache-control" content="max-age=0"/>
<meta http-equiv="cache-control" content="no-cache"/>
<meta http-equiv="expires" content="0"/>
<meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT"/>
<meta http-equiv="pragma" content="no-cache"/>
<meta name="abstract" content="Refreshes data statistic objects that the query optimizer uses to make better decisions for query plans."/>
<meta name="description" content="Refreshes data statistic objects that the query optimizer uses to make better decisions for query plans."/>
<meta name="keywords" content="REFRESH STATISTICS"/>

<link rel="stylesheet" type="text/css" href="css/documentation.css?x=0631281881164949"/>
<title>REFRESH STATISTICS Statement (Data Definition)</title>
<!--[if lte IE 7]><style>
      .codeblock{
          overflow:visible;
      }</style><![endif]-->
<script type="text/javascript"><!-- 
        var loops = 10; 
        function GetLoio() { return "loio20fae6d975191014849d91781fd50986";
        } 
        function Sync() { if (parent.SAP_TOC && parent.SAP_TOC.gMenu) {parent.SAP_TOC.gMenu.SelectEntry(GetLoio()); } 
        else if (parent != self && loops-- > 0) { window.setTimeout( "Sync()",500 ); } } 
        Sync(); 

 function hijackLink (elem) { if(elem.href.indexOf('#')
          > 0 ){ var hr = elem.href.substr(0,
          elem.href.indexOf('#')); var anc = elem.href.substr(elem.href.indexOf('#'),
          elem.href.length); var dum = Math.random(); parent.window.location = hr + "?x=" + dum +
          anc; } } //-->
</script>
</head>
<body class="sap_bluecrystal" id="loio20fae6d975191014849d91781fd50986">
<div id="wrapper"><div id="container">

   <h1 class="title topictitle1">REFRESH STATISTICS Statement (Data Definition)</h1>

   
   
   <div class="body refbody"><p class="shortdesc">Refreshes data statistic objects that the query optimizer uses to make better
      decisions for query plans.</p>

      <div class="section">
         
      </div>

      <div class="section" id="loio20fae6d975191014849d91781fd50986__sql_refresh_statistics_1sql_refresh_statistics_syntax"><div class="section_title">Syntax</div><div type="Syntax">
         
         <div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">REFRESH STATISTICS { <var class="keyword varname">&lt;data_statistics_name&gt;</var> [,...] 
   | ON <var class="keyword varname">&lt;data_sources&gt;</var> [[HAVING] <var class="keyword varname">&lt;match_properties&gt;</var>]}</pre></div>

      </div></div>

      <div class="section" id="loio20fae6d975191014849d91781fd50986__sql_refresh_statistics_1sql_refresh_statistics_syntax_element"><div class="section_title">Syntax Element</div><div type="Syntax Element">
         
         <dl class="dl parml">
            
               <dt class="dt pt dlterm emphasis"><var class="keyword varname">&lt;data_statistics_name&gt;</var></dt>

               <dd class="dd pd">
                  <p class="p">Specifies the name of a data statistics object.</p>

                  <div class="div_pre_codeblock"><pre class="pre codeblock prettyprint"><var class="keyword varname">&lt;data_statistics_name&gt;</var> ::= [<var class="keyword varname">&lt;schema_name&gt;</var>.]<var class="keyword varname">&lt;identifier&gt;</var></pre></div>

               </dd>

            
            
               <dt class="dt pt dlterm emphasis"><var class="keyword varname">&lt;data_sources&gt;</var></dt>

               <dd class="dd pd">
                  <p class="p">Refreshes the specified data source(s) of the data statistics objects. </p>

                  <div class="div_pre_codeblock"><pre class="pre codeblock prettyprint"><var class="keyword varname">&lt;data_sources&gt;</var> ::= 
 <var class="keyword varname">&lt;table_name&gt;</var> [(<var class="keyword varname">&lt;column_name&gt;</var>{, <var class="keyword varname">&lt;column_name&gt;</var>}...)] [<var class="keyword varname">&lt;match_type&gt;</var>]</pre></div>

                  <dl class="dl">
                     
                        <dt class="dt dlterm emphasis"><var class="keyword varname">&lt;table_name&gt;</var></dt>

                        <dd class="dd">
                           <p class="p">Refreshes statistics for the specified table, with the optional schema
                              name.</p>

                           <div class="div_pre_codeblock"><pre class="pre codeblock prettyprint"><var class="keyword varname">&lt;table_name&gt;</var> ::= [[<var class="keyword varname">&lt;database_name&gt;</var>.]<var class="keyword varname">&lt;schema_name&gt;</var>.]<var class="keyword varname">&lt;identifier&gt;</var>

<var class="keyword varname">&lt;schema_name&gt;</var> ::= <var class="keyword varname">&lt;identifier&gt;</var></pre></div>

                           <p class="p">For linked database, <var class="keyword varname">&lt;database_name&gt;</var> is the name of
                              the remote source. <var class="keyword varname">&lt;identifier&gt;</var> is the name of the
                              table on the remote source. </p>

                        </dd>

                     
                     
                        <dt class="dt dlterm emphasis"><var class="keyword varname">&lt;column_name&gt;</var></dt>

                        <dd class="dd">
                           <p class="p">Refreshes statistics for the specified column. </p>

                           <div class="div_pre_codeblock"><pre class="pre codeblock prettyprint"><var class="keyword varname">&lt;column_name&gt;</var> ::= <var class="keyword varname">&lt;identifier&gt;</var></pre></div>

                           <p class="p">If no <var class="keyword varname">&lt;column_name&gt;</var> is specified, then all statistics
                              for the table matching the specified
                                 <var class="keyword varname">&lt;data_statistics_type&gt;</var> are refreshed including
                              table-wide statistics (currently only RECORD COUNT).</p>

                        </dd>

                     
                     
                        <dt class="dt dlterm emphasis"><var class="keyword varname">&lt;match_type&gt;</var></dt>

                        <dd class="dd">
                           <p class="p">Controls which data statistics objects to match to
                                 <var class="keyword varname">&lt;data_sources&gt;</var>. </p>

                           <div class="div_pre_codeblock"><pre class="pre codeblock prettyprint"><var class="keyword varname">&lt;match_type&gt;</var> ::= EXACT | CASCADE </pre></div>

                           <p class="p">If <var class="keyword varname">&lt;match_type&gt;</var> is not specified, then any data
                              statistics object(s) that reference all or some of the columns
                              specified in <var class="keyword varname">&lt;data_sources&gt;</var> are refreshed.</p>

                           <p class="p">Specify EXACT to refresh a data statistics object that precisely
                              matches <var class="keyword varname">&lt;data_sources&gt;</var> (including column order).</p>

                           <p class="p">Specify CASCADE to refresh data statistics objects that reference at
                              least one column in <var class="keyword varname">&lt;data_sources&gt;</var>.</p>

                           <p class="p">Use this table to understand how matching is performed based on
                                 <var class="keyword varname">&lt;match_type&gt;</var> when <var class="keyword varname">&lt;data_sources&gt;</var>
                              is T(A, B, C):</p>

                           <div class="table-wrapper"><table summary="" id="loio20fae6d975191014849d91781fd50986__simpletable_l1w_ctf_2v" border="1" class="simpletable"><tr class="sthead">
                                 <th valign="bottom" align="left" id="d16991292e241" class="stentry">
                                    <p class="p">Match type</p>

                                 </th>

                                 <th valign="bottom" align="left" id="d16991292e247" class="stentry">
                                    <p class="p">Example matches</p>

                                 </th>

                                 <th valign="bottom" align="left" id="d16991292e253" class="stentry">Example non-matches</th>

                              </tr>
<tr class="strow">
                                 <td valign="top" headers="d16991292e241" class="stentry">
                                    <p class="p">(not specified)</p>

                                 </td>

                                 <td valign="top" headers="d16991292e247" class="stentry">
                                    <p class="p">T(A, C) </p>

                                    <p class="p">T.C </p>

                                    <p class="p">T(B, A) </p>

                                 </td>

                                 <td valign="top" headers="d16991292e253" class="stentry">
                                    <p class="p">T(A, X) - because T.X is not a column in
                                          <var class="keyword varname">&lt;data_sources&gt;</var>.</p>

                                 </td>

                              </tr>
<tr class="strow">
                                 <td valign="top" headers="d16991292e241" class="stentry">
                                    <p class="p">EXACT</p>

                                 </td>

                                 <td valign="top" headers="d16991292e247" class="stentry">
                                    <p class="p">T(A, B, C)</p>

                                 </td>

                                 <td valign="top" headers="d16991292e253" class="stentry">
                                    <p class="p">T(B, A, C) - because the column order is different than the
                                       column order of <var class="keyword varname">&lt;data_sources&gt;</var>.</p>

                                    <p class="p">T.A - because it does not contain the exact same columns and
                                       column order of <var class="keyword varname">&lt;data_sources&gt;</var>.</p>

                                    <p class="p">T(X, A, B, C) - because T.X is not a column in
                                          <var class="keyword varname">&lt;data_sources&gt;</var>.</p>

                                 </td>

                              </tr>
<tr class="strow">
                                 <td valign="top" headers="d16991292e241" class="stentry">
                                    <p class="p">CASCADE</p>

                                 </td>

                                 <td valign="top" headers="d16991292e247" class="stentry">
                                    <p class="p">T(A, C) </p>

                                    <p class="p">T.C</p>

                                    <p class="p">T(B, A) </p>

                                    <p class="p">T(A, B, C)</p>

                                    <p class="p">T(A, X) </p>

                                    <p class="p">T(B, C) </p>

                                    <p class="p">T.A </p>

                                    <p class="p">T(C, B, A, X) </p>

                                 </td>

                                 <td valign="top" headers="d16991292e253" class="stentry">
                                    <p class="p">T.X - because it does not contain any columns that match the
                                       columns in <var class="keyword varname">&lt;data_sources&gt;</var>.</p>

                                 </td>

                              </tr>
</table></div>

                        </dd>

                     
                  </dl>

               </dd>

            
            
               <dt class="dt pt dlterm emphasis"><var class="keyword varname">&lt;match_properties&gt;</var></dt>

               <dd class="dd pd">
                  <p class="p">Specifies properties to use for matching the data statistics to refresh.</p>

                  <div class="div_pre_codeblock"><pre class="pre codeblock prettyprint"><var class="keyword varname">&lt;match_properties&gt;</var> ::= <var class="keyword varname">&lt;match_property&gt;</var> [<var class="keyword varname">&lt;...&gt;</var>] 

<var class="keyword varname">&lt;match_property&gt;</var> ::=
 TYPE <var class="keyword varname">&lt;data_statistics_type&gt;</var>
 | <var class="keyword varname">&lt;refresh_type&gt;</var></pre></div>

                  <p class="p">If TYPE is not specified, then all data statistics objects on specified data
                     sources are refreshed (ALL). See the CREATE STATISTICS Statement topic for
                     descriptions of the supported data statistics types.</p>

                  <dl class="dl">
                     
                        <dt class="dt dlterm emphasis"><var class="keyword varname">&lt;data_statistics_type&gt;</var></dt>

                        <dd class="dd">
                           <p class="p">Specifies the type of data statistics objects to match when selecting
                              the data statistics to refresh. </p>

                           <div class="div_pre_codeblock"><pre class="pre codeblock prettyprint"><var class="keyword varname">&lt;data_statistics_type&gt;</var> ::= 
 HISTOGRAM 
 | SIMPLE 
 | SKETCH 
 | RECORD COUNT 
 | TOPK
 | ALL</pre></div>

                        </dd>

                     
                     
                        <dt class="dt dlterm emphasis"><var class="keyword varname">&lt;refresh_type&gt;</var></dt>

                        <dd class="dd">
                           <p class="p">Specifies the refresh strategy to match in the data statistics objects
                              when selecting the data statistics to refresh. ALL is the default.</p>

                           <div class="div_pre_codeblock"><pre class="pre codeblock prettyprint"><var class="keyword varname">&lt;refresh_type&gt;</var> ::= RERESH TYPE {AUTO | MANUAL | ALL}</pre></div>

                        </dd>

                     
                  </dl>

               </dd>

            
         </dl>

      </div></div>

      <div class="section" id="loio20fae6d975191014849d91781fd50986__sql_refresh_statistics_1sql_refresh_statistics_description"><div class="section_title">Description</div><div type="Description">
         
         <p class="p">The REFRESH STATISTICS statement rebuilds data statistics objects that approximate the
            specified <var class="keyword varname">&lt;data_sources&gt;</var>.</p>

         <p class="p">The REFRESH STATISTICS statement only affects enabled data statistics objects.</p>

         <p class="p">See the CREATE STATISTICS statement for descriptions of the supported data statistic
            types (<var class="keyword varname">&lt;data_statistics_type&gt;</var>).</p>

      </div></div>

      <div class="section" id="loio20fae6d975191014849d91781fd50986__sql_refresh_statistics_1sql_refresh_statistics_example"><div class="section_title">Example</div><div type="Example">
         
         <p class="p">The following example refreshes the histogram on column T.X, where T is a virtual
            table:</p>

         <div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">REFRESH STATISTICS ON T (X) TYPE HISTOGRAM;</pre></div>

         <p class="p">The following example refreshes any sketch with <var class="keyword varname">&lt;data_sources&gt;</var>
            containing one or more of columns T.x, T.y, or T.z (only) in any order:</p>

         <div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">REFRESH STATISTICS ON T (x, y, z) TYPE SKETCH;</pre></div>

         <p class="p">The following example refreshes the database statistics object named HISTOGRAM_T_X:</p>

         <div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">REFRESH STATISTICS "HISTOGRAM_T_X";</pre></div>

         <p class="p">The following example refreshes any data statistic object with
               <var class="keyword varname">&lt;data_sources&gt;</var> defined as <samp class="ph codeph">T(a, b)</samp>. Histograms on
            T.a and on T.b would not be affected.</p>

         <div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">REFRESH STATISTICS ON T(a, b) EXACT;</pre></div>

         <p class="p">The following example refreshes any data statistic object that has table columns T.a,
            T.b, or T.c listed in <var class="keyword varname">&lt;data_sources&gt;</var>:</p>

         <div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">REFRESH STATISTICS ON T(a, b, c) CASCADE TYPE ALL;</pre></div>

         <p class="p">The following example refreshes the histograms on table columns T.a, T.b, and T.c:</p>

         <div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">REFRESH STATISTICS ON T(a,b,c) TYPE HISTOGRAM;</pre></div>

         <p class="p">The following example refreshes the row count on table T:</p>

         <div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">REFRESH STATISTICS ON T TYPE RECORD COUNT;</pre></div>

      </div></div>

   </div>


<div class="related-links"> 
<div class="relinfo"><div class="relinfotitle ">Related Information</div>
<div><a class="link" href="default.html?20d5252d7519101493f5e662a6cda4d4.html" target="_top" title="Creates data statistic objects that allow the query optimizer to make better decisions for query plans.">CREATE STATISTICS Statement (Data Definition)</a></div>
<div><a class="link" href="default.html?20d7c595751910148307bf3bf4c745e6.html" target="_top" title="Drops data statistic objects that the query optimizer uses to make decisions for query plans.">DROP STATISTICS Statement (Data Definition)</a></div>
<div><a class="link" href="default.html?c6564762f4b846e5a76fcfb3fd7a1a88.html" target="_top" title="Alters the properties of a data statistics object.">ALTER STATISTICS Statement (Data Definition)</a></div>
<div><a class="link" href="default.html?20a1f10a7519101487fcaa1bddb4f7c3.html" target="_top" title="Provides an overview of data statistics objects.">DATA_STATISTICS System View</a></div>
</div>
</div>
</div></div><div class="footer" id="custom-footer">
	<div id="custom-footerSpacer"><hr width="350px" align="left"/></div>
	<a class="copyright" href="copyright.html" target="_blank">Copyright</a><span class="separator"> | </span><a class="disclaimer" href="disclaimer.html" target="_blank">Important Disclaimers and Legal Information</a>
</div>

<SCRIPT LANGUAGE="JavaScript"><!--
 var page_title="REFRESH STATISTICS Statement (Data Definition)";

        if (page_title !='' &&
        parent.document.title != null) {
 parent.document.title =
          page_title;
 } 
 var
        anchor = document.getElementById(location.hash.substring(+1)); if (typeof (anchor)
        !='undefined' && anchor !=null){
        var top = anchor.getBoundingClientRect().top; } 
//-->
</SCRIPT>
</body>
</html>