<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta http-equiv="cache-control" content="max-age=0"/>
<meta http-equiv="cache-control" content="no-cache"/>
<meta http-equiv="expires" content="0"/>
<meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT"/>
<meta http-equiv="pragma" content="no-cache"/>
<meta name="abstract" content="Changes the values of the records of a table."/>
<meta name="description" content="Changes the values of the records of a table."/>
<meta name="keywords" content="UPDATE"/>

<link rel="stylesheet" type="text/css" href="css/documentation.css?x=00612710269526151"/>
<title>UPDATE Statement (Data Manipulation)</title>
<!--[if lte IE 7]><style>
      .codeblock{
          overflow:visible;
      }</style><![endif]-->
<script type="text/javascript"><!-- 
        var loops = 10; 
        function GetLoio() { return "loio20ff268675191014964add3d17700909";
        } 
        function Sync() { if (parent.SAP_TOC && parent.SAP_TOC.gMenu) {parent.SAP_TOC.gMenu.SelectEntry(GetLoio()); } 
        else if (parent != self && loops-- > 0) { window.setTimeout( "Sync()",500 ); } } 
        Sync(); 

 function hijackLink (elem) { if(elem.href.indexOf('#')
          > 0 ){ var hr = elem.href.substr(0,
          elem.href.indexOf('#')); var anc = elem.href.substr(elem.href.indexOf('#'),
          elem.href.length); var dum = Math.random(); parent.window.location = hr + "?x=" + dum +
          anc; } } //-->
</script>
</head>
<body class="sap_bluecrystal" id="loio20ff268675191014964add3d17700909">
<div id="wrapper"><div id="container">

   <h1 class="title topictitle1">UPDATE Statement (Data Manipulation)</h1>

   
   
   <div class="body refbody"><p class="shortdesc">Changes the values of the records of a table.</p>

      <div class="section">
         
      </div>

      <div class="section"/>

      <div class="section" id="loio20ff268675191014964add3d17700909__sql_update_1sql_update_syntax"><div class="section_title">Syntax</div><div type="Syntax">
         
         <div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">UPDATE [<var class="keyword varname">&lt;top_clause&gt;</var>] <var class="keyword varname">&lt;table_name&gt;</var> [<var class="keyword varname">&lt;alias_name&gt;</var>] [<var class="keyword varname">&lt;partition_restriction&gt;</var>] <var class="keyword varname">&lt;set_clause&gt;</var>
   [<var class="keyword varname">&lt;from_clause&gt;</var>]
   [ WHERE <var class="keyword varname">&lt;condition&gt;</var> ]
   [<var class="keyword varname">&lt;hint_clause&gt;</var>]</pre></div>

      </div></div>

      <div class="section" id="loio20ff268675191014964add3d17700909__sql_update_1sql_update_syntax_elements"><div class="section_title">Syntax Elements</div><div type="Syntax Elements">
         
         <dl class="dl parml">
            
               <dt class="dt pt dlterm emphasis"><var class="keyword varname">&lt;top_clause&gt;</var></dt>

               <dd class="dd pd">
                  <p class="p"> Limits the number of updated records (for example, for chunkwise updates). </p>

                  <div class="div_pre_codeblock"><pre class="pre codeblock prettyprint"><var class="keyword varname">&lt;top_clause&gt;</var> ::= TOP <var class="keyword varname">&lt;unsigned_integer&gt;</var></pre></div>

                  <p class="p"><var class="keyword varname">&lt;unsigned_integer&gt;</var> defines the number of records updated in
                     one chunk. This parameter is not supported for variants of UPDATE statements
                     like UPDATE MERGE DELTA, UPDATE PRELOAD, UPDATE UNLOAD, and UPDATE MOVE.</p>

               </dd>

            
            
               <dt class="dt pt dlterm emphasis"><var class="keyword varname">&lt;table_name&gt;</var></dt>

               <dd class="dd pd">
                  <p class="p">Specifies the table where the UPDATE is performed, with the optional schema
                     name.</p>

                  <div class="div_pre_codeblock"><pre class="pre codeblock prettyprint"><var class="keyword varname">&lt;table_name&gt;</var> ::= [[<var class="keyword varname">&lt;database_name&gt;</var>.]<var class="keyword varname">&lt;schema_name&gt;</var>.]<var class="keyword varname">&lt;identifier&gt;</var>

<var class="keyword varname">&lt;schema_name&gt;</var> ::= <var class="keyword varname">&lt;unicode_name&gt;</var></pre></div>

                  <p class="p">For linked database, <var class="keyword varname">&lt;database_name&gt;</var> is the name of the remote
                     source. <var class="keyword varname">&lt;identifier&gt;</var> is the name of the table on the remote
                     source. </p>

               </dd>

            
            
               <dt class="dt pt dlterm emphasis"><var class="keyword varname">&lt;alias_name&gt;</var></dt>

               <dd class="dd pd">
                  <p class="p">Specifies the alias that can be used to refer to the table defined by
                        <var class="keyword varname">&lt;table_name&gt;</var>. </p>

                  <div class="div_pre_codeblock"><pre class="pre codeblock prettyprint"><var class="keyword varname">&lt;alias_name&gt;</var> ::= [AS] <var class="keyword varname">&lt;identifier&gt;</var></pre></div>

               </dd>

            
            
               <dt class="dt pt dlterm emphasis"><var class="keyword varname">&lt;partition_restriction&gt;</var></dt>

               <dd class="dd pd">
                  <p class="p">For a partitioned table, <var class="keyword varname">&lt;partition_restriction&gt;</var> specifies the
                     partition in which the target updated rows are located. </p>

                  <div class="div_pre_codeblock"><pre class="pre codeblock prettyprint"><var class="keyword varname">&lt;partition_restriction&gt;</var> ::= PARTITION ( <var class="keyword varname">&lt;partition_number&gt;</var> )

<var class="keyword varname">&lt;partition_number&gt;</var> ::= <var class="keyword varname">&lt;unsigned_integer&gt;</var></pre></div>

                  <p class="p">If you do not specify a partition restriction, then the database checks all
                     partitions for the update. But if there is partition restriction, only the rows
                     in specified partition are updated. </p>

                  <p class="p">Limitations: </p>

                  <ul class="ul" id="loio20ff268675191014964add3d17700909__ul_oll_mbm_mv">
                     <li class="li">
                        <div class="p">An UPDATE statement with a partition restriction is blocked if the
                           following are true:<ol class="ol" id="loio20ff268675191014964add3d17700909__ol_ddq_nbm_mv">
                              <li class="li">
                                 <p class="p">Partitioning key column update</p>

                              </li>

                              <li class="li">
                                 <p class="p">UNIQUE constraint column update</p>

                              </li>

                              <li class="li">
                                 <p class="p">PRIMARY KEY column update</p>

                              </li>

                           </ol>
</div>

                     </li>

                     <li class="li">
                        <p class="p">Updates that change the updated rows partition are not allowed.</p>

                     </li>

                  </ul>

               </dd>

            
            
               <dt class="dt pt dlterm emphasis"><var class="keyword varname">&lt;set_clause&gt;</var></dt>

               <dd class="dd pd">
                  <p class="p">Specifies the column names and associated values to be set by the update
                     statement.</p>

                  <div class="div_pre_codeblock"><pre class="pre codeblock prettyprint"><var class="keyword varname">&lt;set_clause&gt;</var> ::= 
 SET {<var class="keyword varname">&lt;column_name&gt;</var> = <var class="keyword varname">&lt;expression&gt;</var> 
 | ( <var class="keyword varname">&lt;with_clause&gt;</var> <var class="keyword varname">&lt;subquery&gt;</var> ) },...</pre></div>

                  <p class="p">For the definitions of the <var class="keyword varname">&lt;with_clause&gt;</var> and
                        <var class="keyword varname">&lt;subquery&gt;</var>, see the SELECT statement. The
                        <var class="keyword varname">&lt;with_clause&gt;</var> can be used with column names, not with
                     column lists.</p>

               </dd>

            
            
               <dt class="dt pt dlterm emphasis"><var class="keyword varname">&lt;from_clause&gt;</var></dt>

               <dd class="dd pd">
                  <p class="p">Specifies inputs such as tables to be used in the update statement.</p>

                  <div class="div_pre_codeblock"><pre class="pre codeblock prettyprint"><var class="keyword varname">&lt;from_clause&gt;</var> ::= FROM {<var class="keyword varname">&lt;table_name&gt;</var>} [, {<var class="keyword varname">&lt;table_name&gt;</var>}]...

<var class="keyword varname">&lt;table_name&gt;</var> ::= <var class="keyword varname">&lt;identifier&gt;</var></pre></div>

                  <p class="p"> The object to be updated can be specified as an alias in the
                        <var class="keyword varname">&lt;from_clause&gt;</var>.</p>

               </dd>

            
            
               <dt class="dt pt dlterm emphasis">WHERE <var class="keyword varname">&lt;condition&gt;</var></dt>

               <dd class="dd pd">
                  <p class="p">Specifies the conditions where the command should be performed. </p>

                  <div class="div_pre_codeblock"><pre class="pre codeblock prettyprint"><var class="keyword varname">&lt;condition&gt;</var> ::= 
 <var class="keyword varname">&lt;condition&gt;</var> OR <var class="keyword varname">&lt;condition&gt;</var>
 | <var class="keyword varname">&lt;condition&gt;</var> AND <var class="keyword varname">&lt;condition&gt;</var>
 | NOT <var class="keyword varname">&lt;condition&gt;</var>
 | ( <var class="keyword varname">&lt;condition&gt;</var> )
 | <var class="keyword varname">&lt;predicate&gt;</var></pre></div>

                  <p class="p">For more information on predicates, see the Predicates topic in this guide</p>

               </dd>

            
            
               <dt class="dt pt dlterm emphasis"><var class="keyword varname">&lt;hint_clause&gt;</var></dt>

               <dd class="dd pd">
                  <p class="p">For information on hints, see the HINT clause in the SELECT statement.</p>

               </dd>

            
         </dl>

      </div></div>

      <div class="section" id="loio20ff268675191014964add3d17700909__sql_update_1sql_update_description"><div class="section_title">Description</div><div type="Description">
         
         <p class="p">When this command is used with the FROM clause, the UPDATE FROM query must include the
            updated table name in the FROM clause. Or if an alias exists, the alias should exist in
            the FROM clause. Otherwise it throws an 'invalid table name' error.</p>

         <p class="p">If the WHERE condition is used and is true for a specific row, then the an update is
            performed on that row. If the WHERE clause is omitted, then the UPDATE command updates
            all records of a table.</p>

      </div></div>

      <div class="section" id="loio20ff268675191014964add3d17700909__sql_update_1sql_update_examples"><div class="section_title">Examples</div><div type="Examples">
         
         <p class="p">Create table T, and insert two rows into it. </p>

         <div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">CREATE TABLE T (KEY INT PRIMARY KEY, VAL INT);
 INSERT INTO T VALUES (1, 1);
 INSERT INTO T VALUES (2, 2);</pre></div>

         <p class="p">Update the rows of table T if the condition in the WHERE clause is true. </p>

         <div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">UPDATE T SET VAL = VAL + 1 WHERE KEY = 1;</pre></div>

         
<div class="table-wrapper tablenoborder"><table summary="" id="loio20ff268675191014964add3d17700909__table_imb_2wy_zv" class="table" frame="border" border="1" rules="all">
               <tbody class="tbody">
                  <tr class="row">
                     <td class="entry" valign="top">
                        <p class="p">KEY</p>

                     </td>

                     <td class="entry" valign="top">
                        <p class="p">VAL </p>

                     </td>

                  </tr>

                  <tr class="row">
                     <td class="entry" valign="top">
                        <p class="p">1</p>

                     </td>

                     <td class="entry" valign="top">
                        <p class="p">2 </p>

                     </td>

                  </tr>

                  <tr class="row">
                     <td class="entry" valign="top">
                        <p class="p">2</p>

                     </td>

                     <td class="entry" valign="top">
                        <p class="p">2 </p>

                     </td>

                  </tr>

               </tbody>

            </table>
</div>

         <p class="p">Update all rows of table T because a where clause is not specified as part of the update
            statement. </p>

         <div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">UPDATE T SET VAL = KEY + 10;</pre></div>

         
<div class="table-wrapper tablenoborder"><table summary="" id="loio20ff268675191014964add3d17700909__table_mmb_fwy_zv" class="table" frame="border" border="1" rules="all">
               <tbody class="tbody">
                  <tr class="row">
                     <td class="entry" valign="top">
                        <p class="p">KEY</p>

                     </td>

                     <td class="entry" valign="top">
                        <p class="p">VAL </p>

                     </td>

                  </tr>

                  <tr class="row">
                     <td class="entry" valign="top">
                        <p class="p">1</p>

                     </td>

                     <td class="entry" valign="top">
                        <p class="p">11 </p>

                     </td>

                  </tr>

                  <tr class="row">
                     <td class="entry" valign="top">
                        <p class="p">2</p>

                     </td>

                     <td class="entry" valign="top">
                        <p class="p">12 </p>

                     </td>

                  </tr>

               </tbody>

            </table>
</div>

         <p class="p">Create table T2, and insert two rows into it. </p>

         <div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">CREATE TABLE T2 (KEY INT PRIMARY KEY, VAR INT);
 INSERT INTO T2 VALUES (1, 2);
 INSERT INTO T2 VALUES (3, 6);</pre></div>

         <p class="p">Update the values of table T by joining the target table T with table T2. </p>

         <div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">UPDATE T SET VAL = T2.VAR FROM T, T2 WHERE T.KEY = T2.KEY;</pre></div>

         
<div class="table-wrapper tablenoborder"><table summary="" id="loio20ff268675191014964add3d17700909__table_ywy_hwy_zv" class="table" frame="border" border="1" rules="all">
               <tbody class="tbody">
                  <tr class="row">
                     <td class="entry" valign="top">
                        <p class="p">KEY</p>

                     </td>

                     <td class="entry" valign="top">
                        <p class="p">VAL </p>

                     </td>

                  </tr>

                  <tr class="row">
                     <td class="entry" valign="top">
                        <p class="p">1</p>

                     </td>

                     <td class="entry" valign="top">
                        <p class="p">2 </p>

                     </td>

                  </tr>

                  <tr class="row">
                     <td class="entry" valign="top">
                        <p class="p">2</p>

                     </td>

                     <td class="entry" valign="top">
                        <p class="p">2 </p>

                     </td>

                  </tr>

               </tbody>

            </table>
</div>

         <p class="p">Update the table T with an aliased table in the FROM clause by joining the target table
            T with table T2 which also has an alias. </p>

         <div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">UPDATE T A SET VAL = B.VAR FROM T A, T2 B WHERE A.KEY = B.KEY;</pre></div>

         
<div class="table-wrapper tablenoborder"><table summary="" id="loio20ff268675191014964add3d17700909__table_s2r_xbw_fv" class="table" frame="border" border="1" rules="all">
               <tbody class="tbody">
                  <tr class="row">
                     <td class="entry" valign="top">
                        <p class="p">KEY</p>

                     </td>

                     <td class="entry" valign="top">
                        <p class="p">VAL </p>

                     </td>

                  </tr>

                  <tr class="row">
                     <td class="entry" valign="top">
                        <p class="p">1</p>

                     </td>

                     <td class="entry" valign="top">
                        <p class="p">2 </p>

                     </td>

                  </tr>

                  <tr class="row">
                     <td class="entry" valign="top">
                        <p class="p">2</p>

                     </td>

                     <td class="entry" valign="top">
                        <p class="p">2 </p>

                     </td>

                  </tr>

               </tbody>

            </table>
</div>

         <p class="p">The updated table should exist in the FROM clause.</p>

         <p class="p">If you update table using the FROM clause like the example below, ambiguity of the
            target table in the FROM clause is allowed. </p>

         
<div class="table-wrapper tablenoborder"><table summary="" id="loio20ff268675191014964add3d17700909__table_jy2_2cw_fv" class="table" frame="border" border="1" rules="all">
               <tbody class="tbody">
                  <tr class="row">
                     <td class="entry" valign="top">
                        <p class="p">KEY</p>

                     </td>

                     <td class="entry" valign="top">
                        <p class="p">VAL </p>

                     </td>

                  </tr>

                  <tr class="row">
                     <td class="entry" valign="top">
                        <p class="p">1</p>

                     </td>

                     <td class="entry" valign="top">
                        <p class="p">2 </p>

                     </td>

                  </tr>

                  <tr class="row">
                     <td class="entry" valign="top">
                        <p class="p">2</p>

                     </td>

                     <td class="entry" valign="top">
                        <p class="p">2 </p>

                     </td>

                  </tr>

               </tbody>

            </table>
</div>

         <p class="p">You can specify the partition that you want to update with partition restriction
            clause.</p>

         <div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">CREATE COLUMN TABLE PARTTAB1 (A INT, B INT, C INT) PARTITION BY RANGE(A) (PARTITION 0 &lt;= VALUES &lt;3, PARTITION OTHERS);
 INSERT INTO PARTTAB1 VALUES (1,1,1);
 INSERT INTO PARTTAB1 VALUES (2,2,2);
 INSERT INTO PARTTAB1 VALUES (3,3,3);
 UPDATE PARTTAB1 PARTITION(1) SET B = 10; -- only records (1,1,1) and (2,2,2) are updated.</pre></div>

         <div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">UPDATE T SET VAL = B.VAL FROM T A, T B WHERE A.KEY = B.KEY; --&gt; error due to ambiguity of table T.</pre></div>

         <p class="p">Update a chunk of 100,000 records of the table <kbd class="ph userinput">testtab</kbd> that
            contain 'XXX' in the <kbd class="ph userinput">request</kbd> column and the value 0 in the
               <kbd class="ph userinput">updated</kbd> column. For each row processed, the
               <kbd class="ph userinput">updated</kbd> column is set to 1.</p>

         <div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">update top 100000 testtab set updated = 1 where request = 'XXX' and updated = 0</pre></div>

         <p class="p">UPDATE a table with an array value construction by enumeration .</p>

         <div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">UPDATE T1 SET C1 = ARRAY ( 11, 12, 13, 14 ) WHERE ID = 1</pre></div>

         <p class="p">UPDATE a table with an array value construction by query.</p>

         <div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">UPDATE T1 SET C1 = ARRAY( SELECT C1 FROM T0 ) WHERE ID = 1</pre></div>

      </div></div>

   </div>

<div class="related-links"> 
<div class="relinfo"><div class="relinfotitle ">Related Information</div>
<div><a class="link" href="default.html?209f5020751910148fd8fe88aa4d79d9.html" target="_top" title="This chapter describes the SAP HANA database implementation of Structured Query Language (SQL).">Introduction to SQL</a></div>
<div><a class="link" href="default.html?20a4389775191014b5a6bf2ccc0df2ed.html" target="_top" title="Describes the expression support offered in SAP HANA.">Expressions</a></div>
<div><a class="link" href="default.html?20fcf24075191014a89e9dc7b8408b26.html" target="_top" title="Retrieves information from the database.">SELECT Statement (Data Manipulation)</a></div>
<div><a class="link" href="default.html?20a2ab29751910148de0fe7189c330bc.html" target="_top">Predicates</a></div>
</div>
</div>
</div></div><div class="footer" id="custom-footer">
	<div id="custom-footerSpacer"><hr width="350px" align="left"/></div>
	<a class="copyright" href="copyright.html" target="_blank">Copyright</a><span class="separator"> | </span><a class="disclaimer" href="disclaimer.html" target="_blank">Important Disclaimers and Legal Information</a>
</div>

<SCRIPT LANGUAGE="JavaScript"><!--
 var page_title="UPDATE Statement (Data Manipulation)";

        if (page_title !='' &&
        parent.document.title != null) {
 parent.document.title =
          page_title;
 } 
 var
        anchor = document.getElementById(location.hash.substring(+1)); if (typeof (anchor)
        !='undefined' && anchor !=null){
        var top = anchor.getBoundingClientRect().top; } 
//-->
</SCRIPT>
</body>
</html>