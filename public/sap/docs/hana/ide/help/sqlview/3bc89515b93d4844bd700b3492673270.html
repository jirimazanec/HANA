<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta http-equiv="cache-control" content="max-age=0"/>
<meta http-equiv="cache-control" content="no-cache"/>
<meta http-equiv="expires" content="0"/>
<meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT"/>
<meta http-equiv="pragma" content="no-cache"/>
<meta name="abstract" content="Replaces a view definition with a modified version."/>
<meta name="description" content="Replaces a view definition with a modified version."/>
<meta name="keywords" content="ALTER VIEW"/>

<link rel="stylesheet" type="text/css" href="css/documentation.css?x=13363173546582763"/>
<title>ALTER VIEW Statement (Data Definition)</title>
<!--[if lte IE 7]><style>
      .codeblock{
          overflow:visible;
      }</style><![endif]-->
<script type="text/javascript"><!-- 
        var loops = 10; 
        function GetLoio() { return "loio3bc89515b93d4844bd700b3492673270";
        } 
        function Sync() { if (parent.SAP_TOC && parent.SAP_TOC.gMenu) {parent.SAP_TOC.gMenu.SelectEntry(GetLoio()); } 
        else if (parent != self && loops-- > 0) { window.setTimeout( "Sync()",500 ); } } 
        Sync(); 

 function hijackLink (elem) { if(elem.href.indexOf('#')
          > 0 ){ var hr = elem.href.substr(0,
          elem.href.indexOf('#')); var anc = elem.href.substr(elem.href.indexOf('#'),
          elem.href.length); var dum = Math.random(); parent.window.location = hr + "?x=" + dum +
          anc; } } //-->
</script>
</head>
<body class="sap_bluecrystal" id="loio3bc89515b93d4844bd700b3492673270">
<div id="wrapper"><div id="container">

	<h1 class="title topictitle1">ALTER VIEW Statement (Data Definition)</h1>


	
	
	<div class="body refbody"><p class="shortdesc">Replaces a view definition with a modified version.</p>

		<div class="section"><div class="section_title">Syntax</div><div type="Syntax">
			
			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">ALTER VIEW <var class="keyword varname">&lt;view_name&gt;</var> [(<var class="keyword varname">&lt;column_name_list&gt;</var>)] [ AS <var class="keyword varname">&lt;subquery&gt;</var> [WITH MASK (<var class="keyword varname">&lt;columns_mask_definition&gt;</var>)]]
 [ <var class="keyword varname">&lt;alter_cache_settings_clause&gt;</var> 
 | <var class="keyword varname">&lt;alter_association_settings_clause&gt;</var> 
 | <var class="keyword varname">&lt;alter_restriction_settings_clause&gt;</var>
 | <var class="keyword varname">&lt;alter_mask_settings_clause&gt;</var> ]</pre></div>

		</div></div>

		<div class="section"><div class="section_title">Syntax Elements</div><div type="Syntax Elements">
			<dl class="dl parml">
				
					<dt class="dt pt dlterm emphasis"><var class="keyword varname">&lt;view_name&gt;</var></dt>

					<dd class="dd pd">
						<p class="p">Specifies the identifier of the view to be altered, with optional schema
							name.</p>

						<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint"><var class="keyword varname">&lt;view_name&gt;</var> ::= [ <var class="keyword varname">&lt;schema_name&gt;</var>. ]<var class="keyword varname">&lt;identifier&gt;</var></pre></div>

					</dd>

				
				
					<dt class="dt pt dlterm emphasis"><var class="keyword varname">&lt;column_name_list&gt;</var></dt>

					<dd class="dd pd">
						<p class="p">Specifies the column names in the view.</p>

					</dd>

				
				
					<dt class="dt pt dlterm emphasis">AS <var class="keyword varname">&lt;subquery&gt;</var></dt>

					<dd class="dd pd">Specifies the subquery to use for populating the view with data.<dl class="dl">
							
								<dt class="dt dlterm emphasis">WITH MASK</dt>

								<dd class="dd">
									<p class="p">Adds data masking to the contents of the specified columns.
										Data masking transforms confidential data so that it appears
										meaningless to users who don't have the privileges required
										to view it.</p>

									<p class="p">You can only use the WITH MASK clause with a query. WITH MASK
										overwrites the existing view definition and replaces it with
										a new view and new masking definitions (or no masking
										definitions).</p>

									<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint"><var class="keyword varname">&lt;columns_mask_definition&gt;</var>::= <var class="keyword varname">&lt;mask_expression&gt;</var>

<var class="keyword varname">&lt;mask_expression&gt;</var>::= <var class="keyword varname">&lt;expression&gt;</var></pre></div>

									<p class="p"><var class="keyword varname">&lt;mask_expression&gt;</var> can be any type of
										expression, including a user-defined function, but it cannot
										be a subquery.</p>

									<p class="p">For more information on data masking, see the <cite class="cite">SAP HANA
											Security Guide</cite>.</p>

								</dd>

							
						</dl>
</dd>

				
				
					<dt class="dt pt dlterm emphasis"><var class="keyword varname">&lt;alter_cache_settings_clause&gt;</var></dt>

					<dd class="dd pd">
						<p class="p">Specifies cache changes.</p>

						<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint"><var class="keyword varname">&lt;alter_cache_settings_clause&gt;</var> ::= 
 <var class="keyword varname">&lt;add_cache_clause&gt;</var> 
 | <var class="keyword varname">&lt;alter_cache_clause&gt;</var>
 | <var class="keyword varname">&lt;drop_cache_clause&gt;</var> </pre></div>

						<dl class="dl">
							
								<dt class="dt dlterm emphasis"><var class="keyword varname">&lt;add_cache_clause&gt;</var></dt>

								<dd class="dd">
									<p class="p">Caches the result of the view.</p>

									
									<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint"><var class="keyword varname">&lt;add_cache_clause&gt;</var> ::= 
 ADD [<var class="keyword varname">&lt;cache_type&gt;</var>] CACHE [RETENTION <var class="keyword varname">&lt;minute_value&gt;</var>]
 [OF <var class="keyword varname">&lt;projection_list&gt;</var>] 
 [FILTER <var class="keyword varname">&lt;filter_condition&gt;</var>] [FORCE]

<var class="keyword varname">&lt;cache_type&gt;</var> ::= STATIC | DYNAMIC

<var class="keyword varname">&lt;minute_value&gt;</var> ::= <var class="keyword varname">&lt;unsigned_integer&gt;</var></pre></div>

									<p class="p">Use <var class="keyword varname">&lt;cache_type&gt;</var> to specify whether your
										result cache is static or dynamic. A view has only one type
										of cache. The default value is STATIC. Using a static result
										cache may result in stale data, and specifying a retention
										period ensures that data does not exceed the specified
										RETENTION period. Data that exceeds the retention period is
										refreshed and up-to-date data is returned. A dynamic result
										cache ensures up-to-date data as it is partially or fully
										refreshed every time you run a query on the result cache.
										Dynamic result caches are not supported on scale-out systems
										and are only supported for SQL views defined as aggregation
										on single column tables. Currently only aggregation types
										sum, count, and avg are supported.</p>

									<dl class="dl">
										
											<dt class="dt dlterm emphasis"><var class="keyword varname">&lt;projection_list&gt;</var></dt>

											<dd class="dd">
												<p class="p">Reduces the cached data by specifying a cached
												projection list.</p>

												<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint"><var class="keyword varname">&lt;projection_list&gt;</var> ::= <var class="keyword varname">&lt;projection_name&gt;</var> [{, <var class="keyword varname">&lt;projection_name&gt;</var>}]

<var class="keyword varname">&lt;projection_name&gt;</var> ::= 
 <var class="keyword varname">&lt;column_name&gt;</var> 
 | <var class="keyword varname">&lt;aggr_type&gt;</var>(<var class="keyword varname">&lt;column_name&gt;</var>)

<var class="keyword varname">&lt;aggr_type&gt;</var> ::= 
 SUM
 |MIN
 |MAX
 |COUNT</pre></div>

												<p class="p">For static caches, you can reduce the cached data
												by specifying a cached projection list. If a
												column that is not part of the projection list is
												requested or included in the WHERE clause, then
												the cache cannot be exploited. You can also direct
												an aggregation type of a specific column for the
												SQL view (not supported for calculation view). You
												specify a cached projection list, then the cache
												includes aggregated results of that column and
												returns aggregated results only. This option is
												not supported for dynamic caches.</p>

												
											</dd>

										
										
											<dt class="dt dlterm emphasis"><var class="keyword varname">&lt;filter_condition&gt;</var></dt>

											<dd class="dd">
												<p class="p">Filters data based on a specified condition.</p>

												<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint"><var class="keyword varname">&lt;filter_condition&gt;</var> ::= <var class="keyword varname">&lt;condition&gt;</var>

<var class="keyword varname">&lt;condition&gt;</var> ::= 
 <var class="keyword varname">&lt;condition&gt;</var> AND <var class="keyword varname">&lt;condition&gt;</var>
 | <var class="keyword varname">&lt;comparison_predicate&gt;</var></pre></div>

												<p class="p">Only filtered results are cached. The CONTAINS
												predicate and predicates containing subqueries are
												not supported.</p>

												<p class="p">For static caches, all forms of non-parameterized
												query filters are supported. For parameterized
												query filters, only conjunctive forms are
												supported. For dynamic caches, only parameterized
												query filters on string columns in conjunctive
												forms are supported. For example:</p>

												<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">column = ? [ AND <var class="keyword varname">&lt;and column = ?&gt;</var> ]</pre></div>

											</dd>

										
										
											<dt class="dt dlterm emphasis">FORCE</dt>

											<dd class="dd">
												<p class="p">For static caches, this option forces the
												addition of a cache without checking its
												cachability. This feature is only available for
												calculation views. This option is not supported
												for dynamic caches.</p>

											</dd>

										
									</dl>

								</dd>

							
							
								<dt class="dt dlterm emphasis"><var class="keyword varname">&lt;alter_cache_clause&gt;</var></dt>

								<dd class="dd">
									<p class="p">For static caches, you can change the retention value of the
										result cache of a view. This option is not supported for
										dynamic caches.</p>

									<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint"><var class="keyword varname">&lt;alter_cache_clause&gt;</var> ::= ALTER CACHE RETENTION <var class="keyword varname">&lt;minute_value&gt;</var>
 
<var class="keyword varname">&lt;minute_value&gt;</var> ::= <var class="keyword varname">&lt;unsigned_integer&gt;</var></pre></div>

								</dd>

							
							
								<dt class="dt dlterm emphasis"><var class="keyword varname">&lt;drop_cache_clause&gt;</var></dt>

								<dd class="dd">
									<p class="p">Specifies to drop the result cache of a view.</p>

									<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint"><var class="keyword varname">&lt;drop_cache_clause&gt;</var> ::= DROP [<var class="keyword varname">&lt;cache_type&gt;</var>] CACHE</pre></div>

								</dd>

								<dd class="dd">
									<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint"><var class="keyword varname">&lt;cache_type&gt;</var> ::= STATIC | DYNAMIC</pre></div>

								</dd>

							
						</dl>

					</dd>

				
				
					<dt class="dt pt dlterm emphasis"><var class="keyword varname">&lt;alter_association_settings_clause&gt;</var></dt>

					<dd class="dd pd">
						<p class="p">Creates views that have relationships with other tables and views.</p>

						<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint"><var class="keyword varname">&lt;alter_association_settings_clause&gt;</var> ::= WITH ASSOCIATIONS ( <var class="keyword varname">&lt;association_definition&gt;</var>, ... )

<var class="keyword varname">&lt;association_definition&gt;</var> ::=
 [<var class="keyword varname">&lt;join_cardinality_type&gt;</var>] JOIN <var class="keyword varname">&lt;table_table_name&gt;</var> [AS <var class="keyword varname">&lt;association_name&gt;</var>]
   ON <var class="keyword varname">&lt;join_condition&gt;</var>

<var class="keyword varname">&lt;join_cardinality_type&gt;</var> ::= 
 ONE TO ONE 
 | ONE TO MANY 
 | MANY TO ONE 
 | MANY TO MANY</pre></div>

					</dd>

				
				
					<dt class="dt pt dlterm emphasis"><var class="keyword varname">&lt;alter_restriction_settings_clause&gt;</var></dt>

					<dd class="dd pd">
						<p class="p">Sets restrictions based on structured privileges.</p>

						<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint"><var class="keyword varname">&lt;alter_restriction_settings_clause&gt;</var> ::= 
 WITH [NO] CHECK OPTION <var class="keyword varname">&lt;structured_privilege_check&gt;</var> 
 | WITH [NO] READ ONLY <var class="keyword varname">&lt;structured_privilege_check&gt;</var> 
 | WITH <var class="keyword varname">&lt;structured_privilege_check&gt;</var>

<var class="keyword varname">&lt;structured_privilege_check&gt;</var> ::= [NO] STRUCTURED PRIVILEGE CHECK</pre></div>

					</dd>

				
				
					<dt class="dt pt dlterm emphasis"><var class="keyword varname">&lt;alter_mask_settings_clause&gt;</var></dt>

					<dd class="dd pd">
						<p class="p">Specifies data masking changes. Add or alter data masking for the entire view, or drop
							masking for the specified columns. Data masking transforms confidential
							data so that it appears meaningless to users who don't have the
							privileges required to view it.
								<var class="keyword varname">&lt;alter_mask_settings_clause&gt;</var> does not change the
							view's column definitions. For an example of data masking, see the
							CREATE VIEW statement.</p>

						<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint"><var class="keyword varname">&lt;alter_mask_settings_clause&gt;</var> ::=
 { ADD | ALTER } MASK (<var class="keyword varname">&lt;columns_mask_definition&gt;</var>)
 | DROP MASK (<var class="keyword varname">&lt;column_name_list&gt;</var>)

<var class="keyword varname">&lt;columns_mask_definition&gt;</var> ::= <var class="keyword varname">&lt;mask_expression&gt;</var>

<var class="keyword varname">&lt;mask_expression&gt;</var> ::= <var class="keyword varname">&lt;expression&gt;</var>

<var class="keyword varname">&lt;column_name_list&gt;</var> ::= <var class="keyword varname">&lt;column_name&gt;</var>[,...]</pre></div>

						<p class="p"><var class="keyword varname">&lt;mask_expression&gt;</var> can be any type of expression,
							including a user-defined function, but it cannot be a subquery.</p>

					</dd>

				
			</dl>
</div></div>

		<div class="section"><div class="section_title">Description</div><div type="Description">
			
			<p class="p">The RESULT CACHE stores query execution results on the view to increase performance
				if a query is executed on the same view again. With this ALTER VIEW command, you can
				add the result cache to the view.</p>

		</div></div>

		<div class="example"><h2 class="exampletitle">Example</h2>
			<ol class="ol" id="loio3bc89515b93d4844bd700b3492673270__ol_t3j_vhv_1x">
				<li class="li">
					<p class="p">Create table TAB.</p>

					<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">CREATE TABLE TAB (COL1 INT PRIMARY KEY, COL2 INT);</pre></div>

					<p class="p">Create a view, V, that selects all records from table TAB.</p>

					<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">CREATE VIEW V AS SELECT * FROM TAB;</pre></div>

					<p class="p">Add the result cache to view V and enable static result caching.</p>

					<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">ALTER VIEW V ADD STATIC CACHE RETENTION 10;</pre></div>

					<p class="p">Change the retention value of the result cache of view V.</p>

					<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">ALTER VIEW V ALTER STATIC CACHE RETENTION 20;</pre></div>

					<p class="p">Drop the result cache of view V.</p>

					<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">ALTER VIEW V DROP STATIC CACHE;</pre></div>

				</li>

				<li class="li">
					<p class="p">Enable dynamic result caching.</p>

					<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">ALTER V ADD DYNAMIC CACHE;</pre></div>

				</li>

			</ol>

		</div>

	</div>

<div class="related-links"> 
<div class="relinfo"><div class="relinfotitle ">Related Information</div>
<div><a class="link" href="default.html?20a2ab29751910148de0fe7189c330bc.html" target="_top">Predicates</a></div>
<div><a class="link" href="default.html?20d5fa9b75191014a33eee92692f1702.html" target="_top" title="Creates a view on the database.">CREATE VIEW Statement (Data Definition)</a></div>
</div>
</div>
</div></div><div class="footer" id="custom-footer">
	<div id="custom-footerSpacer"><hr width="350px" align="left"/></div>
	<a class="copyright" href="copyright.html" target="_blank">Copyright</a><span class="separator"> | </span><a class="disclaimer" href="disclaimer.html" target="_blank">Important Disclaimers and Legal Information</a>
</div>

<SCRIPT LANGUAGE="JavaScript"><!--
 var page_title="ALTER VIEW Statement (Data Definition)";

        if (page_title !='' &&
        parent.document.title != null) {
 parent.document.title =
          page_title;
 } 
 var
        anchor = document.getElementById(location.hash.substring(+1)); if (typeof (anchor)
        !='undefined' && anchor !=null){
        var top = anchor.getBoundingClientRect().top; } 
//-->
</SCRIPT>
</body>
</html>