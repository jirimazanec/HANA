<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta http-equiv="cache-control" content="max-age=0"/>
<meta http-equiv="cache-control" content="no-cache"/>
<meta http-equiv="expires" content="0"/>
<meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT"/>
<meta http-equiv="pragma" content="no-cache"/>
<meta name="abstract" content="A sequence is a database object that generates an automatically incremented list of numeric values according to the rules defined in the sequence specification. The sequence of numeric values is generated in an ascending or descending order at a defined increment interval, and the numbers generated by a sequence can be used by applications, for example, to identify the rows and columns of a table."/>
<meta name="description" content="A sequence is a database object that generates an automatically incremented list of numeric values according to the rules defined in the sequence specification. The sequence of numeric values is generated in an ascending or descending order at a defined increment interval, and the numbers generated by a sequence can be used by applications, for example, to identify the rows and columns of a table."/>

<link rel="stylesheet" type="text/css" href="css/documentation.css?x=5100533093501216"/>
<title>Sequences</title>
<!--[if lte IE 7]><style>
      .codeblock{
          overflow:visible;
      }</style><![endif]-->
<script type="text/javascript"><!-- 
        var loops = 10; 
        function GetLoio() { return "loio301d1ef633974273ad44d2f38e4f4460";
        } 
        function Sync() { if (parent.SAP_TOC && parent.SAP_TOC.gMenu) {parent.SAP_TOC.gMenu.SelectEntry(GetLoio()); } 
        else if (parent != self && loops-- > 0) { window.setTimeout( "Sync()",500 ); } } 
        Sync(); 

 function hijackLink (elem) { if(elem.href.indexOf('#')
          > 0 ){ var hr = elem.href.substr(0,
          elem.href.indexOf('#')); var anc = elem.href.substr(elem.href.indexOf('#'),
          elem.href.length); var dum = Math.random(); parent.window.location = hr + "?x=" + dum +
          anc; } } //-->
</script>
</head>
<body class="sap_bluecrystal" id="loio301d1ef633974273ad44d2f38e4f4460">
<div id="wrapper"><div id="container">

	<h1 class="title topictitle1">Sequences</h1>

	
	<div class="body conbody"><p class="shortdesc">A sequence is a database object that generates an automatically incremented list of
		numeric values according to the rules defined in the sequence specification. The sequence of
		numeric values is generated in an ascending or descending order at a defined increment
		interval, and the numbers generated by a sequence can be used by applications, for example,
		to identify the rows and columns of a table.</p>

		<p class="p">Sequences are not associated with tables; they are used by applications, which can use CURRVAL
			in a SQL statement to get the current value generated by a sequence and NEXTVAL to
			generate the next value in the defined sequence. Sequences provide an easy way to
			generate the unique values that applications use, for example, to identify a table row
			or a field. In the sequence specification, you can set options that control the start
			and end point of the sequence, the size of the increment size, or the minimum and
			maximum allowed value. You can also specify if the sequence should recycle when it
			reaches the maximum value specified. The relationship between sequences and tables is
			controlled by the application. Applications can reference a sequence object and
			coordinate the values across multiple rows and tables.</p>

		<p class="p"><span class="ph pname">SAP HANA</span> Extended Application Services (<span class="ph pname">SAP HANA</span> XS)
			enables you to create a database sequence as a transportable design-time file in the
			repository. Repository files can be read by applications that you develop. </p>

		<p class="p">You can use database sequences to perform the following operations: </p>

		<ul class="ul" id="loio301d1ef633974273ad44d2f38e4f4460__ul_aks_nlz_f3">
			<li class="li">Generate unique, primary key values, for example, to identify the rows and columns
				of a table </li>

			<li class="li">Coordinate keys across multiple rows or tables </li>

		</ul>

		<p class="p">The following example shows the contents of a valid sequence-definition file for a
			sequence called MYSEQUENCE. Note that, in this example, no increment value is defined,
			so the default value of 1 (ascend by 1) is assumed. To set a descending sequence of 1,
			set the <span class="keyword">increment_by</span> value to -1.</p>

		<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">schema= "TEST_DUMMY";
start_with= 10;
maxvalue= 30;
nomaxvalue=false;
minvalue= 1;
nominvalue=true;
cycles= false;
reset_by= "SELECT T1.\"Column2\" FROM \"MYSCHEMA\".\"com.acme.test.tables::MY_TABLE1\" AS T1 LEFT JOIN \"MYSCHEMA\".\"com.acme.test.tables::MY_TABLE2\" AS T2 ON T1.\"Column1\" = T2.\"Column1\"";
depends_on=["com.acme.test.tables::MY_TABLE1", "com.acme.test.tables::MY_TABLE2"];
</pre></div>

		<p class="p">The sequence definition is stored in the repository with the suffix
				<span class="ph filepath">hdbsequence</span>, for example,
				<span class="ph filepath">MYSEQUENCE.hdbsequence</span>.</p>

		<div class="note note"><span class="notetitle">Note</span> A schema generated from an <samp class="ph codeph">.hdbsequence</samp> artifact can also be used in
			the context of Core Data Services (CDS).</div>

		<p class="p">If you activate a sequence-definition object in <span class="ph pname">SAP HANA</span> XS, the activation
			process checks if a sequence with the same name already exists in the <span class="ph pname">SAP
				HANA</span> repository. If a sequence with the specified name does not exist, the
			repository creates a sequence with the specified name and makes
				<span class="ph filepath">_SYS_REPO</span> the owner of the new sequence.  </p>

		<p class="p">In a sequence defined using the <span class="ph filepath">.hdbsequence</span> syntax, the
				<samp class="ph codeph">reset_by</samp> keyword enables you to reset the sequence using a query on
			any view, table or even table function. However, any dependency must be declared
			explicitly, for example, with the <samp class="ph codeph">depends_on</samp> keyword. The target table
			or view specified in the <samp class="ph codeph">depends_on</samp> keyword <span class="ph emphasis emphasis">must</span>
			be mentioned in the <samp class="ph codeph">SELECT</samp> query that defines the reset condition. If
			the table or view specified in the dependency does not exist, the activation of the
			object in the repository fails. </p>

		<div class="note note"><span class="notetitle">Note</span> On initial activation of the sequence definition, no check is performed to establish
			the existence of the target view (or table) in the dependency; such a check is only made
			on <span class="ph emphasis emphasis">reactivation</span> of the sequence definition.</div>

		<div class="section"><div class="section_title">Security Considerations</div><div type="Security Considerations">
			
			<p class="p">It is important to bear in mind that an incorrectly defined sequences can lead to
				security-related problems. For example, if the sequencing process becomes corrupted,
				it can result in data overwrite. This can happen if the index has a maximum value
				which rolls-over, or if a defined reset condition is triggered unexpectedly. A
				roll-over can be achieved by an attacker forcing data to be inserted by flooding the
				system with requests. Overwriting log tables is a known practice for deleting
				traces. To prevent unexpected data overwrite, use the following settings:</p>

			<ul class="ul" id="loio301d1ef633974273ad44d2f38e4f4460__ul_fhx_gth_qn">
				<li class="li"><samp class="ph codeph">cycles= false</samp></li>

				<li class="li">Avoid using the <samp class="ph codeph">reset_by</samp> feature</li>

			</ul>

		</div></div>

	</div>

	<div class="related-links"> 
<div class="relinfo"><div class="relinfotitle ">Related Information</div>
<div><a class="link" href="default.html?0479cfd36cb4448dbc9fbb854b3aee70.html" target="_top" title="SAP HANA Extended Application Services (SAP HANA XS) enables you to use the hdbsequence syntax to create a database sequence as a design-time file in the repository. The design-time artifact that contains the sequence definition must adhere to the .hdbsequence syntax specified below.">Sequence Configuration Syntax</a></div>
</div>
</div>
</div></div><div class="footer" id="custom-footer">
	<div id="custom-footerSpacer"><hr width="350px" align="left"/></div>
	<a class="copyright" href="copyright.html" target="_blank">Copyright</a><span class="separator"> | </span><a class="disclaimer" href="disclaimer.html" target="_blank">Important Disclaimers and Legal Information</a>
</div>

<SCRIPT LANGUAGE="JavaScript"><!--
 var page_title="Sequences";

        if (page_title !='' &&
        parent.document.title != null) {
 parent.document.title =
          page_title;
 } 
 var
        anchor = document.getElementById(location.hash.substring(+1)); if (typeof (anchor)
        !='undefined' && anchor !=null){
        var top = anchor.getBoundingClientRect().top; } 
//-->
</SCRIPT>
</body>
</html>