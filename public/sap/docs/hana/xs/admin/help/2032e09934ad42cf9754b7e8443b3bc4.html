<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta http-equiv="cache-control" content="max-age=0"/>
<meta http-equiv="cache-control" content="no-cache"/>
<meta http-equiv="expires" content="0"/>
<meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT"/>
<meta http-equiv="pragma" content="no-cache"/>
<meta name="abstract" content="SAP HANA applications can use single sign-on (SSO) authentication with SAP logon tickets to confirm the logon credentials of the user calling an application service."/>
<meta name="description" content="SAP HANA applications can use single sign-on (SSO) authentication with SAP logon tickets to confirm the logon credentials of the user calling an application service."/>

<link rel="stylesheet" type="text/css" href="css/documentation.css?x=7561469558699189"/>
<title>Configure SSO with SAP Logon Tickets for SAP HANA XS Applications</title>
<!--[if lte IE 7]><style>
      .codeblock{
          overflow:visible;
      }</style><![endif]-->
<script type="text/javascript"><!-- 
        var loops = 10; 
        function GetLoio() { return "loio2032e09934ad42cf9754b7e8443b3bc4";
        } 
        function Sync() { if (parent.SAP_TOC && parent.SAP_TOC.gMenu) {parent.SAP_TOC.gMenu.SelectEntry(GetLoio()); } 
        else if (parent != self && loops-- > 0) { window.setTimeout( "Sync()",500 ); } } 
        Sync(); 

 function hijackLink (elem) { if(elem.href.indexOf('#')
          > 0 ){ var hr = elem.href.substr(0,
          elem.href.indexOf('#')); var anc = elem.href.substr(elem.href.indexOf('#'),
          elem.href.length); var dum = Math.random(); parent.window.location = hr + "?x=" + dum +
          anc; } } //-->
</script>
</head>
<body class="sap_bluecrystal" id="loio2032e09934ad42cf9754b7e8443b3bc4">
<div id="wrapper"><div id="container">

	<h1 class="title topictitle1">Configure SSO with SAP Logon Tickets for SAP HANA XS Applications</h1>

	
	<div class="body taskbody"><p class="shortdesc"><span class="ph pname">SAP HANA</span> applications can use single sign-on (SSO) authentication with
		SAP logon tickets to confirm the logon credentials of the  user calling an application
		service. </p>

		<div class="section prereq p"><div class="tasklabel"><h2 class="sectiontitle tasklabel">Prerequisites</h2></div>
			<ul class="ul" id="loio2032e09934ad42cf9754b7e8443b3bc4__ul_m4z_32n_bl">
				<li class="li">You have administrator access to the <span class="ph pname">SAP HANA</span> system hosting the
					applications to which you want to enable access with SAP logon tickets.<div class="note note"><span class="notetitle">Note</span> To
						maintain security and authentication settings for <span class="ph pname">SAP HANA</span> XS
						applications, the administrator user needs the privileges granted by the
							<span class="ph pname">SAP HANA</span> XS role
							<span class="keyword uilabel">RuntimeConfAdministrator</span>.</div>
</li>

				<li class="li">The CommonCryptoLib library <span class="ph filepath">libsapcrypto.so</span> is installed
					and available.</li>

				<li class="li">A certificate collection with the purpose <span class="ph uicontrol">SAP LOGON</span> is
					available.  For more information, see <cite class="cite">Managing Client Certificates in the
						SAP HANA Database</cite>.  </li>

			</ul>

		</div>

		<div class="section context"><div class="tasklabel"><h2 class="sectiontitle tasklabel">Context</h2></div>
			<p class="p">To enable <span class="ph pname">SAP HANA</span> applications to use single sign-on (SSO) authentication with
				SAP logon tickets to confirm the logon credentials of a user requesting an
				application service, you must ensure that an SAP server is available that can issue
				SAP logon tickets. In addition, you need to add the server certificate of the
				ticket-issuing system to the <span class="ph pname">SAP HANA</span> trust store for authentication
				using logon tickets.</p>

		</div>
		<div class="ol steps tasklabel"><h2 class="sectiontitle tasklabel">Procedure</h2></div><ol class="ol steps"><li class="li step stepexpand">
				<span class="ph cmd">Add the server certificate of the SAP system that issues SAP logon tickets to
					the <span class="ph pname">SAP HANA</span> trust store, that is the certificate collection with
					purpose <span class="ph uicontrol">SAP LOGON</span>. </span>
				<ol type="a" class="ol substeps" id="loio2032e09934ad42cf9754b7e8443b3bc4__substeps_kzt_ztr_jt">
					<li class="li substep substepexpand">
						<span class="ph cmd">Open the <span class="ph">SAP HANA
                                                cockpit</span>.</span>
						<div class="itemgroup info">
							<p class="p">The <span class="ph">SAP HANA
                                                cockpit</span> is available at the following URL:
										<span class="ph filepath">http://<var class="keyword varname">&lt;WebServerHost&gt;</var>:80<var class="keyword varname">&lt;SAPHANAinstance&gt;</var>/sap/hana/admin/cockpit</span>.</p>

							<div class="note note"><span class="notetitle">Note</span> You must have the privileges required to perform administration
								tasks with the certificate management apps of the <span class="ph">SAP HANA
                                                cockpit</span>.</div>

						</div>
					</li>

					<li class="li substep substepexpand">
						<span class="ph cmd">Open the <span class="ph uicontrol">Certificate Store</span> app. </span>
					</li>

					<li class="li substep substepexpand">
						<span class="ph cmd">Import the server certificate of the ticket-issuing system into the
							certificate store.</span>
					</li>

					<li class="li substep substepexpand">
						<span class="ph cmd">Open the <span class="ph uicontrol">Certificate Collections</span> app.</span>
					</li>

					<li class="li substep substepexpand">
						<span class="ph cmd">Select the collection with purpose <span class="ph uicontrol">SAP
							LOGON</span>.</span>
					</li>

					<li class="li substep substepexpand">
						<span class="ph cmd">Add the server certificate of the ticket-issuing system to this
							collection.</span>
					</li>

				</ol>

			</li>
<li class="li step stepexpand">
				<span class="ph cmd">In <span class="ph pname">SAP HANA</span>, configure the details of the server that issues SAP logon
					tickets.</span>
				<div class="itemgroup info">
					<p class="p">This step is optional but ensures that an SAP logon ticket can always be obtained in those
						cases where no SAP logon ticket is immediately available for the user trying
						to log on.</p>

					<p class="p"><img class="image" id="loio2032e09934ad42cf9754b7e8443b3bc4__image_ojw_khk_hl" src="loio599bf4c40dbe4b6f9ed9d28a58dd3bc9_LowRes.png" alt="Set SAP Logon Ticket Redirect URL" title="Set SAP Logon Ticket Redirect URL"/></p>

				</div>
				<ol type="a" class="ol substeps" id="loio2032e09934ad42cf9754b7e8443b3bc4__substeps_lxm_djk_hl">
					<li class="li substep substepexpand">
						<span class="ph cmd">Start the <span class="ph pname">SAP HANA</span> studio and open the <span class="keyword uilabel">Administration</span>
							perspective.</span>
					</li>

					<li class="li substep substepexpand">
						<span class="ph cmd">In the <span class="keyword uilabel">Configuration</span> tab, expand (or add) the
							section <span class="ph menucascade"><img src="images/navstart.gif" alt="Start of the navigation path" title="Start of the navigation path"/> <span class="ph uicontrol">xsengine.ini</span> <img src="images/navstep.gif" alt="Next navigation step" title="Next navigation step"/> <span class="ph uicontrol">authentication</span> <img src="images/navend.gif" alt="End of the navigation path" title="End of the navigation path"/></span>.</span>
					</li>

					<li class="li substep substepexpand">
						<span class="ph cmd">Set (or add) the parameter:<span class="keyword parmname">logonticket_redirect_url</span>.</span>
						<div class="itemgroup info">Enter the URL that points to the system and service issuing SAP logon tickets, for
								example:<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">https://<var class="keyword varname">&lt;hostname&gt;</var>:<var class="keyword varname">&lt;portnumber&gt;</var>/<var class="keyword varname">&lt;path/to/logon_ticket/service&gt;</var></pre></div>
<ul class="ul" id="loio2032e09934ad42cf9754b7e8443b3bc4__ul_uzw_gg1_jm">
								<li class="li"><var class="keyword varname">&lt;hostname&gt;</var><p class="p">The hostname of the server
										issuing/storing the SAP logon tickets</p>
</li>

								<li class="li"><var class="keyword varname">&lt;portnumber&gt;</var><p class="p">The port number accepting
										connections on the target server issuing/storing the SAP
										logon tickets</p>
</li>

								<li class="li"><var class="keyword varname">&lt;/path/to/logon_ticket/service&gt;</var><p class="p">Path to the
										service on the target system which handles the request for
										the SAP logon ticket. You can write your own custom ABAP
										service to handle these requests.</p>
</li>

							</ul>
<p class="p">For example, the following URL would enable access to the
									<span class="ph emphasis emphasis">custom</span> (user-defined) SAP logon ticket
								service <span class="ph filepath">zredirectwlogon</span> using port
									<samp class="ph codeph">44333</samp> on the ABAP server
									<samp class="ph codeph">host.acme.com</samp>:</p>
<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">https://host.acme.com:44333/sap/bc/zredirectwlogon?sap-client=<var class="keyword varname">&lt;SAPClientNr&gt;</var>.</pre></div>
</div>
					</li>

				</ol>

			</li>
<li class="li step stepexpand">
				<span class="ph cmd">Maintain the runtime configuration for the application that you want to use SAP logon
					tickets for user authentication.</span>
				<div class="itemgroup info">
					<div class="p">You can use the Web-based <span class="keyword uilabel">SAP HANA XS Administration Tool</span> to complete
						this step. The tool is available on the <span class="ph pname">SAP HANA</span> XS Web
						server at the following URL:
								<span class="ph filepath">http://<var class="keyword varname">&lt;WebServerHost&gt;</var>:80<var class="keyword varname">&lt;SAPHANAinstance&gt;</var>/sap/hana/xs/admin/</span>.
						Choose <span class="ph uicontrol">XS Artifact Administration</span>. <div class="note note"><span class="notetitle">Note</span> The user
							maintaining the security settings needs the privileges granted by the
								<span class="ph pname">SAP HANA</span> XS role
								<span class="keyword uilabel">RuntimeConfAdministrator</span>.</div>
</div>

				</div>
				<ol type="a" class="ol substeps" id="loio2032e09934ad42cf9754b7e8443b3bc4__substeps_fvj_yqz_rp">
					<li class="li substep substepexpand">
						<span class="ph cmd">Locate the root package of the application whose runtime configuration
							you want to modify. </span>
						<div class="itemgroup info">Use the <span class="ph uicontrol">Packages</span> list in the
								<span class="ph uicontrol">Application Objects</span> pane.</div>
					</li>

					<li class="li substep substepexpand">
						<span class="ph cmd">In the <span class="ph uicontrol">Security &amp; Authentication</span> tab, enable
							support for <span class="ph uicontrol">SAP Logon/Assertion Ticket</span>.</span>
					</li>

					<li class="li substep substepexpand">
						<span class="ph cmd">Save the changes you have made.</span>
					</li>

				</ol>

			</li>
</ol>

	</div>

</div></div><div class="footer" id="custom-footer">
	<div id="custom-footerSpacer"><hr width="350px" align="left"/></div>
	<a class="copyright" href="copyright.html" target="_blank">Copyright</a><span class="separator"> | </span><a class="disclaimer" href="disclaimer.html" target="_blank">Important Disclaimers and Legal Information</a>
</div>

<SCRIPT LANGUAGE="JavaScript"><!--
 var page_title="Configure SSO with SAP Logon Tickets for SAP HANA XS Applications";

        if (page_title !='' &&
        parent.document.title != null) {
 parent.document.title =
          page_title;
 } 
 var
        anchor = document.getElementById(location.hash.substring(+1)); if (typeof (anchor)
        !='undefined' && anchor !=null){
        var top = anchor.getBoundingClientRect().top; } 
//-->
</SCRIPT>
</body>
</html>